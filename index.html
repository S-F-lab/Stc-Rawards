<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="monetag" content="98616f02537817f6b0075b625265e337">
    <title>STC-REWARDS | Earn Crypto</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Firebase SDK (with Firestore) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <style>
        /* ðŸŽ¨ FULL CSS â€“ exactly as in your original design (unchanged) */
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #8b5cf6;
            --dark: #0f172a;
            --darker: #0a0f1f;
            --card-bg: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Improved Header with Glass Effect */
        header {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(99, 102, 241, 0.3);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            height: 70px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 900;
            font-size: 24px;
            color: var(--light);
            text-decoration: none;
            white-space: nowrap;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .logo i {
            font-size: 28px;
        }

        .main-nav {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            justify-content: center;
            margin: 0 20px;
            overflow-x: auto;
            padding: 5px 0;
        }

        .main-nav::-webkit-scrollbar {
            display: none;
        }

        .nav-links {
            display: flex;
            gap: 8px;
            list-style: none;
            white-space: nowrap;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            padding: 12px 18px;
            border-radius: 10px;
            transition: all 0.3s;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
            display: inline-block;
            min-height: 44px;
            line-height: 20px;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.5s;
        }

        .nav-links a:hover::before {
            left: 100%;
        }

        .nav-links a:hover {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.15);
            border-color: rgba(99, 102, 241, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.1);
        }

        .nav-links a.active {
            background: rgba(99, 102, 241, 0.2);
            color: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.2);
        }

        .auth-buttons {
            display: flex;
            gap: 12px;
            white-space: nowrap;
        }

        /* Improved Buttons */
        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.3px;
            min-height: 44px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(99, 102, 241, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            color: var(--light);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-secondary:hover {
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.1));
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success), #0da271);
            color: white;
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(16, 185, 129, 0.4);
        }

        .btn-mining {
            background: linear-gradient(45deg, #f59e0b, #f97316);
            color: white;
            font-weight: 800;
            padding: 14px 28px;
            font-size: 16px;
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.3);
        }

        .btn-mining:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(245, 158, 11, 0.4);
        }

        /* Improved Hero Section */
        .hero {
            padding: 140px 0 80px;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.95));
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
        }

        .hero-content {
            max-width: 700px;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 48px;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 24px;
            background: linear-gradient(45deg, var(--light), var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 4px 30px rgba(99, 102, 241, 0.3);
        }

        .hero p {
            font-size: 18px;
            color: #cbd5e1;
            margin-bottom: 35px;
            line-height: 1.7;
            max-width: 600px;
        }

        .hero-stats {
            display: flex;
            gap: 25px;
            margin-top: 50px;
            flex-wrap: wrap;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 20px;
            min-width: 150px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        .stat-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.05), transparent);
            z-index: -1;
        }

        .stat-box:hover {
            transform: translateY(-5px);
            border-color: rgba(99, 102, 241, 0.4);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 14px;
            font-weight: 600;
        }

        /* Improved Cards with Glass Effect */
        .card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(15px);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.5s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 36px;
            font-weight: 900;
            text-align: center;
            margin-bottom: 50px;
            color: var(--light);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 2px;
        }

        /* Improved Features */
        .features {
            padding: 100px 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 24px;
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
        }

        /* Improved Mining Section */
        .mining-section {
            padding: 100px 0;
            background: var(--darker);
            position: relative;
        }

        .mining-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 35px;
            align-items: center;
        }

        .mining-status {
            position: relative;
        }

        .mining-timer {
            font-family: 'Inter', monospace;
            font-size: 64px;
            font-weight: 800;
            color: var(--warning);
            margin: 20px 0;
            text-align: center;
            text-shadow: 0 0 30px rgba(245, 158, 11, 0.5);
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.1);
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin: 25px 0;
            position: relative;
        }

        .progress-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(45deg, var(--warning), var(--primary));
            border-radius: 6px;
            width: 0%;
            transition: width 1s linear;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
        }

        /* Improved Ads Section */
        .ads-section {
            padding: 100px 0;
        }

        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .ad-card {
            text-align: center;
            padding: 25px;
            position: relative;
        }

        .ad-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(99, 102, 241, 0.1), transparent);
            border-radius: 16px;
            z-index: -1;
        }

        .ad-reward {
            font-size: 24px;
            font-weight: 800;
            color: var(--warning);
            margin: 15px 0;
            position: relative;
            display: inline-block;
        }

        .ad-reward::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 10%;
            width: 80%;
            height: 2px;
            background: linear-gradient(45deg, transparent, var(--warning), transparent);
        }

        /* Improved Dashboard */
        .dashboard {
            padding: 120px 0 80px;
            min-height: 100vh;
        }

        .user-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .user-info h2 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 900;
            background: linear-gradient(45deg, var(--light), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .user-info p {
            color: #94a3b8;
            font-size: 15px;
        }

        .balance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .balance-card {
            padding: 25px;
            position: relative;
            overflow: hidden;
        }

        .balance-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
        }

        .balance-label {
            color: #94a3b8;
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .balance-amount {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 8px;
        }

        .balance-value {
            color: var(--success);
            font-weight: 700;
            font-size: 15px;
        }

        /* NEW: Stylish Referral Code Input Section */
        .referral-code-input-section {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 2px dashed rgba(99, 102, 241, 0.4);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
        }

        .referral-code-input-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.05), transparent);
        }

        .referral-input-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .referral-input {
            flex: 1;
            max-width: 400px;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            color: var(--light);
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s;
            letter-spacing: 1px;
        }

        .referral-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
        }

        .referral-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
            font-weight: 500;
        }

        .input-hint {
            font-size: 13px;
            color: #94a3b8;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .input-hint i {
            color: var(--warning);
        }

        /* Improved Referral Code Box */
        .referral-code-box {
            background: linear-gradient(135deg, var(--primary-dark), var(--accent));
            border-radius: 16px;
            padding: 35px;
            text-align: center;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(79, 70, 229, 0.3);
        }

        .referral-code-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect width="20" height="20" fill="none"/><circle cx="2" cy="2" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.3;
        }

        .referral-code {
            font-family: 'Courier New', monospace;
            font-size: 28px;
            letter-spacing: 3px;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            display: inline-block;
            border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            font-weight: 800;
            position: relative;
            overflow: hidden;
        }

        .referral-code::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 3s infinite;
        }

        .referral-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .referral-stat {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            min-width: 180px;
            position: relative;
            overflow: hidden;
        }

        .referral-stat::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        }

        .referral-stat-value {
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .referral-stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Referral Link Container */
        .referral-link-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .referral-link-input {
            width: 100%;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            letter-spacing: 0.5px;
        }

        /* NEW: Animated Stats Counter */
        .counter {
            font-weight: 900;
            position: relative;
            display: inline-block;
        }

        .counter::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .counter.animate::after {
            transform: scaleX(1);
        }

        /* NEW: Floating Animation */
        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* NEW: Glow Effect */
        .glow {
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
        }

        .glow:hover {
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
        }

        /* NEW: Particle Effect for Referral Section */
        .particle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle at center, rgba(99, 102, 241, 0.3), transparent);
            z-index: 0;
        }

        /* NEW: Gradient Text */
        .gradient-text {
            background: linear-gradient(45deg, var(--primary), var(--accent), var(--warning));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% 200%;
            animation: gradient 3s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* NEW: Ribbon for Referral Stats */
        .ribbon {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--warning);
            color: var(--dark);
            padding: 5px 15px;
            font-size: 12px;
            font-weight: 900;
            border-radius: 6px;
            transform: rotate(10deg);
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        /* NEW: Progress Circle */
        .progress-circle {
            width: 100px;
            height: 100px;
            position: relative;
            margin: 20px auto;
        }

        .progress-circle svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .progress-circle-bg {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 8;
        }

        .progress-circle-fill {
            fill: none;
            stroke: var(--primary);
            stroke-width: 8;
            stroke-linecap: round;
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 1s ease-in-out;
        }

        .progress-circle-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            font-weight: 900;
            color: var(--light);
        }

        /* NEW: Enhanced Referral Code Entry Section */
        .referral-entry-card {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.15));
            border: 2px solid rgba(99, 102, 241, 0.3);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin: 50px 0;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .referral-entry-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
            z-index: 0;
        }

        .referral-entry-content {
            position: relative;
            z-index: 1;
        }

        .referral-entry-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(45deg, var(--warning), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .referral-entry-subtitle {
            color: #94a3b8;
            font-size: 16px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .referral-input-group {
            display: flex;
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
            flex-wrap: wrap;
            justify-content: center;
        }

        .referral-input-wrapper {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .referral-input-wrapper i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            font-size: 20px;
        }

        .referral-input-wrapper input {
            width: 100%;
            padding: 18px 20px 18px 55px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            letter-spacing: 1px;
        }

        .referral-input-wrapper input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
            background: rgba(0, 0, 0, 0.4);
        }

        .referral-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .referral-benefit {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .referral-benefit:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .referral-benefit i {
            font-size: 32px;
            margin-bottom: 15px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .referral-benefit h4 {
            font-size: 18px;
            margin-bottom: 10px;
            color: var(--light);
        }

        .referral-benefit p {
            color: #94a3b8;
            font-size: 14px;
            line-height: 1.5;
        }

        .bonus-tag {
            display: inline-block;
            background: linear-gradient(45deg, var(--warning), #f97316);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            margin-left: 10px;
            animation: pulse 2s infinite;
        }

        /* NEW: Success Message */
        .success-message {
            background: rgba(16, 185, 129, 0.15);
            border: 2px solid var(--success);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* NEW: Referral Tier System */
        .tier-system {
            margin: 50px 0;
        }

        .tier-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .tier-card {
            padding: 30px;
            border-radius: 16px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .tier-card.basic {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 2px solid rgba(99, 102, 241, 0.3);
        }

        .tier-card.pro {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.1));
            border: 2px solid rgba(245, 158, 11, 0.3);
        }

        .tier-card.elite {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(34, 197, 94, 0.1));
            border: 2px solid rgba(16, 185, 129, 0.3);
        }

        .tier-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            padding: 8px 25px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tier-card.pro .tier-badge {
            background: linear-gradient(45deg, var(--warning), #f97316);
        }

        .tier-card.elite .tier-badge {
            background: linear-gradient(45deg, var(--success), #059669);
        }

        .tier-reward {
            font-size: 32px;
            font-weight: 900;
            margin: 20px 0;
            color: var(--light);
        }

        /* Forms */
        .auth-form-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 120px 20px;
        }

        .auth-form {
            width: 100%;
            max-width: 450px;
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .form-title {
            text-align: center;
            font-size: 28px;
            margin-bottom: 30px;
            color: var(--light);
            font-weight: 900;
            background: linear-gradient(45deg, var(--light), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #94a3b8;
            font-size: 14px;
            font-weight: 600;
        }

        .form-input {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--light);
            font-size: 15px;
            transition: all 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.2);
        }

        .divider {
            text-align: center;
            margin: 25px 0;
            position: relative;
            color: #64748b;
            font-size: 14px;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        }

        .divider span {
            background: var(--card-bg);
            padding: 0 15px;
            position: relative;
        }

        .btn-google {
            width: 100%;
            background: white;
            color: #333;
            justify-content: center;
            font-weight: 700;
        }

        .btn-google:hover {
            background: #f1f1f1;
            transform: translateY(-2px);
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 35px;
            width: 100%;
            max-width: 450px;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #94a3b8;
            font-size: 24px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            color: var(--light);
            transform: rotate(90deg);
        }

        /* Footer */
        footer {
            background: var(--darker);
            padding: 60px 0 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-links h4 {
            margin-bottom: 20px;
            color: var(--light);
            font-size: 18px;
            font-weight: 700;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #64748b;
            font-size: 13px;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 90px;
            right: 20px;
            padding: 16px 20px;
            background: linear-gradient(45deg, var(--success), #0da271);
            color: white;
            border-radius: 12px;
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease-out;
            max-width: 350px;
            font-size: 14px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .notification.error {
            background: linear-gradient(45deg, var(--danger), #dc2626);
        }

        .notification.warning {
            background: linear-gradient(45deg, var(--warning), #d97706);
        }

        .notification.info {
            background: linear-gradient(45deg, var(--info), #2563eb);
        }

        /* Page Transitions */
        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        /* Loading Spinner */
        .spinner {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Disabled state */
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Active mining indicator */
        .mining-active {
            background: linear-gradient(45deg, #10b981, #059669) !important;
        }

        /* Stats animation */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Withdrawal History Table */
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            overflow: hidden;
        }

        .history-table th {
            background: rgba(99, 102, 241, 0.2);
            padding: 18px;
            text-align: left;
            color: var(--primary);
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .history-table td {
            padding: 18px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
        }

        .history-table tr:last-child td {
            border-bottom: none;
        }

        .history-table tr:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            text-transform: uppercase;
            display: inline-block;
            letter-spacing: 0.5px;
        }

        .status-pending {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.2), rgba(245, 158, 11, 0.1));
            color: var(--warning);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .status-processing {
            background: linear-gradient(45deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.1));
            color: var(--info);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .status-completed {
            background: linear-gradient(45deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1));
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-failed {
            background: linear-gradient(45deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1));
            color: var(--danger);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        /* Withdrawal History Page */
        .withdrawal-history-page {
            padding: 120px 0 80px;
        }

        .history-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 600;
        }

        .filter-btn.active {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-color: transparent;
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);
        }

        .filter-btn:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #94a3b8;
        }

        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        /* Firebase User Profile */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }

        .profile-dropdown {
            position: relative;
        }

        .profile-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 10px 0;
            min-width: 220px;
            display: none;
            z-index: 100;
            margin-top: 10px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .profile-dropdown:hover .profile-menu {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .profile-menu a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            color: var(--light);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .profile-menu a:hover {
            background: rgba(99, 102, 241, 0.15);
            color: var(--primary);
            padding-left: 25px;
        }

        /* NEW STYLES FOR MINING PERSISTENCE */
        .mining-persistence-notice {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1));
            border: 1px solid var(--warning);
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
            font-size: 14px;
            color: var(--warning);
            font-weight: 600;
        }
        
        /* NEW STYLES FOR TOKEN PAGE TABS */
        .token-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .token-tab {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 10px;
            color: #94a3b8;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .token-tab.active {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            border-color: transparent;
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);
        }
        
        .token-tab:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }
        
        .token-content {
            display: none;
        }
        
        .token-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .token-details {
            line-height: 1.7;
            color: #cbd5e1;
        }
        
        .token-details h3 {
            margin: 25px 0 15px;
            color: var(--light);
            font-size: 22px;
            font-weight: 800;
        }
        
        /* NEW: Attractive UL Styles */
        .attractive-ul {
            list-style: none;
            margin-left: 0;
            padding-left: 0;
        }
        
        .attractive-ul li {
            margin-bottom: 15px;
            padding-left: 35px;
            position: relative;
            line-height: 1.6;
            font-size: 15px;
        }
        
        .attractive-ul li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: 900;
            background: rgba(16, 185, 129, 0.2);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
        
        .attractive-ul.warning li:before {
            content: "âš ";
            color: var(--warning);
            background: rgba(245, 158, 11, 0.2);
        }
        
        .attractive-ul.info li:before {
            content: "i";
            color: var(--info);
            background: rgba(59, 130, 246, 0.2);
            font-style: italic;
            font-weight: 900;
        }
        
        .attractive-ul.danger li:before {
            content: "!";
            color: var(--danger);
            background: rgba(239, 68, 68, 0.2);
        }
        
        .attractive-ul.primary li:before {
            content: "âœ¦";
            color: var(--primary);
            background: rgba(99, 102, 241, 0.2);
        }
        
        /* Roadmap timeline */
        .roadmap-timeline {
            position: relative;
            padding-left: 40px;
            border-left: 3px solid var(--primary);
        }
        
        .roadmap-phase {
            margin-bottom: 40px;
            position: relative;
        }
        
        .roadmap-phase::before {
            content: '';
            position: absolute;
            left: -48px;
            top: 0;
            width: 36px;
            height: 36px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }
        
        .roadmap-phase.completed::before {
            background: linear-gradient(45deg, var(--success), #0da271);
            content: 'âœ“';
            color: white;
            font-size: 16px;
            font-weight: 900;
        }
        
        .roadmap-phase.current::before {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            content: 'â—';
            color: white;
            font-size: 24px;
        }
        
        .roadmap-phase.future::before {
            background: var(--accent);
            content: 'â˜†';
            color: white;
        }

        /* Price fluctuation animation */
        .price-fluctuation {
            animation: pricePulse 3s infinite;
            position: relative;
        }

        @keyframes pricePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .price-note {
            font-size: 12px;
            color: #94a3b8;
            margin-top: 5px;
            font-style: italic;
        }

        /* Market conditions indicator */
        .market-indicator {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 800;
            margin-left: 10px;
            animation: marketPulse 4s infinite;
        }

        @keyframes marketPulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .market-up {
            background: linear-gradient(45deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1));
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .market-down {
            background: linear-gradient(45deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1));
            color: var(--danger);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .market-stable {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.2), rgba(245, 158, 11, 0.1));
            color: var(--warning);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        /* Growing number animation */
        .growing-number {
            animation: growNumber 5s ease-out infinite;
        }

        @keyframes growNumber {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* NEW: Withdrawal Options Styles */
        .withdrawal-options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .withdrawal-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .withdrawal-option:hover {
            background: rgba(99, 102, 241, 0.15);
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.2);
        }
        
        .withdrawal-option.selected {
            background: rgba(99, 102, 241, 0.2);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }
        
        .withdrawal-option i {
            font-size: 28px;
            margin-bottom: 15px;
            display: block;
        }
        
        .crypto-icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 15px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .usdt-bg { background: linear-gradient(45deg, #26a17b, #2dd4bf); }
        .btc-bg { background: linear-gradient(45deg, #f7931a, #fbbf24); }
        .eth-bg { background: linear-gradient(45deg, #627eea, #818cf8); }
        .usdc-bg { background: linear-gradient(45deg, #2775ca, #3b82f6); }
        .bank-bg { background: linear-gradient(45deg, #8b5cf6, #6366f1); }
        
        .withdrawal-fee {
            font-size: 13px;
            color: #94a3b8;
            margin-top: 8px;
        }
        
        .withdrawal-minimum {
            font-size: 12px;
            color: var(--warning);
            margin-top: 5px;
        }
        
        /* NEW: Bank Transfer Form */
        .bank-transfer-form {
            display: none;
        }
        
        .bank-transfer-form.active {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        .method-details {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        
        /* Coin Earn Rate Info */
        .coin-rate-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .rate-box {
            background: rgba(245, 158, 11, 0.15);
            border: 2px solid rgba(245, 158, 11, 0.3);
            border-radius: 12px;
            padding: 15px 20px;
            text-align: center;
            min-width: 220px;
            transition: all 0.3s;
        }
        
        .rate-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(245, 158, 11, 0.2);
        }
        
        .rate-box h4 {
            color: var(--warning);
            margin-bottom: 8px;
            font-size: 15px;
            font-weight: 700;
        }
        
        .rate-box p {
            font-size: 14px;
            color: #cbd5e1;
            font-weight: 600;
        }
        
        /* Progress Bar for Coin Collection */
        .coin-progress-container {
            background: rgba(255, 255, 255, 0.1);
            height: 10px;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }
        
        .coin-progress-bar {
            height: 100%;
            background: linear-gradient(45deg, var(--warning), #f97316);
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s;
            position: relative;
            overflow: hidden;
        }
        
        .coin-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
        }

        /* NEW: Daily Login System Styles */
        .daily-login-section {
            padding: 120px 0 80px;
            min-height: 100vh;
        }
        
        .daily-login-card {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.15));
            border: 2px solid var(--primary);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
        }
        
        .streak-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .streak-count {
            font-size: 64px;
            font-weight: 900;
            color: var(--warning);
            text-shadow: 0 0 30px rgba(245, 158, 11, 0.5);
        }
        
        .streak-label {
            font-size: 16px;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-weight: 700;
        }
        
        .flame-animation {
            animation: flame 2s infinite;
            font-size: 48px;
            color: var(--warning);
        }
        
        @keyframes flame {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .streak-calendar {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 30px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .day-box {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            font-weight: 800;
            font-size: 14px;
            position: relative;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .day-box.completed {
            background: linear-gradient(45deg, var(--success), #059669);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }
        
        .day-box.current {
            background: linear-gradient(45deg, var(--warning), #f97316);
            color: white;
            animation: pulse 1.5s infinite;
            border: 2px solid white;
            box-shadow: 0 8px 20px rgba(245, 158, 11, 0.3);
        }
        
        .day-box.future {
            background: rgba(255, 255, 255, 0.05);
            color: #64748b;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .day-box.missed {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
            border: 2px solid rgba(239, 68, 68, 0.3);
        }
        
        .day-reward {
            position: absolute;
            top: -30px;
            font-size: 11px;
            background: rgba(0, 0, 0, 0.9);
            padding: 4px 8px;
            border-radius: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            font-weight: 700;
        }
        
        .day-box:hover .day-reward {
            opacity: 1;
        }
        
        .reward-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .reward-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
            border: 1px solid transparent;
        }
        
        .reward-item:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.2);
        }
        
        .reward-item i {
            font-size: 32px;
            margin-bottom: 15px;
        }
        
        .reward-item.coin-reward i {
            color: var(--warning);
        }
        
        .reward-item.streak-reward i {
            color: var(--primary);
        }
        
        .reward-item.bonus-reward i {
            color: var(--success);
        }
        
        .login-reminder {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1));
            border: 2px solid var(--warning);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            font-size: 15px;
            font-weight: 600;
        }
        
        .streak-benefits {
            margin-top: 40px;
            padding: 30px;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 16px;
            border-left: 4px solid var(--primary);
        }
        
        .streak-note {
            font-size: 13px;
            color: #94a3b8;
            margin-top: 25px;
            text-align: center;
            font-style: italic;
        }
        
        .claim-button {
            background: linear-gradient(45deg, var(--warning), #f97316);
            color: white;
            padding: 18px 35px;
            font-size: 18px;
            font-weight: 800;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-top: 25px;
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
        }
        
        .claim-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(245, 158, 11, 0.4);
        }
        
        .claim-button.claimed {
            background: linear-gradient(45deg, var(--success), #059669);
        }
        
        .claim-button.disabled {
            background: #64748b;
            cursor: not-allowed;
        }
        
        .claim-button.disabled:hover {
            transform: none;
            box-shadow: none;
        }
        
        .streak-warning {
            background: linear-gradient(45deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.1));
            border: 2px solid var(--danger);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
        }
        
        /* Streak Modal */
        .streak-modal-content {
            max-width: 500px;
            text-align: center;
        }
        
        .streak-celebration {
            font-size: 64px;
            color: var(--warning);
            margin: 25px 0;
            animation: bounce 1s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        /* STC Posts Styles */
        .posts-section {
            padding: 120px 0 80px;
        }
        
        .posts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }
        
        .post-card {
            position: relative;
            overflow: hidden;
        }
        
        .post-date {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 800;
            z-index: 2;
        }
        
        .post-image {
            height: 220px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 12px 12px 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 56px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .post-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0,0,0,0.2), transparent);
        }
        
        .post-content {
            padding: 25px;
        }
        
        .post-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .post-tag {
            background: rgba(99, 102, 241, 0.15);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* Ad Before Mining Modal */
        .ad-modal-content {
            max-width: 500px;
            text-align: center;
        }
        
        .ad-countdown {
            font-size: 48px;
            color: var(--warning);
            font-weight: 900;
            margin: 25px 0;
        }
        
        .ad-progress-container {
            background: rgba(255, 255, 255, 0.1);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 25px 0;
        }
        
        .ad-progress-bar {
            height: 100%;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 4px;
            width: 0%;
            transition: width 1s linear;
        }
        
        /* UPDATED SPIN & WIN STYLES */
        .spin-section {
            padding: 120px 0 80px;
            min-height: 100vh;
        }
        
        .wheel-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 30px;
            padding: 40px 0;
        }
        
        .wheel-wrapper {
            position: relative;
            width: 420px;
            height: 420px;
            max-width: 90vw;
            max-height: 90vw;
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            transition: transform 5s cubic-bezier(0.17, 0.67, 0.21, 0.99);
            box-shadow: 0 0 50px rgba(99, 102, 241, 0.3);
            border: 10px solid var(--primary);
            background: var(--darker);
        }
        
        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            left: 0;
            top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .segment-content {
            position: absolute;
            right: 40px;
            top: 40px;
            transform: rotate(45deg);
            text-align: center;
            color: white;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            width: 90px;
        }
        
        .segment-coins {
            font-size: 18px;
            color: var(--warning);
            font-weight: 900;
        }
        
        .segment-stc {
            font-size: 18px;
            color: var(--primary);
            font-weight: 900;
        }
        
        .wheel-pointer {
            position: absolute;
            top: -45px;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 70px;
            z-index: 10;
        }
        
        .wheel-pointer i {
            color: var(--warning);
            font-size: 70px;
            filter: drop-shadow(0 0 10px rgba(245, 158, 11, 0.5));
            animation: pulse 1.5s infinite;
        }
        
        .spin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 500px;
            margin-top: 30px;
        }
        
        .spin-stat {
            background: rgba(99, 102, 241, 0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid rgba(99, 102, 241, 0.3);
        }
        
        .spin-stat-value {
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 5px;
        }
        
        .spin-stat-label {
            color: #94a3b8;
            font-size: 14px;
        }
        
        .spin-prizes {
            display: none !important; /* Hide prizes distribution */
        }
        
        /* NEW: Spin Counter Display */
        .spin-counter {
            background: linear-gradient(45deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
            border-radius: 12px;
            padding: 15px 25px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            font-weight: 700;
            font-size: 16px;
            border: 2px solid var(--primary);
        }
        
        .spin-counter i {
            color: var(--warning);
            font-size: 20px;
        }
        
        .spin-limit-badge {
            background: linear-gradient(45deg, var(--warning), #f97316);
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            margin-left: 8px;
        }
        
        .spin-cooldown {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1));
            border: 2px solid var(--warning);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }
        
        .cooldown-timer {
            font-size: 36px;
            font-weight: 900;
            color: var(--warning);
            margin: 10px 0;
            font-family: monospace;
        }
        
        .wheel-result-modal .modal-content {
            max-width: 500px;
            text-align: center;
        }
        
        .result-celebration {
            font-size: 64px;
            margin: 20px 0;
        }
        
        .result-amount {
            font-size: 48px;
            font-weight: 900;
            margin: 20px 0;
            background: linear-gradient(45deg, var(--warning), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .result-type {
            font-size: 24px;
            color: var(--light);
            margin-bottom: 30px;
        }
        
        .result-message {
            background: rgba(16, 185, 129, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            font-size: 14px;
            color: #cbd5e1;
        }

        /* Responsive adjustments for daily login */
        @media (max-width: 768px) {
            .streak-calendar {
                gap: 8px;
            }
            
            .day-box {
                width: 40px;
                height: 40px;
                font-size: 13px;
            }
            
            .streak-count {
                font-size: 48px;
            }
            
            .flame-animation {
                font-size: 40px;
            }
            
            .reward-breakdown {
                grid-template-columns: 1fr;
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .section-title {
                font-size: 28px;
            }
            
            .mining-timer {
                font-size: 48px;
            }
            
            .referral-input-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            .referral-input-wrapper {
                min-width: 100%;
            }
            
            .tier-cards {
                grid-template-columns: 1fr;
            }
            
            .referral-benefits {
                grid-template-columns: 1fr;
            }
            
            .wheel-wrapper {
                width: 320px;
                height: 320px;
            }
            
            .segment-content {
                right: 30px;
                top: 30px;
                width: 70px;
            }
            
            .segment-coins {
                font-size: 16px;
            }
            
            .segment-stc {
                font-size: 16px;
            }
            
            .wheel-pointer {
                top: -35px;
                width: 60px;
                height: 60px;
            }
            
            .wheel-pointer i {
                font-size: 60px;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 28px;
            }
            
            .hero-stats {
                gap: 15px;
            }
            
            .stat-box {
                min-width: 140px;
                padding: 15px;
            }
            
            .stat-value {
                font-size: 24px;
            }
            
            .btn {
                padding: 10px 18px;
                font-size: 13px;
            }
            
            .nav-links a {
                padding: 10px 14px;
                font-size: 13px;
                min-height: 40px;
            }
            
            .referral-code {
                font-size: 20px;
                padding: 15px;
            }
            
            .day-box {
                width: 35px;
                height: 35px;
                font-size: 12px;
            }
            
            .streak-count {
                font-size: 36px;
            }
            
            .wheel-wrapper {
                width: 280px;
                height: 280px;
            }
            
            .segment-content {
                right: 25px;
                top: 25px;
                width: 60px;
            }
            
            .segment-coins {
                font-size: 14px;
            }
            
            .segment-stc {
                font-size: 14px;
            }
        }

        /* Ad Timer Styles */
        .ad-timer-notice {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1));
            border: 2px solid var(--warning);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
            font-size: 15px;
            font-weight: 600;
        }
        
        .ad-timer-notice i {
            color: var(--warning);
            margin-right: 10px;
        }
        
        .return-timer {
            font-size: 24px;
            font-weight: 900;
            color: var(--warning);
            margin: 15px 0;
        }

        /* Responsive Header */
        @media (max-width: 1024px) {
            .nav-container {
                flex-wrap: wrap;
                height: auto;
                padding: 10px 0;
            }
            
            .logo {
                order: 1;
            }
            
            .main-nav {
                order: 3;
                flex: 100%;
                margin: 10px 0 0;
                justify-content: flex-start;
            }
            
            .auth-buttons {
                order: 2;
            }
            
            .mining-container {
                grid-template-columns: 1fr;
                gap: 25px;
            }
        }

        /* Ensure consistent transitions */
        * {
            scroll-behavior: smooth;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }
    </style>
</head>
<body>
    <!-- Header with Single Line Navigation -->
    <header>
        <div class="container nav-container">
            <a href="#" class="logo" onclick="showPage('home', event)">
                <i class="fas fa-gem"></i>
                STC-REWARDS
            </a>
            
            <div class="main-nav">
                <ul class="nav-links">
                    <li><a href="#" onclick="showPage('home', event)" class="active">Home</a></li>
                    <li><a href="#" onclick="showPage('dashboard', event)" id="dashboardLink">Dashboard</a></li>
                    <li><a href="#" onclick="showPage('mining', event)">Mining</a></li>
                    <li><a href="#" onclick="showPage('ads', event)">Watch Ads</a></li>
                    <li><a href="#" onclick="showPage('spin', event)">Spin & Win</a></li>
                    <li><a href="#" onclick="showPage('referral', event)">Referral</a></li>
                    <li><a href="#" onclick="showPage('withdrawalHistory', event)">Withdrawal History</a></li>
                    <li><a href="#" onclick="showPage('token', event)">STC Token</a></li>
                    <li><a href="#" onclick="showPage('posts', event)">STC Posts</a></li>
                    <li><a href="#" onclick="showPage('dailyLogin', event)">Daily Login</a></li>
                </ul>
            </div>
            
            <div class="auth-buttons">
                <button class="btn btn-primary" onclick="showAuthModal('login')" id="loginBtn">Login</button>
                <button class="btn btn-secondary" onclick="showAuthModal('signup')" id="signupBtn">Sign Up</button>
                <div class="profile-dropdown" id="userProfile" style="display: none;">
                    <div style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 5px; min-height: 44px;">
                        <img src="" alt="Profile" class="user-avatar" id="userAvatar">
                        <span id="userNameDisplay"></span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="profile-menu">
                        <a href="#" onclick="showPage('dashboard', event)"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                        <a href="#" onclick="showPage('spin', event)"><i class="fas fa-sync-alt"></i> Spin & Win</a>
                        <a href="#" onclick="showPage('withdrawalHistory', event)"><i class="fas fa-history"></i> Withdrawal History</a>
                        <a href="#" onclick="showPage('posts', event)"><i class="fas fa-newspaper"></i> STC Posts</a>
                        <a href="#" onclick="showPage('dailyLogin', event)"><i class="fas fa-calendar-check"></i> Daily Login</a>
                        <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Home Page -->
    <div id="home" class="page active">
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>Earn STC Tokens & Crypto Rewards</h1>
                    <p>Watch ads, mine STC tokens, spin to win, refer friends and convert your earnings to cryptocurrency. Join thousands earning passive income daily. STC Token is a new project launching its first phase of mining!</p>
                    <button class="btn btn-mining pulse" onclick="startMiningFromHome()">
                        <i class="fas fa-play"></i> Start Mining STC
                    </button>
                    
                    <div class="hero-stats">
                        <div class="stat-box floating">
                            <div class="stat-value counter" id="totalUsers">1,000</div>
                            <div class="stat-label">Active Users</div>
                        </div>
                        <div class="stat-box floating" style="animation-delay: 0.5s;">
                            <div class="stat-value price-fluctuation">$5.31<span class="market-indicator market-up">+6.1%</span></div>
                            <div class="stat-label">STC Token Price</div>
                            <div class="price-note">Estimated $5, subject to market</div>
                        </div>
                        <div class="stat-box floating" style="animation-delay: 1s;">
                            <div class="stat-value counter" id="totalWithdrawn">$12,075</div>
                            <div class="stat-label">Total Withdrawn</div>
                        </div>
                        <div class="stat-box floating" style="animation-delay: 1.5s;">
                            <div class="stat-value counter" id="activeMiners">950</div>
                            <div class="stat-label">Active Miners</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <h2 class="section-title">How It Works</h2>
                <div class="features-grid">
                    <div class="card">
                        <div class="feature-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3>Create Account</h3>
                        <p>Sign up with Google or email and start earning. Get 50 STC bonus only with referral code during launch phase.</p>
                    </div>
                    <div class="card">
                        <div class="feature-icon">
                            <i class="fas fa-ad"></i>
                        </div>
                        <h3>Watch Ads</h3>
                        <p>Watch short video ads and earn 10-25 coins. 5000 coins = $1. Minimum $5 withdrawal (25000 coins).</p>
                    </div>
                    <div class="card">
                        <div class="feature-icon">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <h3>Spin & Win</h3>
                        <p>Spin the wheel to win coins or STC tokens! Watch an ad to get a spin. Win up to 5000 coins or 100 STC!</p>
                    </div>
                    <div class="card">
                        <div class="feature-icon">
                            <i class="fas fa-hard-hat"></i>
                        </div>
                        <h3>Mine STC Tokens</h3>
                        <p>Mine STC tokens in 6-hour sessions. Earn 12 STC per session. After mining completes, you'll receive your rewards.</p>
                    </div>
                </div>
                
                <!-- Daily Login Feature Card -->
                <div class="card" style="margin-top: 30px; text-align: center;">
                    <div class="feature-icon" style="margin: 0 auto 15px;">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3>Daily Login Rewards</h3>
                    <p>Login every day to build your streak! Start with 2 STC + 50 coins on Day 1, increasing daily. After 30 days, earn 60 STC every day!</p>
                    <button class="btn btn-primary" onclick="showPage('dailyLogin', event)" style="margin-top: 15px;">
                        <i class="fas fa-gift"></i> Start Your Streak
                    </button>
                </div>
                
                <!-- Coin Rate Information -->
                <div class="coin-rate-info">
                    <div class="rate-box">
                        <h4><i class="fas fa-coins"></i> Coin Value</h4>
                        <p>5000 Coins = $1 USD</p>
                    </div>
                    <div class="rate-box">
                        <h4><i class="fas fa-wallet"></i> Minimum Withdrawal</h4>
                        <p>25000 Coins = $5 USD</p>
                    </div>
                    <div class="rate-box">
                        <h4><i class="fas fa-clock"></i> Average Earnings</h4>
                        <p>~5000 coins per day watching ads</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard" class="page">
        <section class="dashboard">
            <div class="container">
                <div class="user-header">
                    <div class="user-info">
                        <h2 id="userName">Welcome to Dashboard</h2>
                        <p id="userEmail"></p>
                    </div>
                    <div>
                        <button class="btn btn-secondary" onclick="showPage('withdrawalHistory', event)">
                            <i class="fas fa-history"></i> Withdrawal History
                        </button>
                    </div>
                </div>

                <div class="balance-grid">
                    <div class="card balance-card">
                        <div class="balance-label">STC Tokens</div>
                        <div class="balance-amount gradient-text" id="stcBalance">0</div>
                        <div class="balance-value">â‰ˆ $<span id="stcValue">0</span> (<span id="stcPrice">5.31</span> per STC)</div>
                    </div>
                    <div class="card balance-card">
                        <div class="balance-label">Coins Balance</div>
                        <div class="balance-amount gradient-text" id="coinBalance">0</div>
                        <div class="balance-value">â‰ˆ $<span id="coinValue">0</span> (5000 coins = $1)</div>
                        <div class="coin-progress-container">
                            <div class="coin-progress-bar" id="coinProgress"></div>
                        </div>
                        <div style="font-size: 12px; color: #94a3b8; margin-top: 5px;">
                            Progress to $5: <span id="coinProgressText">0%</span>
                        </div>
                    </div>
                    <div class="card balance-card">
                        <div class="balance-label">USDT Balance</div>
                        <div class="balance-amount gradient-text" id="usdtBalance">0.00</div>
                        <div class="balance-value">Available for withdrawal</div>
                    </div>
                </div>

                <!-- Daily Streak Widget on Dashboard -->
                <div class="card" style="margin-top: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0;">Daily Login Streak</h3>
                        <a href="#" onclick="showPage('dailyLogin', event)" style="color: var(--primary); font-size: 14px; text-decoration: none;">
                            <i class="fas fa-external-link-alt"></i> View Details
                        </a>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                        <div style="text-align: center;">
                            <div class="streak-count" id="dashboardStreak">0</div>
                            <div class="streak-label">Day Streak</div>
                        </div>
                        
                        <div style="flex: 1;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span style="color: #94a3b8; font-size: 14px;">Today's Reward:</span>
                                <span style="font-weight: 600; color: var(--warning);" id="todayReward">0 STC + 50 coins</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span style="color: #94a3b8; font-size: 14px;">Next Reward:</span>
                                <span style="font-weight: 600; color: var(--primary);" id="nextReward">2 STC + 50 coins</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: #94a3b8; font-size: 14px;">Status:</span>
                                <span style="font-weight: 600; color: var(--success);" id="streakStatus">Ready to claim</span>
                            </div>
                        </div>
                    </div>
                    
                    <button class="claim-button" onclick="claimDailyReward()" id="dashboardClaimBtn" style="width: 100%; margin-top: 15px;">
                        <i class="fas fa-gift"></i> Claim Daily Reward
                    </button>
                </div>

                <div style="margin: 30px 0;">
                    <h3 style="margin-bottom: 15px;">Quick Actions</h3>
                    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="showPage('mining', event)">
                            <i class="fas fa-play"></i> Start Mining
                        </button>
                        <button class="btn btn-success" onclick="showPage('ads', event)">
                            <i class="fas fa-ad"></i> Watch Ads
                        </button>
                        <button class="btn btn-warning" onclick="showPage('spin', event)">
                            <i class="fas fa-sync-alt"></i> Spin & Win
                        </button>
                        <button class="btn btn-mining" onclick="showPage('referral', event)">
                            <i class="fas fa-user-plus"></i> Refer Friends
                        </button>
                        <button class="btn btn-secondary" onclick="showWithdrawModal()">
                            <i class="fas fa-wallet"></i> Withdraw Funds
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Mining Page -->
    <div id="mining" class="page">
        <section class="mining-section">
            <div class="container">
                <h2 class="section-title">STC Token Mining - First Phase</h2>
                <div class="mining-container">
                    <div class="card mining-status">
                        <h3 style="margin-bottom: 15px;">Mining Status: <span id="miningStatusText" style="color: var(--success);">Ready to Start</span></h3>
                        <div class="mining-timer" id="miningTimer">06:00:00</div>
                        <div class="progress-container">
                            <div class="progress-bar" id="miningProgress"></div>
                        </div>
                        <div style="text-align: center;">
                            <p style="margin-bottom: 15px; color: #94a3b8;">Each mining session: 6 hours â†’ 12 STC tokens</p>
                            <p style="margin-bottom: 15px; color: var(--warning); font-size: 14px;"><i class="fas fa-info-circle"></i> Watch an ad to start mining and earn bonus!</p>
                            <button class="btn btn-mining" id="miningBtn" onclick="startMiningAd()">Watch Ad to Start Mining</button>
                        </div>
                    </div>
                    <div class="card">
                        <h3 style="margin-bottom: 15px;">Mining Details</h3>
                        <div style="margin-bottom: 15px;">
                            <h4>STC Token Price: <span class="price-fluctuation gradient-text">$5.31</span> <span class="market-indicator market-up">Live</span></h4>
                            <p style="color: #94a3b8; margin-top: 5px; font-size: 13px;">Estimated price: $5, subject to market conditions</p>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <h4>Mining Rewards</h4>
                            <p style="color: #94a3b8; margin-top: 5px; font-size: 13px;">12 STC per 6-hour session</p>
                            <p style="color: var(--success); font-size: 13px; margin-top: 3px;">â‰ˆ $63.72 per session at current price</p>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <h4>Referral Mining Bonus</h4>
                            <p style="color: #94a3b8; margin-top: 5px; font-size: 13px;">Earn 10% of your referrals' mining rewards</p>
                            <p style="color: var(--primary); font-size: 13px; margin-top: 3px;">Passive income from your network</p>
                        </div>
                        <div>
                            <h4>Total Mined</h4>
                            <p style="font-size: 22px; color: var(--success); margin-top: 5px;" id="totalMined">0 STC</p>
                            <p style="color: #94a3b8; font-size: 13px; margin-top: 3px;">â‰ˆ $<span id="totalMinedValue">0</span> at current price</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Ads Page -->
    <div id="ads" class="page">
        <section class="ads-section">
            <div class="container">
                <h2 class="section-title">Watch Ads & Earn Coins</h2>
                <p style="text-align: center; margin-bottom: 30px; color: #94a3b8;">Watch ads and earn 10-25 coins. 5000 coins = $1 USD.</p>
                
                <div class="ads-grid">
                    <div class="card ad-card">
                        <i class="fas fa-gamepad fa-2x" style="color: var(--primary);"></i>
                        <h4 style="margin: 12px 0; font-size: 16px;">Game Ad</h4>
                        <div class="ad-reward">10-15 coins</div>
                        <button class="btn btn-primary watch-ad-btn" data-min="10" data-max="15" onclick="openAdDirectly(this)">
                            <i class="fas fa-play"></i> Watch (45s)
                        </button>
                    </div>
                    <div class="card ad-card">
                        <i class="fas fa-shopping-bag fa-2x" style="color: var(--accent);"></i>
                        <h4 style="margin: 12px 0; font-size: 16px;">Shopping Ad</h4>
                        <div class="ad-reward">12-18 coins</div>
                        <button class="btn btn-primary watch-ad-btn" data-min="12" data-max="18" onclick="openAdDirectly(this)">
                            <i class="fas fa-play"></i> Watch (60s)
                        </button>
                    </div>
                    <div class="card ad-card">
                        <i class="fas fa-film fa-2x" style="color: var(--warning);"></i>
                        <h4 style="margin: 12px 0; font-size: 16px;">Video Ad</h4>
                        <div class="ad-reward">15-25 coins</div>
                        <button class="btn btn-primary watch-ad-btn" data-min="15" data-max="25" onclick="openAdDirectly(this)">
                            <i class="fas fa-play"></i> Watch (90s)
                        </button>
                    </div>
                    <div class="card ad-card">
                        <i class="fas fa-mobile-alt fa-2x" style="color: var(--success);"></i>
                        <h4 style="margin: 12px 0; font-size: 16px;">App Ad</h4>
                        <div class="ad-reward">10-20 coins</div>
                        <button class="btn btn-primary watch-ad-btn" data-min="10" data-max="20" onclick="openAdDirectly(this)">
                            <i class="fas fa-play"></i> Watch (60s)
                        </button>
                    </div>
                </div>

                <div class="card" style="margin-top: 30px; text-align: center;">
                    <h3 style="margin-bottom: 12px; font-size: 18px;">Your Earnings</h3>
                    <p style="font-size: 22px; color: var(--warning); margin-bottom: 12px;" id="totalCoins">0 coins</p>
                    <p style="color: #94a3b8; margin-bottom: 15px; font-size: 13px;">5000 coins = $1 USD | Minimum withdrawal: $5 (25000 coins)</p>
                    
                    <!-- Coin Progress Bar -->
                    <div class="coin-progress-container">
                        <div class="coin-progress-bar" id="adsCoinProgress"></div>
                    </div>
                    <div style="font-size: 12px; color: #94a3b8; margin: 5px 0 15px;">
                        Progress to minimum withdrawal: <span id="adsProgressText">0%</span>
                    </div>
                    
                    <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-success" onclick="convertCoins()">
                            <i class="fas fa-exchange-alt"></i> Convert to USDT
                        </button>
                        <button class="btn btn-primary" onclick="showWithdrawModal()">
                            <i class="fas fa-wallet"></i> Withdraw Funds
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- UPDATED: Spin & Win Page (Daily limit 10, new prizes) -->
    <div id="spin" class="page">
        <section class="spin-section">
            <div class="container">
                <h2 class="section-title">Spin & Win Coins & STC Tokens!</h2>
                <p style="text-align: center; margin-bottom: 30px; color: #94a3b8;">Watch an ad to spin the wheel and win coins or STC tokens! Win up to 100 STC!</p>
                
                <div class="wheel-container">
                    <div class="wheel-wrapper">
                        <div class="wheel" id="wheel"></div>
                        <div class="wheel-pointer">
                            <i class="fas fa-caret-down"></i>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn btn-mining" id="spinButton" onclick="startSpinAd()" style="font-size: 18px; padding: 18px 40px;">
                            <i class="fas fa-sync-alt"></i> Watch Ad to Spin (30s)
                        </button>
                    </div>
                    
                    <!-- UPDATED: Spin Counter Display - Daily limit 10 -->
                    <div class="spin-counter">
                        <i class="fas fa-redo"></i>
                        Spins Today: <span id="spinsTodayCount">0</span>/<span class="spin-limit-badge">10</span>
                    </div>
                    
                    <!-- Spin Cooldown Notice -->
                    <div class="spin-cooldown" id="spinCooldown">
                        <i class="fas fa-clock"></i>
                        <h4>Spin on Cooldown</h4>
                        <p>You can spin again in:</p>
                        <div class="cooldown-timer" id="cooldownTimer">00:00</div>
                        <p style="font-size: 12px; color: #94a3b8;">Each spin requires watching a 30-second ad</p>
                    </div>
                    
                    <!-- Spin Stats -->
                    <div class="spin-stats">
                        <div class="spin-stat">
                            <div class="spin-stat-value" id="spinsToday">0</div>
                            <div class="spin-stat-label">Spins Today</div>
                            <div style="font-size: 12px; color: #94a3b8; margin-top: 5px;">Max: 10 daily</div>
                        </div>
                        <div class="spin-stat">
                            <div class="spin-stat-value" id="totalSpins">0</div>
                            <div class="spin-stat-label">Total Spins</div>
                        </div>
                        <div class="spin-stat">
                            <div class="spin-stat-value" id="totalWon">$0</div>
                            <div class="spin-stat-label">Total Won</div>
                        </div>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 40px; text-align: center;">
                    <h3 style="margin-bottom: 15px;">How to Play</h3>
                    <p style="color: #94a3b8; margin-bottom: 20px; line-height: 1.6;">
                        Watch a 30-second ad to spin the wheel and win amazing prizes! You can spin up to 10 times per day.
                        Win coins or STC tokens with every spin!
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 25px;">
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 12px;">
                            <i class="fas fa-coins" style="color: var(--warning); font-size: 32px; margin-bottom: 10px;"></i>
                            <h4 style="color: var(--warning); margin-bottom: 8px;">Coin Prizes</h4>
                            <p style="color: #94a3b8; font-size: 14px;">Win up to 20 coins per spin</p>
                        </div>
                        <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 12px;">
                            <i class="fas fa-gem" style="color: var(--primary); font-size: 32px; margin-bottom: 10px;"></i>
                            <h4 style="color: var(--primary); margin-bottom: 8px;">STC Prizes</h4>
                            <p style="color: #94a3b8; font-size: 14px;">Win up to 100 STC per spin</p>
                        </div>
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 12px;">
                            <i class="fas fa-gift" style="color: var(--success); font-size: 32px; margin-bottom: 10px;"></i>
                            <h4 style="color: var(--success); margin-bottom: 8px;">Daily Bonus</h4>
                            <p style="color: #94a3b8; font-size: 14px;">10 spins daily limit</p>
                        </div>
                    </div>
                    
                    <div class="result-message" style="margin-top: 25px;">
                        <i class="fas fa-info-circle"></i> Each spin requires watching a 30-second ad. Maximum 10 spins per day. Good luck!
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Referral Page -->
    <!-- Updated Referral Page with Prominent Referral Code Apply Space -->
    <div id="referral" class="page">
        <section class="referral-section">
            <div class="container">
                <h2 class="section-title">Referral Program - Launch Bonus!</h2>
                
                <!-- REFERRAL CODE APPLY SPACE - PROMINENTLY DISPLAYED AT TOP -->
                <div class="referral-entry-card" id="enterReferralSection" style="display: block; margin-bottom: 30px; border: 3px solid var(--primary); box-shadow: 0 0 30px rgba(99, 102, 241, 0.3);">
                    <div class="referral-entry-content">
                        <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px;">
                            <span style="background: linear-gradient(45deg, var(--warning), #f97316); padding: 5px 15px; border-radius: 30px; color: white; font-size: 14px; font-weight: 800;">
                                <i class="fas fa-gift"></i> LAUNCH BONUS
                            </span>
                        </div>
                        
                        <div class="referral-entry-title" style="font-size: 32px;">
                            <i class="fas fa-ticket-alt"></i> Apply Referral Code
                        </div>
                        
                        <div class="referral-entry-subtitle" style="font-size: 18px;">
                            Get <span style="color: var(--warning); font-weight: 900; font-size: 28px;">50 STC</span> INSTANT BONUS! 
                            <span class="bonus-tag" style="font-size: 16px;">LAUNCH EXCLUSIVE</span>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.3); padding: 25px; border-radius: 16px; margin: 20px 0;">
                            <div class="referral-input-group">
                                <div class="referral-input-wrapper" style="flex: 2;">
                                    <i class="fas fa-ticket-alt" style="left: 20px; font-size: 24px;"></i>
                                    <input type="text" id="enterReferralInput" placeholder="Enter referral code (e.g., STC-ABC123)" 
                                           style="padding: 22px 20px 22px 60px; font-size: 18px; font-weight: 700; letter-spacing: 2px;">
                                </div>
                                <button class="btn btn-mining" onclick="applyReferralCode()" style="padding: 18px 35px; font-size: 18px; font-weight: 800;">
                                    <i class="fas fa-check-circle"></i> APPLY & GET 50 STC
                                </button>
                            </div>
                            
                            <div style="display: flex; justify-content: center; gap: 30px; margin-top: 20px; flex-wrap: wrap;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-check-circle" style="color: var(--success);"></i>
                                    <span style="color: #94a3b8;">50 STC instant bonus</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-check-circle" style="color: var(--success);"></i>
                                    <span style="color: #94a3b8;">One-time use only</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-check-circle" style="color: var(--success);"></i>
                                    <span style="color: #94a3b8;">Launch phase exclusive</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="success-message" id="referralSuccessMessage" style="display: none; padding: 20px; margin-top: 20px;">
                            <i class="fas fa-check-circle" style="font-size: 32px;"></i>
                            <span id="successMessageText" style="font-size: 20px; font-weight: 700;"></span>
                        </div>
                        
                        <div class="input-hint" style="font-size: 15px; margin-top: 15px;">
                            <i class="fas fa-info-circle" style="font-size: 18px;"></i>
                            Don't have a referral code? Use our official code: <span style="background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 8px; font-weight: 800; color: var(--warning);">STC-LAUNCH50</span>
                        </div>
                    </div>
                </div>
                
                <!-- NEW: Referral Benefits -->
                <div class="referral-benefits">
                    <div class="referral-benefit">
                        <i class="fas fa-gift"></i>
                        <h4>50 STC Bonus</h4>
                        <p>Get 50 STC instantly when you use a referral code during launch phase</p>
                    </div>
                    <div class="referral-benefit">
                        <i class="fas fa-users"></i>
                        <h4>Referral Earnings</h4>
                        <p>Earn 50 STC for each friend who signs up with your code</p>
                    </div>
                    <div class="referral-benefit">
                        <i class="fas fa-hard-hat"></i>
                        <h4>Mining Bonus</h4>
                        <p>Get 10% of all mining rewards from your referrals forever</p>
                    </div>
                </div>

                <div class="card" style="text-align: center; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 12px;">Earn 50 STC Per Referral + 10% Mining Bonus!</h3>
                    <p style="color: #94a3b8; margin-bottom: 15px; font-size: 14px;">Share your referral code and earn 50 STC tokens for each friend who signs up. Plus, earn 10% of their mining rewards forever!</p>
                    <p style="color: var(--warning); font-size: 13px; margin-bottom: 10px;"><i class="fas fa-gift"></i> Special launch bonus: 50 STC (normally 20 STC)</p>
                    <p style="color: var(--primary); font-size: 13px; margin-bottom: 10px;"><i class="fas fa-hard-hat"></i> 10% mining bonus from all referrals</p>
                </div>

                <div class="referral-code-box">
                    <div style="position: relative;">
                        <div class="ribbon">Your Code</div>
                        <h4 style="margin-bottom: 12px; font-size: 20px;">Your Personal Referral Code</h4>
                        <div class="referral-code" id="referralCodeDisplay">STC-<span id="refCode">X8Y9Z7</span></div>
                        <p style="margin: 20px 0; font-size: 15px; color: rgba(255, 255, 255, 0.9);">Share this code with your friends during launch phase</p>
                        
                        <!-- Referral Link -->
                        <div class="referral-link-container">
                            <p style="font-size: 13px; color: rgba(255, 255, 255, 0.8); margin-bottom: 8px;">Your Referral Link:</p>
                            <input type="text" id="referralLink" readonly class="referral-link-input">
                        </div>
                        
                        <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 20px;">
                            <button class="btn btn-mining" onclick="copyReferralCode()">
                                <i class="fas fa-copy"></i> Copy Code
                            </button>
                            <button class="btn btn-primary" onclick="copyReferralLink()">
                                <i class="fas fa-link"></i> Copy Link
                            </button>
                            <button class="btn btn-success" onclick="shareReferralLink()">
                                <i class="fas fa-share-alt"></i> Share
                            </button>
                        </div>
                    </div>
                </div>

                <!-- NEW: Referral Tier System -->
                <div class="tier-system">
                    <h3 style="text-align: center; margin-bottom: 30px; font-size: 24px;">Referral Tiers</h3>
                    <div class="tier-cards">
                        <div class="tier-card basic">
                            <div class="tier-badge">Starter</div>
                            <h4>1-5 Referrals</h4>
                            <div class="tier-reward">50 STC each</div>
                            <p>Perfect for getting started with referral earnings</p>
                        </div>
                        <div class="tier-card pro">
                            <div class="tier-badge">Pro</div>
                            <h4>6-20 Referrals</h4>
                            <div class="tier-reward">+10% bonus</div>
                            <p>Extra 10% STC bonus on all referral earnings</p>
                        </div>
                        <div class="tier-card elite">
                            <div class="tier-badge">Elite</div>
                            <h4>21+ Referrals</h4>
                            <div class="tier-reward">+20% bonus</div>
                            <p>Maximum 20% bonus plus special rewards</p>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 30px;">
                    <h3 style="margin-bottom: 15px;">Referral Statistics</h3>
                    <div class="referral-stats">
                        <div class="referral-stat">
                            <div class="referral-stat-value counter" id="refCount">0</div>
                            <div class="referral-stat-label">Total Referrals</div>
                        </div>
                        <div class="referral-stat">
                            <div class="referral-stat-value gradient-text" id="refEarnings">0</div>
                            <div class="referral-stat-label">STC Earned</div>
                            <div style="color: #94a3b8; font-size: 12px; margin-top: 5px;">â‰ˆ $<span id="refEarningsValue">0</span> at $5.31/STC</div>
                        </div>
                        <div class="referral-stat">
                            <div class="referral-stat-value gradient-text" id="miningBonus">0</div>
                            <div class="referral-stat-label">Mining Bonus</div>
                            <div style="color: #94a3b8; font-size: 12px; margin-top: 5px;">10% from referrals</div>
                        </div>
                    </div>
                    
                    <!-- Progress Circle -->
                    <div class="progress-circle">
                        <svg>
                            <circle class="progress-circle-bg" cx="50" cy="50" r="45"></circle>
                            <circle class="progress-circle-fill" cx="50" cy="50" r="45" id="referralProgressCircle"></circle>
                        </svg>
                        <div class="progress-circle-text" id="referralProgressText">0%</div>
                    </div>
                    <div style="text-align: center; margin-top: 15px; color: #94a3b8; font-size: 14px;">
                        Progress to Pro Tier (6 referrals)
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Withdrawal History Page -->
    <div id="withdrawalHistory" class="page">
        <section class="withdrawal-history-page">
            <div class="container">
                <h2 class="section-title">Withdrawal History</h2>
                
                <!-- FIXED: Filter buttons now pass 'event' and work -->
                <div class="history-filter">
                    <button class="filter-btn active" onclick="filterWithdrawals('all', event)">All</button>
                    <button class="filter-btn" onclick="filterWithdrawals('pending', event)">Pending</button>
                    <button class="filter-btn" onclick="filterWithdrawals('processing', event)">Processing</button>
                    <button class="filter-btn" onclick="filterWithdrawals('completed', event)">Completed</button>
                    <button class="filter-btn" onclick="filterWithdrawals('failed', event)">Failed</button>
                </div>

                <div class="card">
                    <div id="withdrawalHistoryContent">
                        <!-- History will be loaded here -->
                        <div class="empty-state" id="emptyHistory">
                            <i class="fas fa-history"></i>
                            <h3>No Withdrawal History</h3>
                            <p>You haven't made any withdrawals yet.</p>
                            <button class="btn btn-primary" onclick="showWithdrawModal()" style="margin-top: 15px;">
                                <i class="fas fa-wallet"></i> Make Your First Withdrawal
                            </button>
                        </div>
                        
                        <table class="history-table" id="withdrawalHistoryTable" style="display: none;">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Method</th>
                                    <th>Wallet/Account</th>
                                    <th>Status</th>
                                    <th>Transaction ID</th>
                                </tr>
                            </thead>
                            <tbody id="withdrawalHistoryBody">
                                <!-- Rows will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Token Page -->
    <div id="token" class="page">
        <section class="mining-section">
            <div class="container">
                <h2 class="section-title">STC Token Information - New Project</h2>
                
                <div class="token-tabs">
                    <button class="token-tab active" onclick="showTokenTab('overview')">Overview</button>
                    <button class="token-tab" onclick="showTokenTab('whitepaper')">White Paper</button>
                    <button class="token-tab" onclick="showTokenTab('roadmap')">Road Map</button>
                    <button class="token-tab" onclick="showTokenTab('tokenomics')">Tokenomics</button>
                </div>
                
                <!-- Overview Tab -->
                <div id="overviewTab" class="token-content active">
                    <div class="card" style="margin-bottom: 25px;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px;">
                            <div>
                                <h3 style="margin-bottom: 12px;">STC Token Price</h3>
                                <p style="font-size: 42px; color: var(--success); font-weight: 700;" class="price-fluctuation">$5.31</p>
                                <p style="color: #94a3b8; font-size: 13px;">Estimated $5, subject to market conditions</p>
                                <p style="color: var(--warning); font-size: 12px; margin-top: 5px;"><i class="fas fa-chart-line"></i> Price fluctuates based on market</p>
                            </div>
                            <div>
                                <h3 style="margin-bottom: 12px;">Market Cap</h3>
                                <p style="font-size: 28px; color: var(--primary); font-weight: 700;">$62.45M</p>
                                <p style="color: #94a3b8; font-size: 13px;">Total circulating supply</p>
                            </div>
                            <div>
                                <h3 style="margin-bottom: 12px;">Total Supply</h3>
                                <p style="font-size: 28px; color: var(--accent); font-weight: 700;">100M STC</p>
                                <p style="color: #94a3b8; font-size: 13px;">Maximum token supply</p>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 style="margin-bottom: 15px;">About STC Token - New Project Launch</h3>
                        <div class="token-details">
                            <p>STC (Stable Token Coin) is a <strong>new utility token</strong> launched in 2026, designed specifically for the STC-REWARDS ecosystem. The token is currently in its <strong>first phase of mining</strong> where users can earn STC through mining activities.</p>
                            
                            <p style="margin: 15px 0; padding: 12px; background: rgba(99, 102, 241, 0.1); border-radius: 8px; border-left: 3px solid var(--warning);">
                                <strong>Current Status:</strong> First Phase Mining Active<br>
                                <strong>Estimated Price:</strong> $5 (fluctuates based on market conditions)<br>
                                <strong>Mining Rewards:</strong> 12 STC per 6-hour session
                            </p>
                            
                            <h3>Key Features:</h3>
                            <ul class="attractive-ul primary">
                                <li><strong>New Project:</strong> Launched in 2026, currently in first mining phase</li>
                                <li><strong>Market Based:</strong> Price estimated at $5 but fluctuates up and down based on market conditions</li>
                                <li><strong>Mining First:</strong> First phase focuses on mining distribution</li>
                                <li><strong>Utility:</strong> Used for platform rewards, mining, and referral bonuses</li>
                                <li><strong>Earnable:</strong> Users can earn STC through various activities on the platform</li>
                                <li><strong>Convertible:</strong> STC can be converted to USDT at market rates</li>
                                <li><strong>Limited Supply:</strong> Total supply capped at 100 million tokens</li>
                            </ul>
                            
                            <h3>Launch Phase Features:</h3>
                            <ul class="attractive-ul warning">
                                <li>Special mining rewards during first phase</li>
                                <li>Increased referral bonuses (50 STC per referral)</li>
                                <li>Spin & Win feature with coins and STC rewards</li>
                                <li>Early adopter benefits</li>
                                <li>Progressive price discovery</li>
                                <li>Multiple withdrawal options (Crypto & Bank)</li>
                            </ul>
                            
                            <h3>Withdrawal Options:</h3>
                            <ul class="attractive-ul success">
                                <li><strong>Cryptocurrency:</strong> USDT, BTC, ETH, USDC</li>
                                <li><strong>Bank Transfer:</strong> Local bank withdrawals available</li>
                                <li><strong>Minimum Withdrawal:</strong> $5 (25000 coins)</li>
                                <li><strong>Processing Time:</strong> 24-72 hours for bank transfers</li>
                                <li><strong>Crypto Withdrawals:</strong> Usually within 24 hours</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- White Paper Tab -->
                <div id="whitepaperTab" class="token-content">
                    <div class="card">
                        <div class="token-details">
                            <h2 style="margin-bottom: 20px;">STC Token White Paper - 2026 Launch</h2>
                            
                            <h3>1. Executive Summary</h3>
                            <p>STC Token is a <strong>new utility token launched in 2026</strong>, designed to power the STC-REWARDS ecosystem. This white paper outlines the technical implementation, economic model, and future development roadmap of the STC token, starting with its first mining phase.</p>
                            
                            <h3>2. Introduction - The 2026 Launch</h3>
                            <p>STC-REWARDS platform launches in 2026 with a focus on mining distribution. The STC token serves as the primary reward mechanism within this ecosystem, with an <strong>estimated starting price of $5 per token</strong>, subject to market fluctuations.</p>
                            
                            <h3>3. Technical Architecture</h3>
                            <ul class="attractive-ul info">
                                <li><strong>Launch Year:</strong> 2026</li>
                                <li><strong>Token Standard:</strong> Utility Token</li>
                                <li><strong>Initial Price:</strong> Estimated $5 (market dependent)</li>
                                <li><strong>Phase 1:</strong> Mining distribution</li>
                                <li><strong>Storage:</strong> Secure cloud storage with Firebase</li>
                                <li><strong>Transactions:</strong> Real-time balance updates</li>
                                <li><strong>Withdrawal Options:</strong> Multiple cryptocurrency and bank options</li>
                            </ul>
                            
                            <h3>4. Economic Model</h3>
                            <ul class="attractive-ul warning">
                                <li><strong>Coin Value:</strong> 5000 coins = $1 USD</li>
                                <li><strong>Minimum Withdrawal:</strong> 25000 coins = $5 USD</li>
                                <li><strong>STC Price:</strong> Estimated $5, fluctuates with market</li>
                                <li><strong>Supply Control:</strong> Total Supply: 100,000,000 STC</li>
                                <li><strong>Circulating Supply:</strong> Controlled through phased mining</li>
                                <li><strong>Value Discovery:</strong> Progressive price discovery through market participation</li>
                            </ul>
                            
                            <h3>5. Mining Phase 1 (2026-2027)</h3>
                            <p>The first phase focuses on mining distribution to build the initial user base and establish token utility.</p>
                            
                            <h3>6. Security Features</h3>
                            <ul class="attractive-ul success">
                                <li>Google Firebase Authentication</li>
                                <li>Secure data encryption</li>
                                <li>Withdrawal verification system</li>
                                <li>Anti-fraud monitoring</li>
                                <li>Multi-factor authentication support</li>
                                <li>Secure withdrawal processing</li>
                            </ul>
                            
                            <div style="text-align: center; margin-top: 30px;">
                                <button class="btn btn-primary" onclick="downloadWhitepaper()">
                                    <i class="fas fa-download"></i> Download White Paper (PDF)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Road Map Tab -->
                <div id="roadmapTab" class="token-content">
                    <div class="card">
                        <div class="token-details">
                            <h2 style="margin-bottom: 20px;">STC Token Road Map - 2026 Onwards</h2>
                            
                            <div class="roadmap-timeline">
                                <!-- Phase 1 -->
                                <div class="roadmap-phase current">
                                    <h3 style="color: var(--primary);">Phase 1: Platform Launch & Mining (Q4 2026)</h3>
                                    <ul class="attractive-ul primary">
                                        <li>âœ“ Platform development and testing</li>
                                        <li>âœ“ STC token implementation</li>
                                        <li>âœ“ First phase mining functionality</li>
                                        <li>âœ“ Spin & Win feature added</li>
                                        <li>âœ“ Ad watching rewards system</li>
                                        <li>âœ“ Referral program setup with launch bonuses</li>
                                        <li>âœ“ Initial price discovery ($5 estimated)</li>
                                        <li>âœ“ Multiple withdrawal options integration</li>
                                    </ul>
                                </div>
                                
                                <!-- Phase 2 -->
                                <div class="roadmap-phase future">
                                    <h3>Phase 2: Mobile App & Features (Q1 2027)</h3>
                                    <ul class="attractive-ul">
                                        <li>iOS and Android mobile app release</li>
                                        <li>Enhanced mining algorithms</li>
                                        <li>Additional ad formats and partners</li>
                                        <li>User profile customization</li>
                                        <li>Advanced analytics dashboard</li>
                                        <li>Price stabilization mechanisms</li>
                                        <li>More withdrawal methods integration</li>
                                        <li>International bank transfer support</li>
                                    </ul>
                                </div>
                                
                                <!-- Phase 3 -->
                                <div class="roadmap-phase future">
                                    <h3>Phase 3: Exchange Integration (Q2 2027)</h3>
                                    <ul class="attractive-ul">
                                        <li>STC token exchange listing</li>
                                        <li>Cross-platform transfer capabilities</li>
                                        <li>Wallet integration</li>
                                        <li>Multi-chain support</li>
                                        <li>Partnership announcements</li>
                                        <li>Market expansion initiatives</li>
                                        <li>Enhanced security features</li>
                                        <li>Global payment gateway integration</li>
                                    </ul>
                                </div>
                                
                                <!-- Phase 4 -->
                                <div class="roadmap-phase future">
                                    <h3>Phase 4: Ecosystem Expansion (Q3 2027)</h3>
                                    <ul class="attractive-ul">
                                        <li>STC wallet application</li>
                                        <li>Merchant adoption program</li>
                                        <li>Staking and governance features</li>
                                        <li>Advanced DeFi integrations</li>
                                        <li>Community governance implementation</li>
                                        <li>Global market penetration</li>
                                        <li>Additional earning methods</li>
                                        <li>Premium subscription features</li>
                                    </ul>
                                </div>
                                
                                <!-- Future -->
                                <div class="roadmap-phase future">
                                    <h3 style="color: var(--accent);">Future Vision (2028+)</h3>
                                    <ul class="attractive-ul info">
                                        <li>Global expansion to new markets</li>
                                        <li>NFT marketplace integration</li>
                                        <li>Advanced AI-powered earning opportunities</li>
                                        <li>Complete decentralized platform transition</li>
                                        <li>Industry partnerships and collaborations</li>
                                        <li>Market leadership in utility tokens</li>
                                        <li>Real-world asset tokenization</li>
                                        <li>Cross-border payment solutions</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Tokenomics Tab -->
                <div id="tokenomicsTab" class="token-content">
                    <div class="card">
                        <div class="token-details">
                            <h2 style="margin-bottom: 20px;">STC Token Tokenomics - 2026 Distribution</h2>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 30px;">
                                <div>
                                    <h3>Distribution Breakdown (2026 Launch)</h3>
                                    <ul class="attractive-ul">
                                        <li><strong>Phase 1 Mining Rewards:</strong> 40,000,000 STC (40%)</li>
                                        <li><strong>Platform Reserve:</strong> 30,000,000 STC (30%)</li>
                                        <li><strong>Team & Development:</strong> 15,000,000 STC (15%)</li>
                                        <li><strong>Marketing & Partnerships:</strong> 10,000,000 STC (10%)</li>
                                        <li><strong>Community & Airdrops:</strong> 5,000,000 STC (5%)</li>
                                    </ul>
                                </div>
                                <div>
                                    <h3>Release Schedule (2026-2028)</h3>
                                    <ul class="attractive-ul warning">
                                        <li><strong>Phase 1 Mining (2026-2027):</strong> 40M STC distributed</li>
                                        <li><strong>Platform Reserve:</strong> Locked until Q2 2027</li>
                                        <li><strong>Team Allocation:</strong> 3-year vesting starting 2027</li>
                                        <li><strong>Marketing Funds:</strong> Phased release 2026-2028</li>
                                        <li><strong>Community Funds:</strong> Immediate availability for programs</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 10px; margin-top: 20px;">
                                <h3 style="margin-bottom: 10px;">Coin Value System</h3>
                                <ul class="attractive-ul success">
                                    <li><strong>Coin Value:</strong> 5000 coins = $1 USD</li>
                                    <li><strong>Minimum Withdrawal:</strong> $5 USD (25000 coins)</li>
                                    <li><strong>STC Token Price:</strong> Estimated $5 (fluctuates with market)</li>
                                    <li><strong>Earning Methods:</strong> Ads, Mining, Spin & Win, Referrals</li>
                                    <li><strong>Sustainability:</strong> Ensures long-term platform sustainability</li>
                                    <li><strong>Withdrawal Options:</strong> Multiple methods available</li>
                                    <li><strong>Processing Fees:</strong> Minimal fees for sustainability</li>
                                </ul>
                            </div>
                            
                            <div style="background: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 10px; margin-top: 20px;">
                                <h3 style="margin-bottom: 10px;">Withdrawal Methods & Fees</h3>
                                <ul class="attractive-ul warning">
                                    <li><strong>USDT (TRC20/ERC20):</strong> 1% fee, processed within 24 hours</li>
                                    <li><strong>Bitcoin (BTC):</strong> 2% fee, processed within 24 hours</li>
                                    <li><strong>Ethereum (ETH):</strong> 2% fee, processed within 24 hours</li>
                                    <li><strong>USDC:</strong> 1% fee, processed within 24 hours</li>
                                    <li><strong>Bank Transfer:</strong> 3% fee, processed in 24-72 hours</li>
                                    <li><strong>Minimum Withdrawal:</strong> $5 USD for all methods</li>
                                    <li><strong>Maximum Daily:</strong> $1000 USD per user</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- STC Posts Page -->
    <div id="posts" class="page">
        <section class="posts-section">
            <div class="container">
                <h2 class="section-title">STC News & Updates</h2>
                
                <div class="card" style="margin-bottom: 25px; text-align: center;">
                    <h3 style="margin-bottom: 12px;">Latest STC Token Updates</h3>
                    <p style="color: #94a3b8;">Stay updated with the latest news about STC Token, mining updates, and platform announcements.</p>
                </div>
                
                <div class="posts-grid">
                    <div class="card post-card">
                        <div class="post-date">2026-01-15</div>
                        <div class="post-image">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="post-content">
                            <h3>STC Token Launch Announcement</h3>
                            <p>We are excited to announce the official launch of STC Token! The first phase of mining is now live. Users can start earning STC tokens through mining, watching ads, and referrals.</p>
                            <div class="post-tags">
                                <span class="post-tag">Launch</span>
                                <span class="post-tag">Mining</span>
                                <span class="post-tag">News</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2026-01-10</div>
                        <div class="post-image">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="post-content">
                            <h3>Price Update & Market Performance</h3>
                            <p>STC Token is performing well in the market with stable price discovery. Current estimated price is $5 with healthy fluctuations based on market demand and mining activity.</p>
                            <div class="post-tags">
                                <span class="post-tag">Price</span>
                                <span class="post-tag">Market</span>
                                <span class="post-tag">Update</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2026-01-05</div>
                        <div class="post-image">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <div class="post-content">
                            <h3>New Spin & Win Feature Added</h3>
                            <p>Introducing our new Spin & Win feature! Watch ads to spin the wheel and win coins or STC tokens. 40% chance for coins, 60% chance for STC tokens with exciting prizes!</p>
                            <div class="post-tags">
                                <span class="post-tag">Spin</span>
                                <span class="post-tag">Win</span>
                                <span class="post-tag">New Feature</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2026-01-01</div>
                        <div class="post-image">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="post-content">
                            <h3>Daily Login Rewards System</h3>
                            <p>Introducing our new Daily Login Rewards system! Login every day to build your streak and earn increasing STC rewards. After 30 days, earn 60 STC daily!</p>
                            <div class="post-tags">
                                <span class="post-tag">Daily</span>
                                <span class="post-tag">Rewards</span>
                                <span class="post-tag">Streak</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2025-12-28</div>
                        <div class="post-image">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="post-content">
                            <h3>Multiple Withdrawal Options Added</h3>
                            <p>We now support multiple withdrawal methods including USDT, BTC, ETH, USDC, and bank transfers. Choose your preferred method and withdraw your earnings easily.</p>
                            <div class="post-tags">
                                <span class="post-tag">Withdrawal</span>
                                <span class="post-tag">Crypto</span>
                                <span class="post-tag">Bank</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2025-12-25</div>
                        <div class="post-image">
                            <i class="fas fa-hard-hat"></i>
                        </div>
                        <div class="post-content">
                            <h3>Mining Phase 1 Success</h3>
                            <p>First phase of STC mining is exceeding expectations! Thousands of users are actively mining STC tokens. Early adopters are earning substantial rewards.</p>
                            <div class="post-tags">
                                <span class="post-tag">Mining</span>
                                <span class="post-tag">Success</span>
                                <span class="post-tag">Phase 1</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Daily Login Page -->
    <div id="dailyLogin" class="page">
        <section class="daily-login-section">
            <div class="container">
                <h2 class="section-title">Daily Login Rewards System</h2>
                
                <div class="card daily-login-card">
                    <div class="streak-display">
                        <div class="flame-animation">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="streak-count" id="streakCount">0</div>
                        <div class="streak-label">Consecutive Days</div>
                        <div style="color: #94a3b8; max-width: 400px; margin: 10px 0;">
                            Login daily to build your streak! Each day your STC reward increases by 2. 
                            After 30 days, you'll earn 60 STC every day until you break the streak.
                        </div>
                    </div>
                    
                    <!-- Reward Breakdown -->
                    <div class="reward-breakdown">
                        <div class="reward-item coin-reward">
                            <i class="fas fa-coins"></i>
                            <h4>Daily Coin Reward</h4>
                            <p>50 Coins Every Day</p>
                            <p style="font-size: 12px; color: #94a3b8;">(5000 coins = $1)</p>
                        </div>
                        <div class="reward-item streak-reward">
                            <i class="fas fa-chart-line"></i>
                            <h4>STC Streak Reward</h4>
                            <p id="currentSTCReward">2 STC Today</p>
                            <p style="font-size: 12px; color: #94a3b8;" id="streakFormula">Day 1: 2 STC</p>
                        </div>
                        <div class="reward-item bonus-reward">
                            <i class="fas fa-award"></i>
                            <h4>30-Day Bonus</h4>
                            <p>60 STC Daily</p>
                            <p style="font-size: 12px; color: #94a3b8;">After 30 days streak</p>
                        </div>
                    </div>
                    
                    <!-- Streak Calendar -->
                    <h4 style="margin: 30px 0 15px; color: var(--light);">30-Day Streak Calendar</h4>
                    <div class="streak-calendar" id="streakCalendar">
                        <!-- Calendar will be generated by JavaScript -->
                    </div>
                    
                    <!-- Claim Button -->
                    <button class="claim-button" onclick="claimDailyReward()" id="dailyClaimBtn">
                        <i class="fas fa-gift"></i> Claim Today's Reward
                    </button>
                    
                    <!-- Login Reminder -->
                    <div class="login-reminder" id="loginReminder">
                        <i class="fas fa-bell"></i>
                        <span>You must login within 24 hours to maintain your streak!</span>
                    </div>
                    
                    <!-- Streak Benefits -->
                    <div class="streak-benefits">
                        <h4 style="margin-bottom: 10px; color: var(--primary);">Streak Benefits</h4>
                        <ul class="attractive-ul success" style="text-align: left;">
                            <li><strong>Every Day:</strong> Get 50 coins (worth $0.01)</li>
                            <li><strong>STC Reward:</strong> Starts at 2 STC, increases by 2 each day</li>
                            <li><strong>Day 30+:</strong> Earn 60 STC daily (worth â‰ˆ $318.6 at $5.31/STC)</li>
                            <li><strong>Break Streak:</strong> If you miss a day, reset to Day 1</li>
                            <li><strong>24-Hour Window:</strong> Login within 24 hours to maintain streak</li>
                        </ul>
                    </div>
                    
                    <div class="streak-note">
                        <i class="fas fa-info-circle"></i> 
                        Daily rewards reset at 12:00 AM UTC. Your streak is saved automatically.
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('loginModal')">&times;</button>
            <h2 class="form-title">Login to STC-REWARDS</h2>
            
            <button class="btn btn-google" onclick="googleAuth()" id="googleLoginBtn">
                <i class="fab fa-google"></i> Continue with Google
            </button>
            
            <div class="divider">
                <span>or continue with email</span>
            </div>
            
            <form id="loginForm" onsubmit="handleEmailLogin(event)">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password (9 characters)</label>
                    <input type="password" class="form-input" id="loginPassword" minlength="9" maxlength="9" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="loginSubmitBtn">
                    Login
                </button>
            </form>
            
            <p style="text-align: center; margin-top: 15px; color: #94a3b8; font-size: 13px;">
                Don't have an account? <a href="#" onclick="switchToSignup()" style="color: var(--primary);">Sign up</a>
            </p>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('signupModal')">&times;</button>
            <h2 class="form-title">Create Account - Join STC 2026 Launch</h2>
            
            <button class="btn btn-google" onclick="googleAuth()" id="googleSignupBtn">
                <i class="fab fa-google"></i> Sign up with Google
            </button>
            
            <div class="divider">
                <span>or sign up with email</span>
            </div>
            
            <form id="signupForm" onsubmit="handleEmailSignup(event)">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" id="signupName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date of Birth</label>
                    <input type="date" class="form-input" id="signupDob" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password (9 characters)</label>
                    <input type="password" class="form-input" id="signupPassword" minlength="9" maxlength="9" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Referral Code (Optional)</label>
                    <input type="text" class="form-input" id="signupReferral" placeholder="Enter code to get 50 STC launch bonus">
                    <p style="font-size: 11px; color: #94a3b8; margin-top: 5px;">50 STC bonus during launch phase (normally 20 STC)</p>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="signupSubmitBtn">
                    Join STC 2026 Launch
                </button>
            </form>
            
            <p style="text-align: center; margin-top: 15px; color: #94a3b8; font-size: 13px;">
                Already have an account? <a href="#" onclick="switchToLogin()" style="color: var(--primary);">Login</a>
            </p>
        </div>
    </div>

    <!-- UPDATED: Withdraw Modal - Always opens, minimum $5 clearly shown -->
    <div id="withdrawModal" class="modal">
        <div class="modal-content" style="max-width: 550px;">
            <button class="close-modal" onclick="closeModal('withdrawModal')">&times;</button>
            <h2 class="form-title">Withdraw Funds</h2>
            
            <div class="form-group">
                <label class="form-label">Amount to Withdraw (USD)</label>
                <input type="number" class="form-input" id="withdrawAmount" min="5" step="0.1" value="5">
                <p style="font-size: 12px; color: #94a3b8; margin-top: 5px;">Minimum: <strong>$5 USD</strong> (25000 coins)</p>
                <p style="font-size: 11px; color: var(--warning); margin-top: 3px;">Available: $<span id="availableBalance">0</span> USD</p>
                <p id="insufficientBalanceMsg" style="display:none; color: var(--danger); font-size: 12px; margin-top: 5px;">
                    <i class="fas fa-exclamation-triangle"></i> Insufficient balance. Minimum $5 required.
                </p>
            </div>
            
            <div class="form-group">
                <label class="form-label">Select Withdrawal Method</label>
                <!-- FIXED: Withdrawal options container â€“ click listeners via event delegation -->
                <div class="withdrawal-options-grid" id="withdrawalOptions">
                    <div class="withdrawal-option selected" data-method="usdt" data-fee="1" data-network="TRC20">
                        <div class="crypto-icon usdt-bg">
                            <i class="fab fa-usd"></i>
                        </div>
                        <div>USDT</div>
                        <div class="withdrawal-fee">1% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                    <div class="withdrawal-option" data-method="btc" data-fee="2" data-network="BTC">
                        <div class="crypto-icon btc-bg">
                            <i class="fab fa-btc"></i>
                        </div>
                        <div>Bitcoin</div>
                        <div class="withdrawal-fee">2% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                    <div class="withdrawal-option" data-method="eth" data-fee="2" data-network="ERC20">
                        <div class="crypto-icon eth-bg">
                            <i class="fab fa-ethereum"></i>
                        </div>
                        <div>Ethereum</div>
                        <div class="withdrawal-fee">2% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                    <div class="withdrawal-option" data-method="usdc" data-fee="1" data-network="ERC20">
                        <div class="crypto-icon usdc-bg">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div>USDC</div>
                        <div class="withdrawal-fee">1% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                    <div class="withdrawal-option" data-method="bank" data-fee="3" data-network="Bank">
                        <div class="crypto-icon bank-bg">
                            <i class="fas fa-university"></i>
                        </div>
                        <div>Bank Transfer</div>
                        <div class="withdrawal-fee">3% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                </div>
            </div>
            
            <!-- Crypto Wallet Form -->
            <div id="cryptoForm">
                <div class="form-group">
                    <label class="form-label" id="walletLabel">USDT Wallet Address (TRC20)</label>
                    <input type="text" class="form-input" id="walletAddress" placeholder="Enter your wallet address">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Network</label>
                    <select class="form-input" id="withdrawNetwork">
                        <option value="TRC20">TRC20 (Recommended)</option>
                        <option value="ERC20">ERC20</option>
                        <option value="BEP20">BEP20</option>
                    </select>
                </div>
            </div>
            
            <!-- Bank Transfer Form -->
            <div id="bankForm" class="bank-transfer-form">
                <div class="method-details">
                    <p style="color: var(--warning); font-size: 13px; margin-bottom: 10px;">
                        <i class="fas fa-info-circle"></i> Bank transfers take 24-72 hours to process
                    </p>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Bank Name</label>
                    <input type="text" class="form-input" id="bankName" placeholder="Enter your bank name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Account Holder Name</label>
                    <input type="text" class="form-input" id="accountHolder" placeholder="Enter account holder name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Account Number</label>
                    <input type="text" class="form-input" id="accountNumber" placeholder="Enter account number">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Routing/SWIFT Code</label>
                    <input type="text" class="form-input" id="routingCode" placeholder="Enter routing or SWIFT code">
                </div>
            </div>
            
            <div class="form-group">
                <div style="background: rgba(99, 102, 241, 0.1); padding: 12px; border-radius: 8px; margin-top: 10px;">
                    <div style="display: flex; justify-content: space-between; font-size: 13px;">
                        <span>Withdrawal Amount:</span>
                        <span>$<span id="displayAmount">5.00</span></span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 13px; margin-top: 5px;">
                        <span>Processing Fee (<span id="feePercent">1</span>%):</span>
                        <span>-$<span id="feeAmount">0.05</span></span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 14px; margin-top: 8px; padding-top: 8px; border-top: 1px solid rgba(255, 255, 255, 0.1); font-weight: 600;">
                        <span>You Will Receive:</span>
                        <span>$<span id="netAmount">4.95</span></span>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-success" onclick="processWithdrawal()" style="width: 100%;" id="withdrawSubmitBtn">
                <i class="fas fa-check"></i> Confirm Withdrawal
            </button>
        </div>
    </div>

    <!-- Streak Reward Modal -->
    <div id="streakRewardModal" class="modal">
        <div class="modal-content streak-modal-content">
            <button class="close-modal" onclick="closeModal('streakRewardModal')">&times;</button>
            <div class="streak-celebration">
                <i class="fas fa-trophy"></i>
            </div>
            <h2 class="form-title" id="streakModalTitle">Daily Reward Claimed!</h2>
            
            <div style="margin: 20px 0; padding: 20px; background: rgba(16, 185, 129, 0.1); border-radius: 10px;">
                <div style="font-size: 24px; color: var(--success); font-weight: 700; margin-bottom: 10px;" id="rewardSTC">+2 STC</div>
                <div style="color: #94a3b8;">STC Tokens Added</div>
            </div>
            
            <div style="margin: 15px 0; padding: 15px; background: rgba(245, 158, 11, 0.1); border-radius: 10px;">
                <div style="font-size: 20px; color: var(--warning); font-weight: 700; margin-bottom: 5px;" id="rewardCoins">+50 Coins</div>
                <div style="color: #94a3b8;">Daily Login Bonus</div>
            </div>
            
            <div style="margin: 25px 0;">
                <div style="font-size: 18px; color: var(--light); margin-bottom: 10px;">Your Current Streak</div>
                <div style="font-size: 36px; color: var(--warning); font-weight: 800;" id="modalStreak">0 Days</div>
                <div style="color: #94a3b8; margin-top: 5px;">Come back tomorrow for more!</div>
            </div>
            
            <button class="btn btn-primary" onclick="closeModal('streakRewardModal'); showPage('dashboard', event);" style="width: 100%;">
                <i class="fas fa-check"></i> Awesome!
            </button>
        </div>
    </div>

    <!-- Wheel Result Modal -->
    <div id="wheelResultModal" class="modal">
        <div class="modal-content wheel-result-modal">
            <button class="close-modal" onclick="closeModal('wheelResultModal')">&times;</button>
            <div class="result-celebration">
                <i class="fas fa-gift"></i>
            </div>
            <h2 class="form-title">Congratulations!</h2>
            
            <div id="wheelResultContent">
                <!-- Content will be filled by JavaScript -->
            </div>
            
            <button class="btn btn-primary" onclick="closeModal('wheelResultModal')" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-check"></i> Continue
            </button>
        </div>
    </div>

    <!-- Ad Timer Modal -->
    <div id="adTimerModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <h2 class="form-title" id="adTimerTitle">Ad in Progress</h2>
            
            <div class="ad-timer-notice" id="adTimerNotice">
                <i class="fas fa-external-link-alt"></i>
                The ad has been opened in a new tab. Please watch it completely and return to this page to receive your reward.
            </div>
            
            <div style="text-align: center; margin: 25px 0;">
                <div style="font-size: 48px; color: var(--warning);">
                    <i class="fas fa-clock"></i>
                </div>
                <div style="font-size: 18px; color: var(--light); margin-top: 15px;" id="adTimerMessage">Please return after watching the ad</div>
                <div class="return-timer" id="returnTimer">30</div>
                <div style="color: #94a3b8; font-size: 14px;">seconds remaining</div>
            </div>
            
            <div class="ad-progress-container">
                <div class="ad-progress-bar" id="adTimerProgressBar"></div>
            </div>
            
            <button class="btn btn-success" onclick="completeAdManually()" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-check"></i> I Watched the Ad
            </button>
            
            <button class="btn btn-secondary" onclick="closeModal('adTimerModal')" style="width: 100%; margin-top: 10px;">
                <i class="fas fa-times"></i> Cancel
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <div class="logo" style="margin-bottom: 15px; font-size: 20px;">
                        <i class="fas fa-gem"></i>
                        STC-REWARDS
                    </div>
                    <p style="color: #94a3b8; max-width: 280px; font-size: 13px;">Earn cryptocurrency through ads, mining, spin & win, and referrals. Join the 2026 launch of STC Token today.</p>
                </div>
                <div class="footer-links">
                    <h4>Platform</h4>
                    <ul>
                        <li><a href="#" onclick="showPage('home', event)">Home</a></li>
                        <li><a href="#" onclick="showPage('mining', event)">Mining</a></li>
                        <li><a href="#" onclick="showPage('ads', event)">Watch Ads</a></li>
                        <li><a href="#" onclick="showPage('spin', event)">Spin & Win</a></li>
                        <li><a href="#" onclick="showPage('referral', event)">Referral</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="#" onclick="showPage('token', event); setTimeout(() => showTokenTab('whitepaper'), 100);">White Paper</a></li>
                        <li><a href="#" onclick="showPage('token', event); setTimeout(() => showTokenTab('roadmap'), 100);">Road Map</a></li>
                        <li><a href="#" onclick="showPage('posts', event)">STC Posts</a></li>
                        <li><a href="#" onclick="showPage('dailyLogin', event)">Daily Login</a></li>
                        <li><a href="#" onclick="showAuthModal('login')">Login</a></li>
                        <li><a href="#" onclick="showAuthModal('signup')">Sign Up</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="javascript:void(0)" onclick="showLegalModal('terms')">Terms of Service</a></li>
                        <li><a href="javascript:void(0)" onclick="showLegalModal('privacy')">Privacy Policy</a></li>
                        <li><a href="javascript:void(0)" onclick="showLegalModal('cookies')">Cookie Policy</a></li>
                        <li><a href="javascript:void(0)" onclick="showLegalModal('disclaimer')">Disclaimer</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>Â© 2026 STC-REWARDS. All rights reserved.</p>
                <p style="margin-top: 5px; font-size: 11px;">This is a registration platform. STC Token is a utility token within the STC-REWARDS ecosystem.</p>
                <p style="margin-top: 5px; font-size: 10px; color: #64748b;">STC Token launched in 2026 - First phase mining active | Estimated price: $5 (subject to market fluctuations) | 5000 coins = $1 USD</p>
            </div>
        </div>
    </footer>

    <script>
        // ========== FIREBASE CONFIG ==========
        const firebaseConfig = {
            apiKey: "AIzaSyDn4uLD3qNuEYpiXf_S8q_PVGzeaTlRthc",
            authDomain: "stc-rewards-b541f.firebaseapp.com",
            projectId: "stc-rewards-b541f",
            storageBucket: "stc-rewards-b541f.firebasestorage.app",
            messagingSenderId: "886121063816",
            appId: "1:886121063816:web:bb2ad55b5e05db7163c63d"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // ---------- GLOBAL USER STATE ----------
        let currentUser = {
            uid: null,
            loggedIn: false,
            name: "",
            email: "",
            photoURL: "",
            stc: 0,
            coins: 0,
            usdt: 0,
            referrals: 0,
            referralCode: "",
            referredBy: null,
            referrerBonus: 0,
            totalMined: 0,
            mining: false,
            miningStartTime: null,
            miningEndTime: null,
            joinDate: "",
            withdrawalHistory: [],
            dailyLogin: {
                streak: 0,
                lastLoginDate: "",
                claimedToday: false,
                streakHistory: [],
                totalDaysLogged: 0,
                highestStreak: 0
            },
            spinData: {
                spinsToday: 0,
                totalSpins: 0,
                totalWonCoins: 0,
                totalWonSTC: 0,
                lastSpinTime: null,
                maxSpinsPerDay: 10,      // UPDATED: 10 daily limit
                spinCooldown: 0
            }
        };

        // ---------- HELPER: Generate referral code ----------
        function generateReferralCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let code = '';
            for (let i = 0; i < 6; i++) code += chars.charAt(Math.floor(Math.random() * chars.length));
            return code;
        }

        // ---------- LOAD USER FROM FIRESTORE ----------
        async function loadUserFromFirestore(uid) {
            const docRef = db.collection('users').doc(uid);
            const docSnap = await docRef.get();
            if (docSnap.exists) {
                const data = docSnap.data();
                // Merge with currentUser
                Object.keys(currentUser).forEach(key => {
                    if (key in data) currentUser[key] = data[key];
                });
                // Ensure nested objects exist
                if (!currentUser.dailyLogin) {
                    currentUser.dailyLogin = {
                        streak: 0,
                        lastLoginDate: "",
                        claimedToday: false,
                        streakHistory: [],
                        totalDaysLogged: 0,
                        highestStreak: 0
                    };
                }
                if (!currentUser.spinData) {
                    currentUser.spinData = {
                        spinsToday: 0,
                        totalSpins: 0,
                        totalWonCoins: 0,
                        totalWonSTC: 0,
                        lastSpinTime: null,
                        maxSpinsPerDay: 10,   // UPDATED
                        spinCooldown: 0
                    };
                }
                if (!currentUser.withdrawalHistory) currentUser.withdrawalHistory = [];
            } else {
                // New user â€“ create document with defaults
                const newUser = {
                    email: currentUser.email,
                    name: currentUser.name,
                    photoURL: currentUser.photoURL || "",
                    stc: 0,
                    coins: 0,
                    usdt: 0,
                    referrals: 0,
                    referralCode: generateReferralCode(),
                    referredBy: null,
                    referrerBonus: 0,
                    totalMined: 0,
                    mining: false,
                    miningStartTime: null,
                    miningEndTime: null,
                    joinDate: new Date().toISOString().split('T')[0],
                    withdrawalHistory: [],
                    dailyLogin: {
                        streak: 0,
                        lastLoginDate: "",
                        claimedToday: false,
                        streakHistory: [],
                        totalDaysLogged: 0,
                        highestStreak: 0
                    },
                    spinData: {
                        spinsToday: 0,
                        totalSpins: 0,
                        totalWonCoins: 0,
                        totalWonSTC: 0,
                        lastSpinTime: null,
                        maxSpinsPerDay: 10,   // UPDATED
                        spinCooldown: 0
                    }
                };
                // Apply referral code if present
                const refCode = localStorage.getItem('referral_code');
                if (refCode) {
                    newUser.referredBy = refCode;
                    newUser.stc += 50; // Launch bonus
                    localStorage.removeItem('referral_code');
                }
                await docRef.set(newUser);
                Object.assign(currentUser, newUser);
            }
            currentUser.uid = uid;
            currentUser.loggedIn = true;
        }

        // ---------- SAVE USER TO FIRESTORE ----------
        async function saveUserToFirestore(updates = {}) {
            if (!currentUser.uid) return;
            const docRef = db.collection('users').doc(currentUser.uid);
            await docRef.update(updates);
            Object.assign(currentUser, updates);
        }

        // ---------- AUTH STATE LISTENER ----------
        auth.onAuthStateChanged(async (firebaseUser) => {
            if (firebaseUser) {
                currentUser.name = firebaseUser.displayName || firebaseUser.email.split('@')[0];
                currentUser.email = firebaseUser.email;
                currentUser.photoURL = firebaseUser.photoURL || `https://ui-avatars.com/api/?name=${encodeURIComponent(currentUser.name)}&background=6366f1&color=fff`;
                
                await loadUserFromFirestore(firebaseUser.uid);
                
                updateUI();
                closeAllModals();
                showPage('dashboard');
                showNotification(`Welcome back, ${currentUser.name}!`);
                
                checkDailyLoginStatus();
                if (currentUser.mining && currentUser.miningEndTime) {
                    const now = Date.now();
                    if (now >= currentUser.miningEndTime) {
                        completeMining();
                    } else {
                        startMiningChecker();
                        updateMiningTimer();
                    }
                }
            } else {
                currentUser = { 
                    ...currentUser, 
                    loggedIn: false, 
                    uid: null, 
                    stc: 0, 
                    coins: 0, 
                    usdt: 0, 
                    referrals: 0,
                    mining: false,
                    miningStartTime: null,
                    miningEndTime: null,
                    withdrawalHistory: []
                };
                updateUI();
                showPage('home');
            }
        });

        // ---------- EMAIL SIGNUP ----------
        window.handleEmailSignup = async function(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const referral = document.getElementById('signupReferral').value.trim();
            if (password.length !== 9) {
                showNotification('Password must be exactly 9 characters', 'error');
                return;
            }
            try {
                if (referral) localStorage.setItem('referral_code', referral);
                const cred = await auth.createUserWithEmailAndPassword(email, password);
                await cred.user.updateProfile({ displayName: name });
                // Auth listener will handle Firestore creation
            } catch (error) {
                showNotification(error.message, 'error');
            }
        };

        // ---------- EMAIL LOGIN ----------
        window.handleEmailLogin = async function(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            try {
                await auth.signInWithEmailAndPassword(email, password);
            } catch (error) {
                showNotification(error.message, 'error');
            }
        };

        // ---------- GOOGLE AUTH ----------
        window.googleAuth = async function() {
            try {
                const provider = new firebase.auth.GoogleAuthProvider();
                await auth.signInWithPopup(provider);
            } catch (error) {
                showNotification(error.message, 'error');
            }
        };

        // ---------- LOGOUT ----------
        window.logout = async function() {
            await auth.signOut();
            showNotification('Logged out successfully');
        };

        // ---------- UPDATE UI ----------
        function updateUI() {
            // Update referral code display
            document.getElementById('refCode').textContent = currentUser.referralCode || 'X8Y9Z7';
            
            // Update balances
            document.getElementById('stcBalance').textContent = currentUser.stc;
            document.getElementById('stcValue').textContent = (currentUser.stc * stcPrice).toFixed(2);
            document.getElementById('coinBalance').textContent = currentUser.coins;
            document.getElementById('coinValue').textContent = (currentUser.coins / 5000).toFixed(2);
            document.getElementById('usdtBalance').textContent = currentUser.usdt.toFixed(2);
            document.getElementById('totalCoins').textContent = currentUser.coins + ' coins';
            document.getElementById('totalMined').textContent = (currentUser.totalMined || 0) + ' STC';
            document.getElementById('refCount').textContent = currentUser.referrals;
            document.getElementById('refEarnings').textContent = (currentUser.referrals * 50) + ' STC';
            document.getElementById('miningBonus').textContent = (currentUser.referrerBonus || 0).toFixed(2) + ' STC';
            
            if (currentUser.loggedIn) {
                document.getElementById('userName').textContent = `Welcome, ${currentUser.name}!`;
                document.getElementById('userEmail').textContent = currentUser.email;
                document.getElementById('userNameDisplay').textContent = currentUser.name;
                if (currentUser.photoURL) document.getElementById('userAvatar').src = currentUser.photoURL;
                document.getElementById('loginBtn').style.display = 'none';
                document.getElementById('signupBtn').style.display = 'none';
                document.getElementById('userProfile').style.display = 'flex';
            } else {
                document.getElementById('loginBtn').style.display = 'inline-flex';
                document.getElementById('signupBtn').style.display = 'inline-flex';
                document.getElementById('userProfile').style.display = 'none';
            }
            
            updateCoinProgress();
            updatePriceDisplays();
            updateStreakUI();
            updateSpinStats();
            updateReferralStats();
            updateReferralLink();
            toggleReferralEntrySection();
        }

        // ---------- MINING ----------
        let miningCheckInterval = null;

        async function startMining() {
            if (currentUser.mining) {
                showNotification('Mining is already in progress!', 'warning');
                return;
            }
            const now = Date.now();
            const end = now + 6 * 60 * 60 * 1000;
            await saveUserToFirestore({
                mining: true,
                miningStartTime: now,
                miningEndTime: end
            });
            startMiningChecker();
            updateMiningTimer();
            showNotification('Mining started! 6 hours remaining.');
        }

        async function completeMining() {
            if (!currentUser.mining) return;
            const stcEarned = 12;
            currentUser.stc += stcEarned;
            currentUser.totalMined = (currentUser.totalMined || 0) + stcEarned;
            // 10% referral bonus
            if (currentUser.referredBy) {
                currentUser.referrerBonus = (currentUser.referrerBonus || 0) + 1.2;
            }
            await saveUserToFirestore({
                stc: currentUser.stc,
                totalMined: currentUser.totalMined,
                referrerBonus: currentUser.referrerBonus,
                mining: false,
                miningStartTime: null,
                miningEndTime: null
            });
            stopMiningChecker();
            updateUI();
            showNotification('Mining completed! +12 STC');
        }

        function startMiningChecker() {
            if (miningCheckInterval) clearInterval(miningCheckInterval);
            miningCheckInterval = setInterval(() => {
                if (currentUser.mining && currentUser.miningEndTime) {
                    const now = Date.now();
                    if (now >= currentUser.miningEndTime) {
                        completeMining();
                    } else {
                        updateMiningTimer();
                    }
                }
            }, 1000);
        }

        function stopMiningChecker() {
            if (miningCheckInterval) {
                clearInterval(miningCheckInterval);
                miningCheckInterval = null;
            }
        }

        function updateMiningTimer() {
            if (!currentUser.mining || !currentUser.miningEndTime) {
                document.getElementById('miningTimer').textContent = '06:00:00';
                document.getElementById('miningProgress').style.width = '0%';
                document.getElementById('miningStatusText').textContent = 'Ready to Start';
                document.getElementById('miningStatusText').style.color = 'var(--success)';
                document.getElementById('miningBtn').textContent = 'Watch Ad to Start Mining';
                document.getElementById('miningBtn').classList.remove('mining-active');
                return;
            }
            const now = Date.now();
            const remaining = currentUser.miningEndTime - now;
            if (remaining <= 0) {
                completeMining();
                return;
            }
            const hours = Math.floor(remaining / 3600000);
            const minutes = Math.floor((remaining % 3600000) / 60000);
            const seconds = Math.floor((remaining % 60000) / 1000);
            document.getElementById('miningTimer').textContent = 
                `${hours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
            const total = 6 * 60 * 60 * 1000;
            const progress = ((total - remaining) / total) * 100;
            document.getElementById('miningProgress').style.width = `${progress}%`;
            document.getElementById('miningStatusText').textContent = 'Mining in progress...';
            document.getElementById('miningStatusText').style.color = '#10b981';
            document.getElementById('miningBtn').textContent = 'Stop Mining';
            document.getElementById('miningBtn').classList.add('mining-active');
        }

        // ---------- ADS ----------
        let adTimerInterval = null;
        let currentAdButton = null;
        let currentAdType = '';
        const adUrls = [
            "https://otieu.com/4/10584090",
            "https://otieu.com/4/10584092",
            "https://otieu.com/4/10584093",
            "https://otieu.com/4/10546347",
            "https://otieu.com/4/10536264",
            "https://otieu.com/4/10536238"
        ];

        window.openAdDirectly = function(button) {
            if (!currentUser.loggedIn) { showAuthModal('login'); return; }
            if (button.disabled) return;
            const min = parseInt(button.getAttribute('data-min'));
            const max = parseInt(button.getAttribute('data-max'));
            currentAdButton = {
                element: button,
                min, max,
                originalText: button.innerHTML,
                duration: button.innerHTML.includes('45s') ? 45 : button.innerHTML.includes('60s') ? 60 : 90
            };
            button.disabled = true;
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Opening Ad...';
            const randomAd = adUrls[Math.floor(Math.random() * adUrls.length)];
            window.open(randomAd, '_blank');
            showAdTimerModal(currentAdButton.duration, 'ad');
        };

        function showAdTimerModal(duration, type) {
            currentAdDuration = duration;
            currentAdType = type;
            document.getElementById('returnTimer').textContent = duration;
            document.getElementById('adTimerProgressBar').style.width = '0%';
            document.getElementById('adTimerTitle').textContent = 'Ad in Progress';
            document.getElementById('adTimerMessage').textContent = 'Please return after watching the ad';
            showModal('adTimerModal');
            let countdown = duration;
            adTimerInterval = setInterval(() => {
                countdown--;
                document.getElementById('returnTimer').textContent = countdown;
                document.getElementById('adTimerProgressBar').style.width = ((duration - countdown) / duration * 100) + '%';
                if (countdown <= 0) {
                    clearInterval(adTimerInterval);
                    completeAdAfterTimer();
                }
            }, 1000);
        }

        async function completeAdAfterTimer() {
            if (!currentAdButton) return;
            const min = currentAdButton.min;
            const max = currentAdButton.max;
            const coins = Math.floor(Math.random() * (max - min + 1)) + min;
            currentUser.coins += coins;
            await saveUserToFirestore({ coins: currentUser.coins });
            updateUI();
            currentAdButton.element.disabled = false;
            currentAdButton.element.innerHTML = currentAdButton.originalText;
            closeModal('adTimerModal');
            showNotification(`You earned ${coins} coins!`);
            currentAdButton = null;
            currentAdType = '';
        }

        // ---------- UPDATED SPIN & WIN ----------
        const spinPrizes = [
            { type: 'coins', amount: 2, probability: 15 },
            { type: 'coins', amount: 5, probability: 15 },
            { type: 'coins', amount: 10, probability: 15 },
            { type: 'coins', amount: 20, probability: 10 },
            { type: 'stc', amount: 1, probability: 10 },
            { type: 'stc', amount: 3, probability: 10 },
            { type: 'coins', amount: 5, probability: 10 },   // duplicate
            { type: 'coins', amount: 10, probability: 10 },  // duplicate
            { type: 'stc', amount: 100, probability: 5 }     // grand prize, low chance
        ];
        const wheelColors = ['#FF6B6B','#4ECDC4','#FFD166','#06D6A0','#118AB2','#073B4C','#EF476F','#FFD166','#06D6A0'];
        let wheelSpinning = false;
        let selectedPrizeIndex = 0;
        let spinCooldownInterval = null;

        function createSpinWheel() {
            const wheel = document.getElementById('wheel');
            if (!wheel) return;
            wheel.innerHTML = '';
            for (let i = 0; i < 9; i++) {
                const segment = document.createElement('div');
                segment.className = 'wheel-segment';
                segment.style.transform = `rotate(${i * 40}deg)`;
                segment.style.backgroundColor = wheelColors[i];
                const content = document.createElement('div');
                content.className = 'segment-content';
                const prize = spinPrizes[i];
                if (prize.type === 'coins') content.innerHTML = `<div class="segment-coins">${prize.amount}<br>Coins</div>`;
                else content.innerHTML = `<div class="segment-stc">${prize.amount}<br>STC</div>`;
                segment.appendChild(content);
                wheel.appendChild(segment);
            }
        }

        window.startSpinAd = function() {
            if (!checkCanSpin()) return;
            currentAdButton = {
                element: document.getElementById('spinButton'),
                originalText: document.getElementById('spinButton').innerHTML,
                duration: 30,
                isSpinAd: true
            };
            const spinBtn = document.getElementById('spinButton');
            spinBtn.disabled = true;
            spinBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Opening Ad...';
            const randomAd = adUrls[Math.floor(Math.random() * adUrls.length)];
            window.open(randomAd, '_blank');
            showSpinAdTimerModal(30);
        };

        function showSpinAdTimerModal(duration) {
            currentAdDuration = duration;
            currentAdType = 'spin';
            document.getElementById('returnTimer').textContent = duration;
            document.getElementById('adTimerProgressBar').style.width = '0%';
            document.getElementById('adTimerTitle').textContent = 'Watch Ad to Spin Wheel';
            document.getElementById('adTimerMessage').textContent = 'Watch the ad to spin the wheel and win coins or STC tokens!';
            showModal('adTimerModal');
            let countdown = duration;
            adTimerInterval = setInterval(() => {
                countdown--;
                document.getElementById('returnTimer').textContent = countdown;
                document.getElementById('adTimerProgressBar').style.width = ((duration - countdown) / duration * 100) + '%';
                if (countdown <= 0) {
                    clearInterval(adTimerInterval);
                    completeSpinAdAfterTimer();
                }
            }, 1000);
        }

        function completeSpinAdAfterTimer() {
            if (!currentAdButton) return;
            spinWheel();
            closeModal('adTimerModal');
            currentAdButton = null;
        }

        async function spinWheel() {
            if (wheelSpinning || !checkCanSpin()) return;
            wheelSpinning = true;
            const totalProbability = spinPrizes.reduce((s,p) => s + p.probability, 0);
            let rand = Math.random() * totalProbability;
            let cumulative = 0;
            for (let i = 0; i < spinPrizes.length; i++) {
                cumulative += spinPrizes[i].probability;
                if (rand <= cumulative) {
                    selectedPrizeIndex = i;
                    break;
            }}
            const fullRotations = 5;
            const segmentAngle = 40;
            const targetAngle = fullRotations * 360 + (selectedPrizeIndex * segmentAngle) + (segmentAngle / 2);
            const wheel = document.getElementById('wheel');
            wheel.style.transform = `rotate(${targetAngle}deg)`;
            const spinBtn = document.getElementById('spinButton');
            spinBtn.disabled = true;
            spinBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Spinning...';
            currentUser.spinData.spinsToday++;
            currentUser.spinData.totalSpins++;
            currentUser.spinData.lastSpinTime = Date.now();
            await saveUserToFirestore({ spinData: currentUser.spinData });
            setTimeout(async () => {
                wheelSpinning = false;
                const prize = spinPrizes[selectedPrizeIndex];
                if (prize.type === 'coins') {
                    currentUser.coins += prize.amount;
                    currentUser.spinData.totalWonCoins += prize.amount;
                } else {
                    currentUser.stc += prize.amount;
                    currentUser.spinData.totalWonSTC += prize.amount;
                }
                await saveUserToFirestore({
                    coins: currentUser.coins,
                    stc: currentUser.stc,
                    spinData: currentUser.spinData
                });
                updateUI();
                showWheelResult(prize);
                spinBtn.disabled = false;
                spinBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Watch Ad to Spin (30s)';
                startSpinCooldown();
            }, 5000);
        }

        function checkCanSpin() {
            if (!currentUser.loggedIn) { showAuthModal('login'); return false; }
            if (currentUser.spinData.spinsToday >= 10) {   // UPDATED limit
                showNotification('Maximum spins reached for today (10). Come back tomorrow!', 'warning');
                return false;
            }
            if (currentUser.spinData.spinCooldown > 0) {
                showNotification(`Please wait ${currentUser.spinData.spinCooldown}s`, 'warning');
                return false;
            }
            return true;
        }

        function startSpinCooldown() {
            currentUser.spinData.spinCooldown = 30;
            saveUserToFirestore({ spinData: currentUser.spinData });
            document.getElementById('spinCooldown').style.display = 'block';
            document.getElementById('spinButton').style.display = 'none';
            if (spinCooldownInterval) clearInterval(spinCooldownInterval);
            spinCooldownInterval = setInterval(async () => {
                currentUser.spinData.spinCooldown--;
                if (currentUser.spinData.spinCooldown <= 0) {
                    clearInterval(spinCooldownInterval);
                    document.getElementById('spinCooldown').style.display = 'none';
                    document.getElementById('spinButton').style.display = 'inline-flex';
                }
                document.getElementById('cooldownTimer').textContent = 
                    `${Math.floor(currentUser.spinData.spinCooldown / 60).toString().padStart(2,'0')}:${(currentUser.spinData.spinCooldown % 60).toString().padStart(2,'0')}`;
                await saveUserToFirestore({ spinData: currentUser.spinData });
            }, 1000);
        }

        function showWheelResult(prize) {
            const content = document.getElementById('wheelResultContent');
            if (prize.type === 'coins') {
                content.innerHTML = `
                    <div style="margin:20px 0; padding:20px; background:rgba(245,158,11,0.1); border-radius:10px;">
                        <div class="result-amount">${prize.amount} Coins</div>
                        <div class="result-type">Coin Prize</div>
                        <div style="color:#94a3b8;">â‰ˆ $${(prize.amount/5000).toFixed(4)} USD</div>
                    </div>
                    <div class="result-message"><i class="fas fa-coins"></i> ${prize.amount} coins added!</div>
                `;
            } else {
                content.innerHTML = `
                    <div style="margin:20px 0; padding:20px; background:rgba(99,102,241,0.1); border-radius:10px;">
                        <div class="result-amount">${prize.amount} STC</div>
                        <div class="result-type">STC Token Prize</div>
                        <div style="color:#94a3b8;">â‰ˆ $${(prize.amount * stcPrice).toFixed(2)} USD</div>
                    </div>
                    <div class="result-message"><i class="fas fa-gem"></i> ${prize.amount} STC added!</div>
                `;
            }
            showModal('wheelResultModal');
        }

        function updateSpinStats() {
            document.getElementById('spinsToday').textContent = currentUser.spinData?.spinsToday || 0;
            document.getElementById('totalSpins').textContent = currentUser.spinData?.totalSpins || 0;
            document.getElementById('spinsTodayCount').textContent = currentUser.spinData?.spinsToday || 0;
            const totalValue = (currentUser.spinData?.totalWonCoins / 5000) + (currentUser.spinData?.totalWonSTC * stcPrice);
            document.getElementById('totalWon').textContent = `$${totalValue.toFixed(2)}`;
        }

        // ---------- DAILY LOGIN ----------
        function getCurrentDate() { return new Date().toISOString().split('T')[0]; }
        function getYesterdayDate() { const d = new Date(); d.setDate(d.getDate()-1); return d.toISOString().split('T')[0]; }

        function checkDailyLoginStatus() {
            if (!currentUser.loggedIn) return;
            const today = getCurrentDate();
            const yesterday = getYesterdayDate();
            if (!currentUser.dailyLogin) {
                currentUser.dailyLogin = { streak:0, lastLoginDate:"", claimedToday:false, streakHistory:[], totalDaysLogged:0, highestStreak:0 };
            }
            if (!currentUser.dailyLogin.lastLoginDate) {
                currentUser.dailyLogin.streak = 1;
                currentUser.dailyLogin.lastLoginDate = today;
                currentUser.dailyLogin.claimedToday = false;
                currentUser.dailyLogin.totalDaysLogged = 1;
                currentUser.dailyLogin.highestStreak = 1;
            } else if (currentUser.dailyLogin.lastLoginDate === today) {
                // already logged in
            } else if (currentUser.dailyLogin.lastLoginDate === yesterday) {
                currentUser.dailyLogin.streak++;
                currentUser.dailyLogin.lastLoginDate = today;
                currentUser.dailyLogin.claimedToday = false;
                currentUser.dailyLogin.totalDaysLogged++;
                if (currentUser.dailyLogin.streak > currentUser.dailyLogin.highestStreak) 
                    currentUser.dailyLogin.highestStreak = currentUser.dailyLogin.streak;
            } else {
                currentUser.dailyLogin.streak = 1;
                currentUser.dailyLogin.lastLoginDate = today;
                currentUser.dailyLogin.claimedToday = false;
                currentUser.dailyLogin.totalDaysLogged++;
            }
            saveUserToFirestore({ dailyLogin: currentUser.dailyLogin });
            updateStreakUI();
        }

        window.claimDailyReward = async function() {
            if (!currentUser.loggedIn) { showAuthModal('login'); return; }
            if (currentUser.dailyLogin.claimedToday) {
                showNotification('Already claimed today!', 'info');
                return;
            }
            let stcReward;
            if (currentUser.dailyLogin.streak > 30) stcReward = 60;
            else stcReward = currentUser.dailyLogin.streak * 2;
            const coinReward = 50;
            currentUser.stc += stcReward;
            currentUser.coins += coinReward;
            currentUser.dailyLogin.claimedToday = true;
            updateStreakHistory();
            await saveUserToFirestore({
                stc: currentUser.stc,
                coins: currentUser.coins,
                dailyLogin: currentUser.dailyLogin
            });
            updateUI();
            showStreakRewardModal(stcReward, coinReward);
            showNotification(`Daily reward: ${stcReward} STC + 50 coins!`);
        };

        function updateStreakHistory() {
            if (!currentUser.dailyLogin.streakHistory) currentUser.dailyLogin.streakHistory = [];
            const today = getCurrentDate();
            const index = currentUser.dailyLogin.streakHistory.findIndex(d => d.date === today);
            if (index === -1) {
                currentUser.dailyLogin.streakHistory.push({ date: today, claimed: currentUser.dailyLogin.claimedToday, streak: currentUser.dailyLogin.streak });
                if (currentUser.dailyLogin.streakHistory.length > 30) currentUser.dailyLogin.streakHistory.shift();
            } else {
                currentUser.dailyLogin.streakHistory[index].claimed = currentUser.dailyLogin.claimedToday;
                currentUser.dailyLogin.streakHistory[index].streak = currentUser.dailyLogin.streak;
            }
        }

        function updateStreakUI() {
            document.getElementById('streakCount').textContent = currentUser.dailyLogin?.streak || 0;
            document.getElementById('dashboardStreak').textContent = currentUser.dailyLogin?.streak || 0;
            let stcReward;
            if (currentUser.dailyLogin?.streak > 30) stcReward = 60;
            else stcReward = (currentUser.dailyLogin?.streak || 0) * 2;
            document.getElementById('currentSTCReward').textContent = `${stcReward} STC Today`;
            document.getElementById('todayReward').textContent = `${stcReward} STC + 50 coins`;
            const nextStreak = (currentUser.dailyLogin?.streak || 0) + 1;
            let nextReward = nextStreak > 30 ? 60 : nextStreak * 2;
            document.getElementById('nextReward').textContent = `${nextReward} STC + 50 coins`;
            if (currentUser.dailyLogin?.streak >= 30) document.getElementById('streakFormula').textContent = 'Day 30+: 60 STC daily';
            else document.getElementById('streakFormula').textContent = `Day ${currentUser.dailyLogin?.streak || 0}: ${stcReward} STC (Day Ã— 2)`;
            
            if (currentUser.dailyLogin?.claimedToday) {
                document.getElementById('streakStatus').textContent = 'Claimed today';
                document.getElementById('streakStatus').style.color = '#10b981';
                document.getElementById('dailyClaimBtn').textContent = 'Claimed Today';
                document.getElementById('dailyClaimBtn').disabled = true;
                document.getElementById('dailyClaimBtn').classList.add('claimed');
                document.getElementById('dashboardClaimBtn').textContent = 'Claimed Today';
                document.getElementById('dashboardClaimBtn').disabled = true;
                document.getElementById('dashboardClaimBtn').classList.add('claimed');
            } else {
                document.getElementById('streakStatus').textContent = 'Ready to claim';
                document.getElementById('streakStatus').style.color = '#f59e0b';
                document.getElementById('dailyClaimBtn').textContent = 'Claim Today\'s Reward';
                document.getElementById('dailyClaimBtn').disabled = false;
                document.getElementById('dailyClaimBtn').classList.remove('claimed');
                document.getElementById('dashboardClaimBtn').textContent = 'Claim Daily Reward';
                document.getElementById('dashboardClaimBtn').disabled = false;
                document.getElementById('dashboardClaimBtn').classList.remove('claimed');
            }
            updateStreakCalendar();
        }

        function updateStreakCalendar() {
            const calendar = document.getElementById('streakCalendar');
            if (!calendar) return;
            calendar.innerHTML = '';
            const today = new Date();
            const streakHistory = currentUser.dailyLogin?.streakHistory || [];
            for (let i = 29; i >= 0; i--) {
                const date = new Date(); date.setDate(today.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                const dayRecord = streakHistory.find(d => d.date === dateStr);
                const dayBox = document.createElement('div');
                dayBox.className = 'day-box';
                dayBox.textContent = date.getDate();
                const rewardTooltip = document.createElement('div');
                rewardTooltip.className = 'day-reward';
                if (i === 0) {
                    dayBox.classList.add('current');
                    rewardTooltip.textContent = `Today: ${currentUser.dailyLogin?.claimedToday ? 'Claimed' : 'Ready'}`;
                } else if (dayRecord && dayRecord.claimed) {
                    dayBox.classList.add('completed');
                    rewardTooltip.textContent = `Claimed: ${Math.min(dayRecord.streak * 2, 60)} STC`;
                } else if (dayRecord && !dayRecord.claimed) {
                    dayBox.classList.add('missed');
                    rewardTooltip.textContent = 'Missed';
                } else {
                    dayBox.classList.add('future');
                    rewardTooltip.textContent = 'Future';
                }
                dayBox.appendChild(rewardTooltip);
                calendar.appendChild(dayBox);
            }
        }

        function showStreakRewardModal(stcReward, coinReward) {
            document.getElementById('rewardSTC').textContent = `+${stcReward} STC`;
            document.getElementById('rewardCoins').textContent = `+${coinReward} Coins`;
            document.getElementById('modalStreak').textContent = `${currentUser.dailyLogin?.streak || 0} Days`;
            showModal('streakRewardModal');
        }

        // ---------- REFERRAL ----------
        function toggleReferralEntrySection() {
            const section = document.getElementById('enterReferralSection');
            if (!section) return;
            if (!currentUser.loggedIn) {
                section.style.display = 'block';
                const content = section.querySelector('.referral-entry-content');
                if (content) content.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: linear-gradient(45deg, var(--warning), #f97316); padding: 5px 15px; border-radius: 30px; color: white; font-size: 14px; font-weight: 800;">
                            <i class="fas fa-gift"></i> LAUNCH BONUS
                        </span>
                    </div>
                    <div class="referral-entry-title" style="font-size: 32px;"><i class="fas fa-ticket-alt"></i> Apply Referral Code</div>
                    <div class="referral-entry-subtitle" style="font-size: 18px;">
                        Get <span style="color: var(--warning); font-weight: 900; font-size: 28px;">50 STC</span> INSTANT BONUS! 
                        <span class="bonus-tag" style="font-size: 16px;">LAUNCH EXCLUSIVE</span>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); padding: 25px; border-radius: 16px; margin: 20px 0;">
                        <div style="text-align: center; padding: 20px;">
                            <i class="fas fa-lock" style="font-size: 48px; color: var(--warning); margin-bottom: 15px;"></i>
                            <h3 style="font-size: 24px; margin-bottom: 10px;">Login to Apply Referral Code</h3>
                            <p style="color: #94a3b8; margin-bottom: 20px;">Please login or create an account to apply a referral code and get 50 STC bonus!</p>
                            <div style="display: flex; gap: 15px; justify-content: center;">
                                <button class="btn btn-primary" onclick="showAuthModal('login')" style="padding: 12px 25px;">
                                    <i class="fas fa-sign-in-alt"></i> Login
                                </button>
                                <button class="btn btn-mining" onclick="showAuthModal('signup')" style="padding: 12px 25px;">
                                    <i class="fas fa-user-plus"></i> Sign Up
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="input-hint" style="font-size: 15px; margin-top: 15px;">
                        <i class="fas fa-info-circle" style="font-size: 18px;"></i>
                        Don't have a referral code? Use our official code: <span style="background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 8px; font-weight: 800; color: var(--warning);">STC-LAUNCH50</span>
                    </div>
                `;
            } else if (currentUser.referredBy) {
                section.style.display = 'block';
                section.style.border = '3px solid var(--success)';
                const content = section.querySelector('.referral-entry-content');
                if (content) content.innerHTML = `
                    <div style="text-align: center;">
                        <i class="fas fa-check-circle" style="font-size: 64px; color: var(--success); margin-bottom: 15px;"></i>
                        <div class="referral-entry-title" style="color: var(--success);">Referral Code Applied!</div>
                        <div style="font-size: 20px; margin: 15px 0; color: var(--light);">
                            You used code: <span style="background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 30px; font-weight: 800; color: var(--warning);">${currentUser.referredBy}</span>
                        </div>
                        <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 12px; margin-top: 20px;">
                            <div style="font-size: 32px; font-weight: 900; color: var(--success);">50 STC</div>
                            <div style="color: #94a3b8; font-size: 16px;">Launch bonus already added to your account!</div>
                        </div>
                        <p style="color: #94a3b8; margin-top: 20px;">
                            <i class="fas fa-info-circle"></i> 
                            You can only use one referral code. Share your own code to earn rewards!
                        </p>
                    </div>
                `;
            } else {
                section.style.display = 'block';
                section.style.border = '3px solid var(--primary)';
                const content = section.querySelector('.referral-entry-content');
                if (content) content.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: linear-gradient(45deg, var(--warning), #f97316); padding: 5px 15px; border-radius: 30px; color: white; font-size: 14px; font-weight: 800;">
                            <i class="fas fa-gift"></i> LAUNCH BONUS
                        </span>
                    </div>
                    <div class="referral-entry-title" style="font-size: 32px;"><i class="fas fa-ticket-alt"></i> Apply Referral Code</div>
                    <div class="referral-entry-subtitle" style="font-size: 18px;">
                        Get <span style="color: var(--warning); font-weight: 900; font-size: 28px;">50 STC</span> INSTANT BONUS! 
                        <span class="bonus-tag" style="font-size: 16px;">LAUNCH EXCLUSIVE</span>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); padding: 25px; border-radius: 16px; margin: 20px 0;">
                        <div class="referral-input-group">
                            <div class="referral-input-wrapper" style="flex: 2;">
                                <i class="fas fa-ticket-alt" style="left: 20px; font-size: 24px;"></i>
                                <input type="text" id="enterReferralInput" placeholder="Enter referral code (e.g., STC-ABC123)" 
                                       style="padding: 22px 20px 22px 60px; font-size: 18px; font-weight: 700; letter-spacing: 2px;">
                            </div>
                            <button class="btn btn-mining" onclick="applyReferralCode()" style="padding: 18px 35px; font-size: 18px; font-weight: 800;">
                                <i class="fas fa-check-circle"></i> APPLY & GET 50 STC
                            </button>
                        </div>
                        <div style="display: flex; justify-content: center; gap: 30px; margin-top: 20px; flex-wrap: wrap;">
                            <div style="display: flex; align-items: center; gap: 8px;"><i class="fas fa-check-circle" style="color: var(--success);"></i><span style="color: #94a3b8;">50 STC instant bonus</span></div>
                            <div style="display: flex; align-items: center; gap: 8px;"><i class="fas fa-check-circle" style="color: var(--success);"></i><span style="color: #94a3b8;">One-time use only</span></div>
                            <div style="display: flex; align-items: center; gap: 8px;"><i class="fas fa-check-circle" style="color: var(--success);"></i><span style="color: #94a3b8;">Launch phase exclusive</span></div>
                        </div>
                    </div>
                    <div class="success-message" id="referralSuccessMessage" style="display: none; padding: 20px; margin-top: 20px;">
                        <i class="fas fa-check-circle" style="font-size: 32px;"></i>
                        <span id="successMessageText" style="font-size: 20px; font-weight: 700;"></span>
                    </div>
                    <div class="input-hint" style="font-size: 15px; margin-top: 15px;">
                        <i class="fas fa-info-circle" style="font-size: 18px;"></i>
                        Don't have a referral code? Use our official code: <span style="background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 8px; font-weight: 800; color: var(--warning);">STC-LAUNCH50</span>
                    </div>
                `;
            }
        }

        window.applyReferralCode = async function() {
            if (!currentUser.loggedIn) { showAuthModal('login'); return; }
            if (currentUser.referredBy) { showNotification('You already used a referral code', 'info'); return; }
            const input = document.getElementById('enterReferralInput');
            const code = input.value.trim().toUpperCase();
            if (!code) return;
            if (!code.match(/^STC-[A-Z0-9]{6}$/i) && !code.match(/^[A-Z0-9]{6}$/i)) {
                showNotification('Invalid referral code format', 'error');
                return;
            }
            const formatted = code.includes('STC-') ? code : `STC-${code}`;
            input.disabled = true;
            const btn = document.querySelector('.btn-mining[onclick="applyReferralCode()"]');
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Applying...';
            await new Promise(r => setTimeout(r, 1500));
            currentUser.referredBy = formatted;
            currentUser.stc += 50;
            await saveUserToFirestore({ referredBy: formatted, stc: currentUser.stc });
            input.value = '';
            input.disabled = false;
            btn.disabled = false;
            btn.innerHTML = '<i class="fas fa-check-circle"></i> APPLY & GET 50 STC';
            document.getElementById('referralSuccessMessage').style.display = 'block';
            document.getElementById('successMessageText').textContent = `SUCCESS! 50 STC bonus added from code: ${formatted}`;
            toggleReferralEntrySection();
            updateUI();
            showNotification('ðŸŽ‰ 50 STC bonus added!', 'success');
        };

        function updateReferralStats() {
            const progressCircle = document.getElementById('referralProgressCircle');
            const progressText = document.getElementById('referralProgressText');
            const progress = Math.min((currentUser.referrals / 6) * 100, 100);
            if (progressCircle) {
                const circumference = 2 * Math.PI * 45;
                const offset = circumference - (progress / 100) * circumference;
                progressCircle.style.strokeDashoffset = offset;
            }
            if (progressText) progressText.textContent = `${Math.round(progress)}%`;
        }

        function updateReferralLink() {
            const linkInput = document.getElementById('referralLink');
            if (linkInput) {
                const refCode = currentUser.referralCode || 'X8Y9Z7';
                linkInput.value = `${window.location.origin}${window.location.pathname}?ref=${refCode}`;
            }
        }

        window.copyReferralCode = function() {
            const fullCode = `STC-${currentUser.referralCode}`;
            navigator.clipboard.writeText(fullCode).then(() => {
                showNotification('Referral code copied!', 'success');
            });
        };

        window.copyReferralLink = function() {
            const link = document.getElementById('referralLink').value;
            navigator.clipboard.writeText(link).then(() => {
                showNotification('Referral link copied!', 'success');
            });
        };

        window.shareReferralLink = function() {
            const link = document.getElementById('referralLink').value;
            if (navigator.share) {
                navigator.share({ title: 'Join STC-REWARDS', text: 'Get 50 STC bonus!', url: link })
                    .catch(() => copyReferralLink());
            } else {
                copyReferralLink();
            }
        };

        // ---------- UPDATED WITHDRAWAL (always opens) ----------
        let selectedWithdrawalMethod = 'usdt';
        let withdrawalFee = 1;

        function setupWithdrawalOptions() {
            // FIXED: Use event delegation on the parent container
            const container = document.getElementById('withdrawalOptions');
            if (!container) return;

            // Remove any previous listeners by replacing the container (simplest)
            const newContainer = container.cloneNode(false);
            container.parentNode.replaceChild(newContainer, container);
            
            // Rebuild the options HTML (they were lost after clone)
            document.getElementById('withdrawalOptions').innerHTML = `
                <div class="withdrawal-option selected" data-method="usdt" data-fee="1" data-network="TRC20">
                    <div class="crypto-icon usdt-bg"><i class="fab fa-usd"></i></div>
                    <div>USDT</div>
                    <div class="withdrawal-fee">1% fee</div>
                    <div class="withdrawal-minimum">Min: $5</div>
                </div>
                <div class="withdrawal-option" data-method="btc" data-fee="2" data-network="BTC">
                    <div class="crypto-icon btc-bg"><i class="fab fa-btc"></i></div>
                    <div>Bitcoin</div>
                    <div class="withdrawal-fee">2% fee</div>
                    <div class="withdrawal-minimum">Min: $5</div>
                </div>
                <div class="withdrawal-option" data-method="eth" data-fee="2" data-network="ERC20">
                    <div class="crypto-icon eth-bg"><i class="fab fa-ethereum"></i></div>
                    <div>Ethereum</div>
                    <div class="withdrawal-fee">2% fee</div>
                    <div class="withdrawal-minimum">Min: $5</div>
                </div>
                <div class="withdrawal-option" data-method="usdc" data-fee="1" data-network="ERC20">
                    <div class="crypto-icon usdc-bg"><i class="fas fa-coins"></i></div>
                    <div>USDC</div>
                    <div class="withdrawal-fee">1% fee</div>
                    <div class="withdrawal-minimum">Min: $5</div>
                </div>
                <div class="withdrawal-option" data-method="bank" data-fee="3" data-network="Bank">
                    <div class="crypto-icon bank-bg"><i class="fas fa-university"></i></div>
                    <div>Bank Transfer</div>
                    <div class="withdrawal-fee">3% fee</div>
                    <div class="withdrawal-minimum">Min: $5</div>
                </div>
            `;

            // Event delegation: one listener for all options
            document.getElementById('withdrawalOptions').addEventListener('click', function(e) {
                const option = e.target.closest('.withdrawal-option');
                if (!option) return;

                // Remove 'selected' from all options
                document.querySelectorAll('.withdrawal-option').forEach(o => o.classList.remove('selected'));
                option.classList.add('selected');

                selectedWithdrawalMethod = option.dataset.method;
                withdrawalFee = parseInt(option.dataset.fee);

                if (selectedWithdrawalMethod === 'bank') {
                    document.getElementById('cryptoForm').style.display = 'none';
                    document.getElementById('bankForm').style.display = 'block';
                } else {
                    document.getElementById('cryptoForm').style.display = 'block';
                    document.getElementById('bankForm').style.display = 'none';
                    document.getElementById('walletLabel').textContent = 
                        `${option.querySelector('div:nth-child(2)').textContent} Wallet Address`;
                }
                updateWithdrawalFee();
            });

            document.getElementById('withdrawAmount').addEventListener('input', updateWithdrawalFee);
        }

        function updateWithdrawalFee() {
            const amount = parseFloat(document.getElementById('withdrawAmount').value) || 5;
            const fee = (amount * withdrawalFee) / 100;
            document.getElementById('displayAmount').textContent = amount.toFixed(2);
            document.getElementById('feePercent').textContent = withdrawalFee;
            document.getElementById('feeAmount').textContent = fee.toFixed(2);
            document.getElementById('netAmount').textContent = (amount - fee).toFixed(2);
            document.getElementById('availableBalance').textContent = (currentUser.usdt || 0).toFixed(2);
            
            // Show/hide insufficient balance message
            const msg = document.getElementById('insufficientBalanceMsg');
            if (currentUser.usdt < amount) {
                msg.style.display = 'block';
            } else {
                msg.style.display = 'none';
            }
        }

        window.showWithdrawModal = function() {
            if (!currentUser.loggedIn) { showAuthModal('login'); return; }
            // Always open the modal â€“ no balance check here
            document.getElementById('withdrawAmount').value = Math.max(5, Math.min(5, currentUser.usdt)).toFixed(2); // Set to 5 or user's min
            document.getElementById('withdrawModal').classList.add('active');
            document.getElementById('cryptoForm').style.display = 'block';
            document.getElementById('bankForm').style.display = 'none';
            document.querySelectorAll('.withdrawal-option').forEach(o => o.classList.remove('selected'));
            document.querySelector('.withdrawal-option[data-method="usdt"]').classList.add('selected');
            selectedWithdrawalMethod = 'usdt';
            withdrawalFee = 1;
            updateWithdrawalFee();
        };

        window.processWithdrawal = async function() {
            if (!currentUser.loggedIn) return;
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            if (amount < 5) { showNotification('Minimum $5', 'error'); return; }
            if (amount > currentUser.usdt) { showNotification('Insufficient balance', 'error'); return; }
            if (selectedWithdrawalMethod !== 'bank') {
                const wallet = document.getElementById('walletAddress').value.trim();
                if (!wallet) { showNotification('Enter wallet address', 'error'); return; }
            } else {
                if (!document.getElementById('bankName').value.trim() || !document.getElementById('accountHolder').value.trim() ||
                    !document.getElementById('accountNumber').value.trim() || !document.getElementById('routingCode').value.trim()) {
                    showNotification('Fill all bank details', 'error'); return;
                }
            }
            const fee = (amount * withdrawalFee) / 100;
            const net = amount - fee;
            const withdrawal = {
                id: 'WD' + Date.now() + Math.floor(Math.random()*1000),
                date: new Date().toLocaleString('en-US', { year:'numeric', month:'short', day:'numeric', hour:'2-digit', minute:'2-digit' }),
                amount, netAmount: net, fee,
                method: selectedWithdrawalMethod === 'usdt' ? 'USDT' :
                        selectedWithdrawalMethod === 'btc' ? 'Bitcoin' :
                        selectedWithdrawalMethod === 'eth' ? 'Ethereum' :
                        selectedWithdrawalMethod === 'usdc' ? 'USDC' : 'Bank Transfer',
                details: selectedWithdrawalMethod !== 'bank' 
                        ? `${document.getElementById('walletAddress').value.substring(0,8)}... (${document.getElementById('withdrawNetwork').value})`
                        : `${document.getElementById('accountHolder').value} - ${document.getElementById('bankName').value}`,
                status: 'pending',
                transactionId: null
            };
            currentUser.usdt -= amount;
            if (!currentUser.withdrawalHistory) currentUser.withdrawalHistory = [];
            currentUser.withdrawalHistory.unshift(withdrawal);
            await saveUserToFirestore({ usdt: currentUser.usdt, withdrawalHistory: currentUser.withdrawalHistory });
            closeModal('withdrawModal');
            showNotification(`Withdrawal $${amount.toFixed(2)} submitted! Fee: $${fee.toFixed(2)}`, 'success');
            loadWithdrawalHistory();
        };

        function loadWithdrawalHistory() {
            const table = document.getElementById('withdrawalHistoryTable');
            const empty = document.getElementById('emptyHistory');
            const body = document.getElementById('withdrawalHistoryBody');
            if (!currentUser.withdrawalHistory || currentUser.withdrawalHistory.length === 0) {
                table.style.display = 'none';
                empty.style.display = 'block';
                return;
            }
            table.style.display = 'table';
            empty.style.display = 'none';
            body.innerHTML = '';
            
            // FIX: Filter based on activeFilter (if needed)
            const filter = window.activeFilter || 'all';
            let filtered = currentUser.withdrawalHistory;
            if (filter !== 'all') {
                filtered = currentUser.withdrawalHistory.filter(w => w.status === filter);
            }
            
            filtered.forEach(w => {
                const row = document.createElement('tr');
                let statusClass = '';
                if (w.status === 'pending') statusClass = 'status-pending';
                else if (w.status === 'processing') statusClass = 'status-processing';
                else if (w.status === 'completed') statusClass = 'status-completed';
                else if (w.status === 'failed') statusClass = 'status-failed';
                row.innerHTML = `
                    <td>${w.date}</td>
                    <td>$${w.amount.toFixed(2)}<br><small style="color:#94a3b8;">Net: $${w.netAmount.toFixed(2)}</small></td>
                    <td>${w.method}</td>
                    <td>${w.details}</td>
                    <td><span class="status-badge ${statusClass}">${w.status}</span></td>
                    <td>${w.transactionId || '--'}</td>
                `;
                body.appendChild(row);
            });
        }

        // FIXED: filterWithdrawals now works
        window.filterWithdrawals = function(status, event) {
            // Declare activeFilter globally
            window.activeFilter = status;

            // Update active button styling
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Reload table with filter
            loadWithdrawalHistory();
        };

        // ---------- COIN CONVERSION ----------
        window.convertCoins = async function() {
            if (!currentUser.loggedIn) { showAuthModal('login'); return; }
            if (currentUser.coins < 5000) { showNotification('Minimum 5000 coins required', 'error'); return; }
            const usdt = currentUser.coins / 5000;
            currentUser.usdt += usdt;
            currentUser.coins = 0;
            await saveUserToFirestore({ usdt: currentUser.usdt, coins: currentUser.coins });
            updateUI();
            showNotification(`Converted to ${usdt.toFixed(2)} USDT!`, 'success');
        };

        // ---------- PRICE FLUCTUATION ----------
        let stcPrice = 5.31;
        let priceFluctuationInterval = null;

        function startPriceFluctuation() {
            priceFluctuationInterval = setInterval(() => {
                const change = (Math.random() - 0.5) * 0.01;
                stcPrice = Math.min(Math.max(stcPrice * (1 + change), 5.00), 5.50);
                updatePriceDisplays();
            }, 15000);
        }

        function updatePriceDisplays() {
            const change = ((stcPrice - 5) / 5 * 100).toFixed(1);
            const marketClass = change >= 0 ? 'market-up' : 'market-down';
            const priceEl = document.querySelector('.hero .stat-box:nth-child(2) .stat-value');
            if (priceEl) priceEl.innerHTML = `$${stcPrice.toFixed(2)}<span class="market-indicator ${marketClass}">${change}%</span>`;
            document.getElementById('stcPrice').textContent = stcPrice.toFixed(2);
            document.getElementById('totalMinedValue').textContent = ((currentUser.totalMined || 0) * stcPrice).toFixed(2);
            document.getElementById('refEarningsValue').textContent = ((currentUser.referrals || 0) * 50 * stcPrice).toFixed(2);
        }

        // ---------- STATS ----------
        let activeUsers = 1000, totalWithdrawn = 12075, activeMiners = 950;

        function updateStats() {
            if (Math.random() > 0.8) {
                activeUsers += Math.floor(Math.random() * 2);
                document.getElementById('totalUsers').textContent = activeUsers.toLocaleString();
            }
            if (Math.random() > 0.7) {
                totalWithdrawn += Math.floor(Math.random() * 5) + 3;
                document.getElementById('totalWithdrawn').textContent = '$' + totalWithdrawn.toLocaleString();
            }
        }

        // ---------- COIN PROGRESS ----------
        function updateCoinProgress() {
            const progress = Math.min((currentUser.coins / 25000) * 100, 100);
            document.getElementById('coinProgress').style.width = progress + '%';
            document.getElementById('coinProgressText').textContent = progress.toFixed(1) + '%';
            document.getElementById('adsCoinProgress').style.width = progress + '%';
            document.getElementById('adsProgressText').textContent = progress.toFixed(1) + '%';
            document.getElementById('coinValue').textContent = (currentUser.coins / 5000).toFixed(2);
        }

        // ---------- MODAL HANDLING ----------
        let currentModal = null;
        window.showAuthModal = function(type) {
            closeAllModals();
            document.getElementById(type === 'login' ? 'loginModal' : 'signupModal').classList.add('active');
            currentModal = type === 'login' ? 'loginModal' : 'signupModal';
        };
        window.closeModal = function(modalId) {
            document.getElementById(modalId).classList.remove('active');
            if (modalId === 'adTimerModal' && adTimerInterval) {
                clearInterval(adTimerInterval);
                adTimerInterval = null;
                if (currentAdButton) {
                    currentAdButton.element.disabled = false;
                    currentAdButton.element.innerHTML = currentAdButton.originalText;
                    currentAdButton = null;
                }
            }
        };
        function closeAllModals() {
            document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
            if (adTimerInterval) clearInterval(adTimerInterval);
            adTimerInterval = null;
        }
        window.completeAdManually = function() {
            if (!currentAdButton) return;
            if (currentAdType === 'spin') {
                completeSpinAdAfterTimer();
            } else if (currentAdButton.isMiningAd) {
                // mining ad â€“ handled separately
            } else {
                completeAdAfterTimer();
            }
        };
        window.showModal = function(id) { document.getElementById(id).classList.add('active'); };

        // ---------- MINING AD ----------
        window.startMiningAd = function() {
            if (!currentUser.loggedIn) { showAuthModal('login'); return; }
            if (currentUser.mining) { stopMining(); return; }
            currentAdButton = {
                element: document.getElementById('miningBtn'),
                originalText: document.getElementById('miningBtn').innerHTML,
                duration: 30,
                isMiningAd: true
            };
            const miningBtn = document.getElementById('miningBtn');
            miningBtn.disabled = true;
            miningBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Opening Ad...';
            const randomAd = adUrls[Math.floor(Math.random() * adUrls.length)];
            window.open(randomAd, '_blank');
            showMiningAdTimerModal(30);
        };

        function showMiningAdTimerModal(duration) {
            currentAdDuration = duration;
            currentAdType = 'mining';
            document.getElementById('returnTimer').textContent = duration;
            document.getElementById('adTimerProgressBar').style.width = '0%';
            document.getElementById('adTimerTitle').textContent = 'Watch Ad to Start Mining';
            showModal('adTimerModal');
            let countdown = duration;
            adTimerInterval = setInterval(() => {
                countdown--;
                document.getElementById('returnTimer').textContent = countdown;
                document.getElementById('adTimerProgressBar').style.width = ((duration - countdown) / duration * 100) + '%';
                if (countdown <= 0) {
                    clearInterval(adTimerInterval);
                    completeMiningAdAfterTimer();
                }
            }, 1000);
        }

        async function completeMiningAdAfterTimer() {
            if (!currentAdButton) return;
            currentUser.coins += 50;
            await saveUserToFirestore({ coins: currentUser.coins });
            await startMining();
            const miningBtn = document.getElementById('miningBtn');
            miningBtn.disabled = false;
            miningBtn.textContent = 'Stop Mining';
            miningBtn.classList.add('mining-active');
            closeModal('adTimerModal');
            showNotification('Mining started! +50 bonus coins');
            currentAdButton = null;
        }

        async function stopMining() {
            if (!currentUser.mining) { showNotification('No active mining', 'warning'); return; }
            const now = Date.now();
            const elapsed = now - currentUser.miningStartTime;
            const total = currentUser.miningEndTime - currentUser.miningStartTime;
            const progress = Math.min(elapsed / total, 1);
            if (progress > 0.1) {
                const stcEarned = Math.floor(progress * 12);
                if (stcEarned > 0) {
                    currentUser.stc += stcEarned;
                    currentUser.totalMined = (currentUser.totalMined || 0) + stcEarned;
                    showNotification(`Mining stopped early. Earned ${stcEarned} STC.`);
                }
            }
            await saveUserToFirestore({
                mining: false,
                miningStartTime: null,
                miningEndTime: null,
                stc: currentUser.stc,
                totalMined: currentUser.totalMined
            });
            stopMiningChecker();
            updateMiningTimer();
            updateUI();
        }

        // ---------- TOKEN TABS ----------
        window.showTokenTab = function(tab) {
            document.querySelectorAll('.token-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.token-content').forEach(c => c.classList.remove('active'));
            document.getElementById(tab + 'Tab').classList.add('active');
        };
        window.downloadWhitepaper = function() { showNotification('White paper coming soon!', 'info'); };

        // ---------- LEGAL MODAL (FIXED) ----------
        window.showLegalModal = function(type) {
            const titles = { 
                terms: 'Terms of Service', 
                privacy: 'Privacy Policy', 
                cookies: 'Cookie Policy', 
                disclaimer: 'Disclaimer' 
            };
            const contents = {
                terms: '<h3>1. Acceptance of Terms</h3><p>By accessing and using STC-REWARDS, you accept and agree to be bound by these Terms of Service. If you do not agree, please do not use our platform.</p><h3>2. User Accounts</h3><p>You are responsible for maintaining the confidentiality of your account credentials. All activities under your account are your responsibility.</p><h3>3. Rewards and Withdrawals</h3><p>All rewards are earned through platform activities. Withdrawals are subject to minimum limits and processing fees as displayed. We reserve the right to modify reward structures.</p><h3>4. Prohibited Activities</h3><p>Fraudulent activities, multiple accounts, and abuse of referral system are strictly forbidden and may lead to permanent ban and forfeiture of rewards.</p>',
                privacy: '<h3>1. Information We Collect</h3><p>We collect email address, name, date of birth, and transaction history to provide our services.</p><h3>2. Use of Information</h3><p>Your information is used to authenticate you, process withdrawals, and improve our platform.</p><h3>3. Data Security</h3><p>We implement industry-standard security measures. However, no method is 100% secure.</p><h3>4. Third-Party Services</h3><p>We use Firebase for authentication and data storage. Their privacy policy applies.</p>',
                cookies: '<h3>1. What Are Cookies</h3><p>Cookies are small text files stored on your device to enhance user experience.</p><h3>2. How We Use Cookies</h3><p>We use cookies to remember your login session and preferences.</p><h3>3. Managing Cookies</h3><p>You can disable cookies in your browser settings, but some features may not function properly.</p>',
                disclaimer: '<h3>1. No Financial Advice</h3><p>STC tokens are utility tokens within our ecosystem, not investment products. Their value may fluctuate and is not guaranteed.</p><h3>2. Market Fluctuations</h3><p>The estimated price of $5 per STC is not fixed and may go up or down based on market conditions.</p><h3>3. Withdrawal Processing</h3><p>Withdrawals are processed within stated timeframes but may be delayed due to network congestion or verification procedures.</p><h3>4. Limitation of Liability</h3><p>STC-REWARDS is not liable for any loss of profits or indirect damages arising from platform use.</p>'
            };
            
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.style.zIndex = '3000'; // Ensure it's on top
            modal.innerHTML = `
                <div class="modal-content" style="max-width:700px; max-height:80vh; overflow-y:auto; background: var(--card-bg);">
                    <button class="close-modal" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h2 class="form-title">${titles[type]}</h2>
                    <div style="margin-top:20px; color:#cbd5e1; line-height:1.7;">
                        ${contents[type]}
                    </div>
                    <button class="btn btn-primary" onclick="this.parentElement.parentElement.remove()" style="margin-top:30px; width:100%;">I Understand</button>
                </div>
            `;
            document.body.appendChild(modal);
        };

        // ---------- PAGE NAVIGATION ----------
        let activeNav = 'home';
        window.showPage = function(pageId, event) {
            if (event) event.preventDefault();
            const restricted = ['dashboard','withdrawalHistory','dailyLogin','posts','spin'];
            if (restricted.includes(pageId) && !currentUser.loggedIn) {
                showNotification('Please login first', 'warning');
                showAuthModal('login');
                return;
            }
            document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
            if (event?.currentTarget) event.currentTarget.classList.add('active');
            else {
                const link = document.querySelector(`.nav-links a[onclick*="${pageId}"]`);
                if (link) link.classList.add('active');
            }
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            activeNav = pageId;
            if (pageId === 'withdrawalHistory') loadWithdrawalHistory();
            if (pageId === 'dailyLogin') updateStreakUI();
            if (pageId === 'spin') { createSpinWheel(); updateSpinStats(); }
            if (pageId === 'referral') { toggleReferralEntrySection(); updateReferralStats(); }
            if (pageId === 'mining' && currentUser.mining) updateMiningTimer();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        // ---------- NOTIFICATION ----------
        function showNotification(message, type = 'success') {
            const existing = document.querySelector('.notification');
            if (existing) existing.remove();
            const notif = document.createElement('div');
            notif.className = `notification ${type}`;
            notif.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i><span>${message}</span>`;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 3000);
        }

        // ---------- SWITCH MODALS ----------
        window.switchToSignup = function() { closeModal('loginModal'); showAuthModal('signup'); };
        window.switchToLogin = function() { closeModal('signupModal'); showAuthModal('login'); };

        // ---------- INITIALIZATION ----------
        document.addEventListener('DOMContentLoaded', function() {
            setupWithdrawalOptions();
            createSpinWheel();
            setInterval(updateStats, 10000);
            startPriceFluctuation();
            updateUI();
            checkDailyLoginStatus();
            checkAndRestoreMining();
        });

        function checkAndRestoreMining() {
            if (currentUser.mining && currentUser.miningEndTime) {
                const now = Date.now();
                if (now >= currentUser.miningEndTime) completeMining();
                else startMiningChecker();
            }
        }

        // ---------- GLOBAL EXPORTS ----------
        window.startMiningFromHome = function() {
            if (!currentUser.loggedIn) { showAuthModal('login'); return; }
            showPage('mining');
        };
        window.earnCoins = async function(amount) {
            currentUser.coins += amount;
            await saveUserToFirestore({ coins: currentUser.coins });
            updateUI();
        };
    </script>
</body>
</html>