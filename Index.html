```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="monetag" content="98616f02537817f6b0075b625265e337">
    <title>STC-REWARDS | Earn Crypto</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Firebase SDK (Legacy Compat Mode) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #8b5cf6;
            --dark: #0f172a;
            --darker: #0a0f1f;
            --card-bg: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Improved Header with Glass Effect */
        header {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(99, 102, 241, 0.3);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            height: 70px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 900;
            font-size: 24px;
            color: var(--light);
            text-decoration: none;
            white-space: nowrap;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .logo i {
            font-size: 28px;
        }

        .main-nav {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            justify-content: center;
            margin: 0 20px;
            overflow-x: auto;
            padding: 5px 0;
        }

        .main-nav::-webkit-scrollbar {
            display: none;
        }

        .nav-links {
            display: flex;
            gap: 8px;
            list-style: none;
            white-space: nowrap;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            padding: 12px 18px;
            border-radius: 10px;
            transition: all 0.3s;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
            display: inline-block;
            min-height: 44px;
            line-height: 20px;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.5s;
        }

        .nav-links a:hover::before {
            left: 100%;
        }

        .nav-links a:hover {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.15);
            border-color: rgba(99, 102, 241, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.1);
        }

        .nav-links a.active {
            background: rgba(99, 102, 241, 0.2);
            color: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.2);
        }

        .auth-buttons {
            display: flex;
            gap: 12px;
            white-space: nowrap;
        }

        /* Improved Buttons */
        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.3px;
            min-height: 44px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(99, 102, 241, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            color: var(--light);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-secondary:hover {
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.1));
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success), #0da271);
            color: white;
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(16, 185, 129, 0.4);
        }

        .btn-mining {
            background: linear-gradient(45deg, #f59e0b, #f97316);
            color: white;
            font-weight: 800;
            padding: 14px 28px;
            font-size: 16px;
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.3);
        }

        .btn-mining:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(245, 158, 11, 0.4);
        }

        /* Improved Hero Section */
        .hero {
            padding: 140px 0 80px;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.95));
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
        }

        .hero-content {
            max-width: 700px;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 48px;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 24px;
            background: linear-gradient(45deg, var(--light), var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 4px 30px rgba(99, 102, 241, 0.3);
        }

        .hero p {
            font-size: 18px;
            color: #cbd5e1;
            margin-bottom: 35px;
            line-height: 1.7;
            max-width: 600px;
        }

        .hero-stats {
            display: flex;
            gap: 25px;
            margin-top: 50px;
            flex-wrap: wrap;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 20px;
            min-width: 150px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        .stat-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.05), transparent);
            z-index: -1;
        }

        .stat-box:hover {
            transform: translateY(-5px);
            border-color: rgba(99, 102, 241, 0.4);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 14px;
            font-weight: 600;
        }

        /* Improved Cards with Glass Effect */
        .card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(15px);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.5s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 36px;
            font-weight: 900;
            text-align: center;
            margin-bottom: 50px;
            color: var(--light);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 2px;
        }

        /* Improved Features */
        .features {
            padding: 100px 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 24px;
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
        }

        /* Improved Mining Section */
        .mining-section {
            padding: 100px 0;
            background: var(--darker);
            position: relative;
        }

        .mining-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 35px;
            align-items: center;
        }

        .mining-status {
            position: relative;
        }

        .mining-timer {
            font-family: 'Inter', monospace;
            font-size: 64px;
            font-weight: 800;
            color: var(--warning);
            margin: 20px 0;
            text-align: center;
            text-shadow: 0 0 30px rgba(245, 158, 11, 0.5);
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.1);
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin: 25px 0;
            position: relative;
        }

        .progress-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(45deg, var(--warning), var(--primary));
            border-radius: 6px;
            width: 0%;
            transition: width 1s linear;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
        }

        /* Improved Ads Section */
        .ads-section {
            padding: 100px 0;
        }

        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .ad-card {
            text-align: center;
            padding: 25px;
            position: relative;
        }

        .ad-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(99, 102, 241, 0.1), transparent);
            border-radius: 16px;
            z-index: -1;
        }

        .ad-reward {
            font-size: 24px;
            font-weight: 800;
            color: var(--warning);
            margin: 15px 0;
            position: relative;
            display: inline-block;
        }

        .ad-reward::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 10%;
            width: 80%;
            height: 2px;
            background: linear-gradient(45deg, transparent, var(--warning), transparent);
        }

        /* Improved Dashboard */
        .dashboard {
            padding: 120px 0 80px;
            min-height: 100vh;
        }

        .user-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .user-info h2 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 900;
            background: linear-gradient(45deg, var(--light), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .user-info p {
            color: #94a3b8;
            font-size: 15px;
        }

        .balance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .balance-card {
            padding: 25px;
            position: relative;
            overflow: hidden;
        }

        .balance-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
        }

        .balance-label {
            color: #94a3b8;
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .balance-amount {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 8px;
        }

        .balance-value {
            color: var(--success);
            font-weight: 700;
            font-size: 15px;
        }

        /* NEW: Stylish Referral Code Input Section */
        .referral-code-input-section {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 2px dashed rgba(99, 102, 241, 0.4);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
        }

        .referral-code-input-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.05), transparent);
        }

        .referral-input-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .referral-input {
            flex: 1;
            max-width: 400px;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            color: var(--light);
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s;
            letter-spacing: 1px;
        }

        .referral-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
        }

        .referral-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
            font-weight: 500;
        }

        .input-hint {
            font-size: 13px;
            color: #94a3b8;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .input-hint i {
            color: var(--warning);
        }

        /* Improved Referral Code Box */
        .referral-code-box {
            background: linear-gradient(135deg, var(--primary-dark), var(--accent));
            border-radius: 16px;
            padding: 35px;
            text-align: center;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(79, 70, 229, 0.3);
        }

        .referral-code-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect width="20" height="20" fill="none"/><circle cx="2" cy="2" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.3;
        }

        .referral-code {
            font-family: 'Courier New', monospace;
            font-size: 28px;
            letter-spacing: 3px;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            display: inline-block;
            border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            font-weight: 800;
            position: relative;
            overflow: hidden;
        }

        .referral-code::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 3s infinite;
        }

        .referral-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .referral-stat {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            min-width: 180px;
            position: relative;
            overflow: hidden;
        }

        .referral-stat::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        }

        .referral-stat-value {
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .referral-stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Referral Link Container */
        .referral-link-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .referral-link-input {
            width: 100%;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            letter-spacing: 0.5px;
        }

        /* NEW: Animated Stats Counter */
        .counter {
            font-weight: 900;
            position: relative;
            display: inline-block;
        }

        .counter::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .counter.animate::after {
            transform: scaleX(1);
        }

        /* NEW: Floating Animation */
        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* NEW: Glow Effect */
        .glow {
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
        }

        .glow:hover {
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
        }

        /* NEW: Particle Effect for Referral Section */
        .particle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle at center, rgba(99, 102, 241, 0.3), transparent);
            z-index: 0;
        }

        /* NEW: Gradient Text */
        .gradient-text {
            background: linear-gradient(45deg, var(--primary), var(--accent), var(--warning));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% 200%;
            animation: gradient 3s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* NEW: Ribbon for Referral Stats */
        .ribbon {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--warning);
            color: var(--dark);
            padding: 5px 15px;
            font-size: 12px;
            font-weight: 900;
            border-radius: 6px;
            transform: rotate(10deg);
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        /* NEW: Progress Circle */
        .progress-circle {
            width: 100px;
            height: 100px;
            position: relative;
            margin: 20px auto;
        }

        .progress-circle svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .progress-circle-bg {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 8;
        }

        .progress-circle-fill {
            fill: none;
            stroke: var(--primary);
            stroke-width: 8;
            stroke-linecap: round;
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 1s ease-in-out;
        }

        .progress-circle-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            font-weight: 900;
            color: var(--light);
        }

        /* NEW: Enhanced Referral Code Entry Section */
        .referral-entry-card {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.15));
            border: 2px solid rgba(99, 102, 241, 0.3);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin: 50px 0;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .referral-entry-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
            z-index: 0;
        }

        .referral-entry-content {
            position: relative;
            z-index: 1;
        }

        .referral-entry-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(45deg, var(--warning), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .referral-entry-subtitle {
            color: #94a3b8;
            font-size: 16px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .referral-input-group {
            display: flex;
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
            flex-wrap: wrap;
            justify-content: center;
        }

        .referral-input-wrapper {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .referral-input-wrapper i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            font-size: 20px;
        }

        .referral-input-wrapper input {
            width: 100%;
            padding: 18px 20px 18px 55px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            letter-spacing: 1px;
        }

        .referral-input-wrapper input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
            background: rgba(0, 0, 0, 0.4);
        }

        .referral-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .referral-benefit {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .referral-benefit:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .referral-benefit i {
            font-size: 32px;
            margin-bottom: 15px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .referral-benefit h4 {
            font-size: 18px;
            margin-bottom: 10px;
            color: var(--light);
        }

        .referral-benefit p {
            color: #94a3b8;
            font-size: 14px;
            line-height: 1.5;
        }

        .bonus-tag {
            display: inline-block;
            background: linear-gradient(45deg, var(--warning), #f97316);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            margin-left: 10px;
            animation: pulse 2s infinite;
        }

        /* NEW: Success Message */
        .success-message {
            background: rgba(16, 185, 129, 0.15);
            border: 2px solid var(--success);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* NEW: Referral Tier System */
        .tier-system {
            margin: 50px 0;
        }

        .tier-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .tier-card {
            padding: 30px;
            border-radius: 16px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .tier-card.basic {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 2px solid rgba(99, 102, 241, 0.3);
        }

        .tier-card.pro {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.1));
            border: 2px solid rgba(245, 158, 11, 0.3);
        }

        .tier-card.elite {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(34, 197, 94, 0.1));
            border: 2px solid rgba(16, 185, 129, 0.3);
        }

        .tier-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            padding: 8px 25px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tier-card.pro .tier-badge {
            background: linear-gradient(45deg, var(--warning), #f97316);
        }

        .tier-card.elite .tier-badge {
            background: linear-gradient(45deg, var(--success), #059669);
        }

        .tier-reward {
            font-size: 32px;
            font-weight: 900;
            margin: 20px 0;
            color: var(--light);
        }

        /* Forms */
        .auth-form-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 120px 20px;
        }

        .auth-form {
            width: 100%;
            max-width: 450px;
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .form-title {
            text-align: center;
            font-size: 28px;
            margin-bottom: 30px;
            color: var(--light);
            font-weight: 900;
            background: linear-gradient(45deg, var(--light), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #94a3b8;
            font-size: 14px;
            font-weight: 600;
        }

        .form-input {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--light);
            font-size: 15px;
            transition: all 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.2);
        }

        .divider {
            text-align: center;
            margin: 25px 0;
            position: relative;
            color: #64748b;
            font-size: 14px;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        }

        .divider span {
            background: var(--card-bg);
            padding: 0 15px;
            position: relative;
        }

        .btn-google {
            width: 100%;
            background: white;
            color: #333;
            justify-content: center;
            font-weight: 700;
        }

        .btn-google:hover {
            background: #f1f1f1;
            transform: translateY(-2px);
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 35px;
            width: 100%;
            max-width: 450px;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #94a3b8;
            font-size: 24px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            color: var(--light);
            transform: rotate(90deg);
        }

        /* Footer */
        footer {
            background: var(--darker);
            padding: 60px 0 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-links h4 {
            margin-bottom: 20px;
            color: var(--light);
            font-size: 18px;
            font-weight: 700;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #64748b;
            font-size: 13px;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 90px;
            right: 20px;
            padding: 16px 20px;
            background: linear-gradient(45deg, var(--success), #0da271);
            color: white;
            border-radius: 12px;
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease-out;
            max-width: 350px;
            font-size: 14px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .notification.error {
            background: linear-gradient(45deg, var(--danger), #dc2626);
        }

        .notification.warning {
            background: linear-gradient(45deg, var(--warning), #d97706);
        }

        .notification.info {
            background: linear-gradient(45deg, var(--info), #2563eb);
        }

        /* Page Transitions */
        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        /* Loading Spinner */
        .spinner {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Disabled state */
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Active mining indicator */
        .mining-active {
            background: linear-gradient(45deg, #10b981, #059669) !important;
        }

        /* Stats animation */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Withdrawal History Table */
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            overflow: hidden;
        }

        .history-table th {
            background: rgba(99, 102, 241, 0.2);
            padding: 18px;
            text-align: left;
            color: var(--primary);
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .history-table td {
            padding: 18px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
        }

        .history-table tr:last-child td {
            border-bottom: none;
        }

        .history-table tr:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            text-transform: uppercase;
            display: inline-block;
            letter-spacing: 0.5px;
        }

        .status-pending {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.2), rgba(245, 158, 11, 0.1));
            color: var(--warning);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .status-processing {
            background: linear-gradient(45deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.1));
            color: var(--info);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .status-completed {
            background: linear-gradient(45deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1));
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-failed {
            background: linear-gradient(45deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1));
            color: var(--danger);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        /* Withdrawal History Page */
        .withdrawal-history-page {
            padding: 120px 0 80px;
        }

        .history-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 600;
        }

        .filter-btn.active {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-color: transparent;
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);
        }

        .filter-btn:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #94a3b8;
        }

        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        /* Firebase User Profile */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }

        .profile-dropdown {
            position: relative;
        }

        .profile-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 10px 0;
            min-width: 220px;
            display: none;
            z-index: 100;
            margin-top: 10px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .profile-dropdown:hover .profile-menu {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .profile-menu a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            color: var(--light);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .profile-menu a:hover {
            background: rgba(99, 102, 241, 0.15);
            color: var(--primary);
            padding-left: 25px;
        }

        /* NEW STYLES FOR MINING PERSISTENCE */
        .mining-persistence-notice {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1));
            border: 1px solid var(--warning);
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
            font-size: 14px;
            color: var(--warning);
            font-weight: 600;
        }
        
        /* NEW STYLES FOR TOKEN PAGE TABS */
        .token-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .token-tab {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 10px;
            color: #94a3b8;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .token-tab.active {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            border-color: transparent;
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);
        }
        
        .token-tab:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }
        
        .token-content {
            display: none;
        }
        
        .token-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .token-details {
            line-height: 1.7;
            color: #cbd5e1;
        }
        
        .token-details h3 {
            margin: 25px 0 15px;
            color: var(--light);
            font-size: 22px;
            font-weight: 800;
        }
        
        /* NEW: Attractive UL Styles */
        .attractive-ul {
            list-style: none;
            margin-left: 0;
            padding-left: 0;
        }
        
        .attractive-ul li {
            margin-bottom: 15px;
            padding-left: 35px;
            position: relative;
            line-height: 1.6;
            font-size: 15px;
        }
        
        .attractive-ul li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: 900;
            background: rgba(16, 185, 129, 0.2);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
        
        .attractive-ul.warning li:before {
            content: "⚠";
            color: var(--warning);
            background: rgba(245, 158, 11, 0.2);
        }
        
        .attractive-ul.info li:before {
            content: "i";
            color: var(--info);
            background: rgba(59, 130, 246, 0.2);
            font-style: italic;
            font-weight: 900;
        }
        
        .attractive-ul.danger li:before {
            content: "!";
            color: var(--danger);
            background: rgba(239, 68, 68, 0.2);
        }
        
        .attractive-ul.primary li:before {
            content: "✦";
            color: var(--primary);
            background: rgba(99, 102, 241, 0.2);
        }
        
        /* Roadmap timeline */
        .roadmap-timeline {
            position: relative;
            padding-left: 40px;
            border-left: 3px solid var(--primary);
        }
        
        .roadmap-phase {
            margin-bottom: 40px;
            position: relative;
        }
        
        .roadmap-phase::before {
            content: '';
            position: absolute;
            left: -48px;
            top: 0;
            width: 36px;
            height: 36px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }
        
        .roadmap-phase.completed::before {
            background: linear-gradient(45deg, var(--success), #0da271);
            content: '✓';
            color: white;
            font-size: 16px;
            font-weight: 900;
        }
        
        .roadmap-phase.current::before {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            content: '●';
            color: white;
            font-size: 24px;
        }
        
        .roadmap-phase.future::before {
            background: var(--accent);
            content: '☆';
            color: white;
        }

        /* Price fluctuation animation */
        .price-fluctuation {
            animation: pricePulse 3s infinite;
            position: relative;
        }

        @keyframes pricePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .price-note {
            font-size: 12px;
            color: #94a3b8;
            margin-top: 5px;
            font-style: italic;
        }

        /* Market conditions indicator */
        .market-indicator {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 800;
            margin-left: 10px;
            animation: marketPulse 4s infinite;
        }

        @keyframes marketPulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .market-up {
            background: linear-gradient(45deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1));
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .market-down {
            background: linear-gradient(45deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1));
            color: var(--danger);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .market-stable {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.2), rgba(245, 158, 11, 0.1));
            color: var(--warning);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        /* Growing number animation */
        .growing-number {
            animation: growNumber 5s ease-out infinite;
        }

        @keyframes growNumber {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* NEW: Withdrawal Options Styles */
        .withdrawal-options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .withdrawal-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .withdrawal-option:hover {
            background: rgba(99, 102, 241, 0.15);
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.2);
        }
        
        .withdrawal-option.selected {
            background: rgba(99, 102, 241, 0.2);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }
        
        .withdrawal-option i {
            font-size: 28px;
            margin-bottom: 15px;
            display: block;
        }
        
        .crypto-icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 15px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .usdt-bg { background: linear-gradient(45deg, #26a17b, #2dd4bf); }
        .btc-bg { background: linear-gradient(45deg, #f7931a, #fbbf24); }
        .eth-bg { background: linear-gradient(45deg, #627eea, #818cf8); }
        .usdc-bg { background: linear-gradient(45deg, #2775ca, #3b82f6); }
        .bank-bg { background: linear-gradient(45deg, #8b5cf6, #6366f1); }
        
        .withdrawal-fee {
            font-size: 13px;
            color: #94a3b8;
            margin-top: 8px;
        }
        
        .withdrawal-minimum {
            font-size: 12px;
            color: var(--warning);
            margin-top: 5px;
        }
        
        /* NEW: Bank Transfer Form */
        .bank-transfer-form {
            display: none;
        }
        
        .bank-transfer-form.active {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        .method-details {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        
        /* Coin Earn Rate Info */
        .coin-rate-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .rate-box {
            background: rgba(245, 158, 11, 0.15);
            border: 2px solid rgba(245, 158, 11, 0.3);
            border-radius: 12px;
            padding: 15px 20px;
            text-align: center;
            min-width: 220px;
            transition: all 0.3s;
        }
        
        .rate-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(245, 158, 11, 0.2);
        }
        
        .rate-box h4 {
            color: var(--warning);
            margin-bottom: 8px;
            font-size: 15px;
            font-weight: 700;
        }
        
        .rate-box p {
            font-size: 14px;
            color: #cbd5e1;
            font-weight: 600;
        }
        
        /* Progress Bar for Coin Collection */
        .coin-progress-container {
            background: rgba(255, 255, 255, 0.1);
            height: 10px;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }
        
        .coin-progress-bar {
            height: 100%;
            background: linear-gradient(45deg, var(--warning), #f97316);
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s;
            position: relative;
            overflow: hidden;
        }
        
        .coin-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
        }

        /* NEW: Daily Login System Styles */
        .daily-login-section {
            padding: 120px 0 80px;
            min-height: 100vh;
        }
        
        .daily-login-card {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.15));
            border: 2px solid var(--primary);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
        }
        
        .streak-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .streak-count {
            font-size: 64px;
            font-weight: 900;
            color: var(--warning);
            text-shadow: 0 0 30px rgba(245, 158, 11, 0.5);
        }
        
        .streak-label {
            font-size: 16px;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-weight: 700;
        }
        
        .flame-animation {
            animation: flame 2s infinite;
            font-size: 48px;
            color: var(--warning);
        }
        
        @keyframes flame {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .streak-calendar {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 30px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .day-box {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            font-weight: 800;
            font-size: 14px;
            position: relative;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .day-box.completed {
            background: linear-gradient(45deg, var(--success), #059669);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }
        
        .day-box.current {
            background: linear-gradient(45deg, var(--warning), #f97316);
            color: white;
            animation: pulse 1.5s infinite;
            border: 2px solid white;
            box-shadow: 0 8px 20px rgba(245, 158, 11, 0.3);
        }
        
        .day-box.future {
            background: rgba(255, 255, 255, 0.05);
            color: #64748b;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .day-box.missed {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
            border: 2px solid rgba(239, 68, 68, 0.3);
        }
        
        .day-reward {
            position: absolute;
            top: -30px;
            font-size: 11px;
            background: rgba(0, 0, 0, 0.9);
            padding: 4px 8px;
            border-radius: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            font-weight: 700;
        }
        
        .day-box:hover .day-reward {
            opacity: 1;
        }
        
        .reward-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .reward-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
            border: 1px solid transparent;
        }
        
        .reward-item:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.2);
        }
        
        .reward-item i {
            font-size: 32px;
            margin-bottom: 15px;
        }
        
        .reward-item.coin-reward i {
            color: var(--warning);
        }
        
        .reward-item.streak-reward i {
            color: var(--primary);
        }
        
        .reward-item.bonus-reward i {
            color: var(--success);
        }
        
        .login-reminder {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1));
            border: 2px solid var(--warning);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            font-size: 15px;
            font-weight: 600;
        }
        
        .streak-benefits {
            margin-top: 40px;
            padding: 30px;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 16px;
            border-left: 4px solid var(--primary);
        }
        
        .streak-note {
            font-size: 13px;
            color: #94a3b8;
            margin-top: 25px;
            text-align: center;
            font-style: italic;
        }
        
        .claim-button {
            background: linear-gradient(45deg, var(--warning), #f97316);
            color: white;
            padding: 18px 35px;
            font-size: 18px;
            font-weight: 800;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-top: 25px;
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
        }
        
        .claim-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(245, 158, 11, 0.4);
        }
        
        .claim-button.claimed {
            background: linear-gradient(45deg, var(--success), #059669);
        }
        
        .claim-button.disabled {
            background: #64748b;
            cursor: not-allowed;
        }
        
        .claim-button.disabled:hover {
            transform: none;
            box-shadow: none;
        }
        
        .streak-warning {
            background: linear-gradient(45deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.1));
            border: 2px solid var(--danger);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
        }
        
        /* Streak Modal */
        .streak-modal-content {
            max-width: 500px;
            text-align: center;
        }
        
        .streak-celebration {
            font-size: 64px;
            color: var(--warning);
            margin: 25px 0;
            animation: bounce 1s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        /* STC Posts Styles */
        .posts-section {
            padding: 120px 0 80px;
        }
        
        .posts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }
        
        .post-card {
            position: relative;
            overflow: hidden;
        }
        
        .post-date {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 800;
            z-index: 2;
        }
        
        .post-image {
            height: 220px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 12px 12px 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 56px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .post-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0,0,0,0.2), transparent);
        }
        
        .post-content {
            padding: 25px;
        }
        
        .post-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .post-tag {
            background: rgba(99, 102, 241, 0.15);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* Ad Before Mining Modal */
        .ad-modal-content {
            max-width: 500px;
            text-align: center;
        }
        
        .ad-countdown {
            font-size: 48px;
            color: var(--warning);
            font-weight: 900;
            margin: 25px 0;
        }
        
        .ad-progress-container {
            background: rgba(255, 255, 255, 0.1);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 25px 0;
        }
        
        .ad-progress-bar {
            height: 100%;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 4px;
            width: 0%;
            transition: width 1s linear;
        }
        
        /* NEW: SPIN AND WIN STYLES - UPDATED */
        .spin-section {
            padding: 120px 0 80px;
            min-height: 100vh;
        }
        
        .wheel-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 30px;
            padding: 40px 0;
        }
        
        .wheel-wrapper {
            position: relative;
            width: 420px;
            height: 420px;
            max-width: 90vw;
            max-height: 90vw;
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            transition: transform 5s cubic-bezier(0.17, 0.67, 0.21, 0.99);
            box-shadow: 0 0 50px rgba(99, 102, 241, 0.3);
            border: 10px solid var(--primary);
            background: var(--darker);
        }
        
        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            left: 0;
            top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .segment-content {
            position: absolute;
            right: 40px;
            top: 40px;
            transform: rotate(45deg);
            text-align: center;
            color: white;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            width: 90px;
        }
        
        .segment-coins {
            font-size: 18px;
            color: var(--warning);
            font-weight: 900;
        }
        
        .segment-stc {
            font-size: 18px;
            color: var(--primary);
            font-weight: 900;
        }
        
        .wheel-pointer {
            position: absolute;
            top: -45px;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 70px;
            z-index: 10;
        }
        
        .wheel-pointer i {
            color: var(--warning);
            font-size: 70px;
            filter: drop-shadow(0 0 10px rgba(245, 158, 11, 0.5));
            animation: pulse 1.5s infinite;
        }
        
        .spin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 500px;
            margin-top: 30px;
        }
        
        .spin-stat {
            background: rgba(99, 102, 241, 0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid rgba(99, 102, 241, 0.3);
        }
        
        .spin-stat-value {
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 5px;
        }
        
        .spin-stat-label {
            color: #94a3b8;
            font-size: 14px;
        }
        
        .spin-prizes {
            display: none !important; /* Hide prizes distribution */
        }
        
        /* NEW: Spin Counter Display */
        .spin-counter {
            background: linear-gradient(45deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
            border-radius: 12px;
            padding: 15px 25px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            font-weight: 700;
            font-size: 16px;
            border: 2px solid var(--primary);
        }
        
        .spin-counter i {
            color: var(--warning);
            font-size: 20px;
        }
        
        .spin-limit-badge {
            background: linear-gradient(45deg, var(--warning), #f97316);
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            margin-left: 8px;
        }
        
        .spin-cooldown {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1));
            border: 2px solid var(--warning);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }
        
        .cooldown-timer {
            font-size: 36px;
            font-weight: 900;
            color: var(--warning);
            margin: 10px 0;
            font-family: monospace;
        }
        
        .wheel-result-modal .modal-content {
            max-width: 500px;
            text-align: center;
        }
        
        .result-celebration {
            font-size: 64px;
            margin: 20px 0;
        }
        
        .result-amount {
            font-size: 48px;
            font-weight: 900;
            margin: 20px 0;
            background: linear-gradient(45deg, var(--warning), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .result-type {
            font-size: 24px;
            color: var(--light);
            margin-bottom: 30px;
        }
        
        .result-message {
            background: rgba(16, 185, 129, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            font-size: 14px;
            color: #cbd5e1;
        }

        /* Responsive adjustments for daily login */
        @media (max-width: 768px) {
            .streak-calendar {
                gap: 8px;
            }
            
            .day-box {
                width: 40px;
                height: 40px;
                font-size: 13px;
            }
            
            .streak-count {
                font-size: 48px;
            }
            
            .flame-animation {
                font-size: 40px;
            }
            
            .reward-breakdown {
                grid-template-columns: 1fr;
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .section-title {
                font-size: 28px;
            }
            
            .mining-timer {
                font-size: 48px;
            }
            
            .referral-input-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            .referral-input-wrapper {
                min-width: 100%;
            }
            
            .tier-cards {
                grid-template-columns: 1fr;
            }
            
            .referral-benefits {
                grid-template-columns: 1fr;
            }
            
            .wheel-wrapper {
                width: 320px;
                height: 320px;
            }
            
            .segment-content {
                right: 30px;
                top: 30px;
                width: 70px;
            }
            
            .segment-coins {
                font-size: 16px;
            }
            
            .segment-stc {
                font-size: 16px;
            }
            
            .wheel-pointer {
                top: -35px;
                width: 60px;
                height: 60px;
            }
            
            .wheel-pointer i {
                font-size: 60px;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 28px;
            }
            
            .hero-stats {
                gap: 15px;
            }
            
            .stat-box {
                min-width: 140px;
                padding: 15px;
            }
            
            .stat-value {
                font-size: 24px;
            }
            
            .btn {
                padding: 10px 18px;
                font-size: 13px;
            }
            
            .nav-links a {
                padding: 10px 14px;
                font-size: 13px;
                min-height: 40px;
            }
            
            .referral-code {
                font-size: 20px;
                padding: 15px;
            }
            
            .day-box {
                width: 35px;
                height: 35px;
                font-size: 12px;
            }
            
            .streak-count {
                font-size: 36px;
            }
            
            .wheel-wrapper {
                width: 280px;
                height: 280px;
            }
            
            .segment-content {
                right: 25px;
                top: 25px;
                width: 60px;
            }
            
            .segment-coins {
                font-size: 14px;
            }
            
            .segment-stc {
                font-size: 14px;
            }
        }

        /* Ad Timer Styles */
        .ad-timer-notice {
            background: linear-gradient(45deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1));
            border: 2px solid var(--warning);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
            font-size: 15px;
            font-weight: 600;
        }
        
        .ad-timer-notice i {
            color: var(--warning);
            margin-right: 10px;
        }
        
        .return-timer {
            font-size: 24px;
            font-weight: 900;
            color: var(--warning);
            margin: 15px 0;
        }

        /* Responsive Header */
        @media (max-width: 1024px) {
            .nav-container {
                flex-wrap: wrap;
                height: auto;
                padding: 10px 0;
            }
            
            .logo {
                order: 1;
            }
            
            .main-nav {
                order: 3;
                flex: 100%;
                margin: 10px 0 0;
                justify-content: flex-start;
            }
            
            .auth-buttons {
                order: 2;
            }
            
            .mining-container {
                grid-template-columns: 1fr;
                gap: 25px;
            }
        }

        /* Ensure consistent transitions */
        * {
            scroll-behavior: smooth;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }
    </style>
</head>
<body>
    <!-- Header with Single Line Navigation -->
    <header>
        <div class="container nav-container">
            <a href="#" class="logo" onclick="showPage('home', event)">
                <i class="fas fa-gem"></i>
                STC-REWARDS
            </a>
            
            <div class="main-nav">
                <ul class="nav-links">
                    <li><a href="#" onclick="showPage('home', event)" class="active">Home</a></li>
                    <li><a href="#" onclick="showPage('dashboard', event)" id="dashboardLink">Dashboard</a></li>
                    <li><a href="#" onclick="showPage('mining', event)">Mining</a></li>
                    <li><a href="#" onclick="showPage('ads', event)">Watch Ads</a></li>
                    <li><a href="#" onclick="showPage('spin', event)">Spin & Win</a></li>
                    <li><a href="#" onclick="showPage('referral', event)">Referral</a></li>
                    <li><a href="#" onclick="showPage('withdrawalHistory', event)">Withdrawal History</a></li>
                    <li><a href="#" onclick="showPage('token', event)">STC Token</a></li>
                    <li><a href="#" onclick="showPage('posts', event)">STC Posts</a></li>
                    <li><a href="#" onclick="showPage('dailyLogin', event)">Daily Login</a></li>
                </ul>
            </div>
            
            <div class="auth-buttons">
                <button class="btn btn-primary" onclick="showAuthModal('login')" id="loginBtn">Login</button>
                <button class="btn btn-secondary" onclick="showAuthModal('signup')" id="signupBtn">Sign Up</button>
                <div class="profile-dropdown" id="userProfile" style="display: none;">
                    <div style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 5px; min-height: 44px;">
                        <img src="" alt="Profile" class="user-avatar" id="userAvatar">
                        <span id="userNameDisplay"></span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="profile-menu">
                        <a href="#" onclick="showPage('dashboard', event)"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                        <a href="#" onclick="showPage('spin', event)"><i class="fas fa-sync-alt"></i> Spin & Win</a>
                        <a href="#" onclick="showPage('withdrawalHistory', event)"><i class="fas fa-history"></i> Withdrawal History</a>
                        <a href="#" onclick="showPage('posts', event)"><i class="fas fa-newspaper"></i> STC Posts</a>
                        <a href="#" onclick="showPage('dailyLogin', event)"><i class="fas fa-calendar-check"></i> Daily Login</a>
                        <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Home Page -->
    <div id="home" class="page active">
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>Earn STC Tokens & Crypto Rewards</h1>
                    <p>Watch ads, mine STC tokens, spin to win, refer friends and convert your earnings to cryptocurrency. Join thousands earning passive income daily. STC Token is a new project launching its first phase of mining!</p>
                    <button class="btn btn-mining pulse" onclick="startMiningFromHome()">
                        <i class="fas fa-play"></i> Start Mining STC
                    </button>
                    
                    <div class="hero-stats">
                        <div class="stat-box floating">
                            <div class="stat-value counter" id="totalUsers">1,000</div>
                            <div class="stat-label">Active Users</div>
                        </div>
                        <div class="stat-box floating" style="animation-delay: 0.5s;">
                            <div class="stat-value price-fluctuation">$5.31<span class="market-indicator market-up">+6.1%</span></div>
                            <div class="stat-label">STC Token Price</div>
                            <div class="price-note">Estimated $5, subject to market</div>
                        </div>
                        <div class="stat-box floating" style="animation-delay: 1s;">
                            <div class="stat-value counter" id="totalWithdrawn">$12,075</div>
                            <div class="stat-label">Total Withdrawn</div>
                        </div>
                        <div class="stat-box floating" style="animation-delay: 1.5s;">
                            <div class="stat-value counter" id="activeMiners">950</div>
                            <div class="stat-label">Active Miners</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <h2 class="section-title">How It Works</h2>
                <div class="features-grid">
                    <div class="card">
                        <div class="feature-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3>Create Account</h3>
                        <p>Sign up with Google or email and start earning. Get 50 STC bonus only with referral code during launch phase.</p>
                    </div>
                    <div class="card">
                        <div class="feature-icon">
                            <i class="fas fa-ad"></i>
                        </div>
                        <h3>Watch Ads</h3>
                        <p>Watch short video ads and earn 10-25 coins. 5000 coins = $1. Minimum $5 withdrawal (25000 coins).</p>
                    </div>
                    <div class="card">
                        <div class="feature-icon">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <h3>Spin & Win</h3>
                        <p>Spin the wheel to win coins or STC tokens! Watch an ad to get a spin. Win up to 5000 coins or 100 STC!</p>
                    </div>
                    <div class="card">
                        <div class="feature-icon">
                            <i class="fas fa-hard-hat"></i>
                        </div>
                        <h3>Mine STC Tokens</h3>
                        <p>Mine STC tokens in 6-hour sessions. Earn 12 STC per session. After mining completes, you'll receive your rewards.</p>
                    </div>
                </div>
                
                <!-- Daily Login Feature Card -->
                <div class="card" style="margin-top: 30px; text-align: center;">
                    <div class="feature-icon" style="margin: 0 auto 15px;">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3>Daily Login Rewards</h3>
                    <p>Login every day to build your streak! Start with 2 STC + 50 coins on Day 1, increasing daily. After 30 days, earn 60 STC every day!</p>
                    <button class="btn btn-primary" onclick="showPage('dailyLogin', event)" style="margin-top: 15px;">
                        <i class="fas fa-gift"></i> Start Your Streak
                    </button>
                </div>
                
                <!-- Coin Rate Information -->
                <div class="coin-rate-info">
                    <div class="rate-box">
                        <h4><i class="fas fa-coins"></i> Coin Value</h4>
                        <p>5000 Coins = $1 USD</p>
                    </div>
                    <div class="rate-box">
                        <h4><i class="fas fa-wallet"></i> Minimum Withdrawal</h4>
                        <p>25000 Coins = $5 USD</p>
                    </div>
                    <div class="rate-box">
                        <h4><i class="fas fa-clock"></i> Average Earnings</h4>
                        <p>~5000 coins per day watching ads</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard" class="page">
        <section class="dashboard">
            <div class="container">
                <div class="user-header">
                    <div class="user-info">
                        <h2 id="userName">Welcome to Dashboard</h2>
                        <p id="userEmail"></p>
                    </div>
                    <div>
                        <button class="btn btn-secondary" onclick="showPage('withdrawalHistory', event)">
                            <i class="fas fa-history"></i> Withdrawal History
                        </button>
                    </div>
                </div>

                <div class="balance-grid">
                    <div class="card balance-card">
                        <div class="balance-label">STC Tokens</div>
                        <div class="balance-amount gradient-text" id="stcBalance">0</div>
                        <div class="balance-value">≈ $<span id="stcValue">0</span> (<span id="stcPrice">5.31</span> per STC)</div>
                    </div>
                    <div class="card balance-card">
                        <div class="balance-label">Coins Balance</div>
                        <div class="balance-amount gradient-text" id="coinBalance">0</div>
                        <div class="balance-value">≈ $<span id="coinValue">0</span> (5000 coins = $1)</div>
                        <div class="coin-progress-container">
                            <div class="coin-progress-bar" id="coinProgress"></div>
                        </div>
                        <div style="font-size: 12px; color: #94a3b8; margin-top: 5px;">
                            Progress to $5: <span id="coinProgressText">0%</span>
                        </div>
                    </div>
                    <div class="card balance-card">
                        <div class="balance-label">USDT Balance</div>
                        <div class="balance-amount gradient-text" id="usdtBalance">0.00</div>
                        <div class="balance-value">Available for withdrawal</div>
                    </div>
                </div>

                <!-- Daily Streak Widget on Dashboard -->
                <div class="card" style="margin-top: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0;">Daily Login Streak</h3>
                        <a href="#" onclick="showPage('dailyLogin', event)" style="color: var(--primary); font-size: 14px; text-decoration: none;">
                            <i class="fas fa-external-link-alt"></i> View Details
                        </a>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                        <div style="text-align: center;">
                            <div class="streak-count" id="dashboardStreak">0</div>
                            <div class="streak-label">Day Streak</div>
                        </div>
                        
                        <div style="flex: 1;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span style="color: #94a3b8; font-size: 14px;">Today's Reward:</span>
                                <span style="font-weight: 600; color: var(--warning);" id="todayReward">0 STC + 50 coins</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span style="color: #94a3b8; font-size: 14px;">Next Reward:</span>
                                <span style="font-weight: 600; color: var(--primary);" id="nextReward">2 STC + 50 coins</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: #94a3b8; font-size: 14px;">Status:</span>
                                <span style="font-weight: 600; color: var(--success);" id="streakStatus">Ready to claim</span>
                            </div>
                        </div>
                    </div>
                    
                    <button class="claim-button" onclick="claimDailyReward()" id="dashboardClaimBtn" style="width: 100%; margin-top: 15px;">
                        <i class="fas fa-gift"></i> Claim Daily Reward
                    </button>
                </div>

                <div style="margin: 30px 0;">
                    <h3 style="margin-bottom: 15px;">Quick Actions</h3>
                    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="showPage('mining', event)">
                            <i class="fas fa-play"></i> Start Mining
                        </button>
                        <button class="btn btn-success" onclick="showPage('ads', event)">
                            <i class="fas fa-ad"></i> Watch Ads
                        </button>
                        <button class="btn btn-warning" onclick="showPage('spin', event)">
                            <i class="fas fa-sync-alt"></i> Spin & Win
                        </button>
                        <button class="btn btn-mining" onclick="showPage('referral', event)">
                            <i class="fas fa-user-plus"></i> Refer Friends
                        </button>
                        <button class="btn btn-secondary" onclick="showWithdrawModal()">
                            <i class="fas fa-wallet"></i> Withdraw Funds
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Mining Page -->
    <div id="mining" class="page">
        <section class="mining-section">
            <div class="container">
                <h2 class="section-title">STC Token Mining - First Phase</h2>
                <div class="mining-container">
                    <div class="card mining-status">
                        <h3 style="margin-bottom: 15px;">Mining Status: <span id="miningStatusText" style="color: var(--success);">Ready to Start</span></h3>
                        <div class="mining-timer" id="miningTimer">06:00:00</div>
                        <div class="progress-container">
                            <div class="progress-bar" id="miningProgress"></div>
                        </div>
                        <div style="text-align: center;">
                            <p style="margin-bottom: 15px; color: #94a3b8;">Each mining session: 6 hours → 12 STC tokens</p>
                            <p style="margin-bottom: 15px; color: var(--warning); font-size: 14px;"><i class="fas fa-info-circle"></i> Watch an ad to start mining and earn bonus!</p>
                            <button class="btn btn-mining" id="miningBtn" onclick="startMiningAd()">Watch Ad to Start Mining</button>
                        </div>
                    </div>
                    <div class="card">
                        <h3 style="margin-bottom: 15px;">Mining Details</h3>
                        <div style="margin-bottom: 15px;">
                            <h4>STC Token Price: <span class="price-fluctuation gradient-text">$5.31</span> <span class="market-indicator market-up">Live</span></h4>
                            <p style="color: #94a3b8; margin-top: 5px; font-size: 13px;">Estimated price: $5, subject to market conditions</p>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <h4>Mining Rewards</h4>
                            <p style="color: #94a3b8; margin-top: 5px; font-size: 13px;">12 STC per 6-hour session</p>
                            <p style="color: var(--success); font-size: 13px; margin-top: 3px;">≈ $63.72 per session at current price</p>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <h4>Referral Mining Bonus</h4>
                            <p style="color: #94a3b8; margin-top: 5px; font-size: 13px;">Earn 10% of your referrals' mining rewards</p>
                            <p style="color: var(--primary); font-size: 13px; margin-top: 3px;">Passive income from your network</p>
                        </div>
                        <div>
                            <h4>Total Mined</h4>
                            <p style="font-size: 22px; color: var(--success); margin-top: 5px;" id="totalMined">0 STC</p>
                            <p style="color: #94a3b8; font-size: 13px; margin-top: 3px;">≈ $<span id="totalMinedValue">0</span> at current price</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Ads Page -->
    <div id="ads" class="page">
        <section class="ads-section">
            <div class="container">
                <h2 class="section-title">Watch Ads & Earn Coins</h2>
                <p style="text-align: center; margin-bottom: 30px; color: #94a3b8;">Watch ads and earn 10-25 coins. 5000 coins = $1 USD.</p>
                
                <div class="ads-grid">
                    <div class="card ad-card">
                        <i class="fas fa-gamepad fa-2x" style="color: var(--primary);"></i>
                        <h4 style="margin: 12px 0; font-size: 16px;">Game Ad</h4>
                        <div class="ad-reward">10-15 coins</div>
                        <button class="btn btn-primary watch-ad-btn" data-min="10" data-max="15" onclick="openAdDirectly(this)">
                            <i class="fas fa-play"></i> Watch (45s)
                        </button>
                    </div>
                    <div class="card ad-card">
                        <i class="fas fa-shopping-bag fa-2x" style="color: var(--accent);"></i>
                        <h4 style="margin: 12px 0; font-size: 16px;">Shopping Ad</h4>
                        <div class="ad-reward">12-18 coins</div>
                        <button class="btn btn-primary watch-ad-btn" data-min="12" data-max="18" onclick="openAdDirectly(this)">
                            <i class="fas fa-play"></i> Watch (60s)
                        </button>
                    </div>
                    <div class="card ad-card">
                        <i class="fas fa-film fa-2x" style="color: var(--warning);"></i>
                        <h4 style="margin: 12px 0; font-size: 16px;">Video Ad</h4>
                        <div class="ad-reward">15-25 coins</div>
                        <button class="btn btn-primary watch-ad-btn" data-min="15" data-max="25" onclick="openAdDirectly(this)">
                            <i class="fas fa-play"></i> Watch (90s)
                        </button>
                    </div>
                    <div class="card ad-card">
                        <i class="fas fa-mobile-alt fa-2x" style="color: var(--success);"></i>
                        <h4 style="margin: 12px 0; font-size: 16px;">App Ad</h4>
                        <div class="ad-reward">10-20 coins</div>
                        <button class="btn btn-primary watch-ad-btn" data-min="10" data-max="20" onclick="openAdDirectly(this)">
                            <i class="fas fa-play"></i> Watch (60s)
                        </button>
                    </div>
                </div>

                <div class="card" style="margin-top: 30px; text-align: center;">
                    <h3 style="margin-bottom: 12px; font-size: 18px;">Your Earnings</h3>
                    <p style="font-size: 22px; color: var(--warning); margin-bottom: 12px;" id="totalCoins">0 coins</p>
                    <p style="color: #94a3b8; margin-bottom: 15px; font-size: 13px;">5000 coins = $1 USD | Minimum withdrawal: $5 (25000 coins)</p>
                    
                    <!-- Coin Progress Bar -->
                    <div class="coin-progress-container">
                        <div class="coin-progress-bar" id="adsCoinProgress"></div>
                    </div>
                    <div style="font-size: 12px; color: #94a3b8; margin: 5px 0 15px;">
                        Progress to minimum withdrawal: <span id="adsProgressText">0%</span>
                    </div>
                    
                    <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-success" onclick="convertCoins()">
                            <i class="fas fa-exchange-alt"></i> Convert to USDT
                        </button>
                        <button class="btn btn-primary" onclick="showWithdrawModal()">
                            <i class="fas fa-wallet"></i> Withdraw Funds
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- UPDATED: Spin & Win Page -->
    <div id="spin" class="page">
        <section class="spin-section">
            <div class="container">
                <h2 class="section-title">Spin & Win Coins & STC Tokens!</h2>
                <p style="text-align: center; margin-bottom: 30px; color: #94a3b8;">Watch an ad to spin the wheel and win coins or STC tokens! Win up to 5000 coins or 100 STC!</p>
                
                <div class="wheel-container">
                    <div class="wheel-wrapper">
                        <div class="wheel" id="wheel"></div>
                        <div class="wheel-pointer">
                            <i class="fas fa-caret-down"></i>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn btn-mining" id="spinButton" onclick="startSpinAd()" style="font-size: 18px; padding: 18px 40px;">
                            <i class="fas fa-sync-alt"></i> Watch Ad to Spin (30s)
                        </button>
                    </div>
                    
                    <!-- NEW: Spin Counter Display -->
                    <div class="spin-counter">
                        <i class="fas fa-redo"></i>
                        Spins Today: <span id="spinsTodayCount">0</span>/<span class="spin-limit-badge">50</span>
                    </div>
                    
                    <!-- Spin Cooldown Notice -->
                    <div class="spin-cooldown" id="spinCooldown">
                        <i class="fas fa-clock"></i>
                        <h4>Spin on Cooldown</h4>
                        <p>You can spin again in:</p>
                        <div class="cooldown-timer" id="cooldownTimer">00:00</div>
                        <p style="font-size: 12px; color: #94a3b8;">Each spin requires watching a 30-second ad</p>
                    </div>
                    
                    <!-- Spin Stats -->
                    <div class="spin-stats">
                        <div class="spin-stat">
                            <div class="spin-stat-value" id="spinsToday">0</div>
                            <div class="spin-stat-label">Spins Today</div>
                            <div style="font-size: 12px; color: #94a3b8; margin-top: 5px;">Max: 50 daily</div>
                        </div>
                        <div class="spin-stat">
                            <div class="spin-stat-value" id="totalSpins">0</div>
                            <div class="spin-stat-label">Total Spins</div>
                        </div>
                        <div class="spin-stat">
                            <div class="spin-stat-value" id="totalWon">$0</div>
                            <div class="spin-stat-label">Total Won</div>
                        </div>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 40px; text-align: center;">
                    <h3 style="margin-bottom: 15px;">How to Play</h3>
                    <p style="color: #94a3b8; margin-bottom: 20px; line-height: 1.6;">
                        Watch a 30-second ad to spin the wheel and win amazing prizes! You can spin up to 50 times per day.
                        Win coins or STC tokens with every spin!
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 25px;">
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 12px;">
                            <i class="fas fa-coins" style="color: var(--warning); font-size: 32px; margin-bottom: 10px;"></i>
                            <h4 style="color: var(--warning); margin-bottom: 8px;">Coin Prizes</h4>
                            <p style="color: #94a3b8; font-size: 14px;">Win up to 5000 coins per spin</p>
                        </div>
                        <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 12px;">
                            <i class="fas fa-gem" style="color: var(--primary); font-size: 32px; margin-bottom: 10px;"></i>
                            <h4 style="color: var(--primary); margin-bottom: 8px;">STC Prizes</h4>
                            <p style="color: #94a3b8; font-size: 14px;">Win up to 100 STC per spin</p>
                        </div>
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 12px;">
                            <i class="fas fa-gift" style="color: var(--success); font-size: 32px; margin-bottom: 10px;"></i>
                            <h4 style="color: var(--success); margin-bottom: 8px;">Daily Bonus</h4>
                            <p style="color: #94a3b8; font-size: 14px;">50 spins daily limit</p>
                        </div>
                    </div>
                    
                    <div class="result-message" style="margin-top: 25px;">
                        <i class="fas fa-info-circle"></i> Each spin requires watching a 30-second ad. Maximum 50 spins per day. Good luck!
                    </div>
                </div>
            </div>
        </section>
    </div>

<!-- Referral Page -->
<!-- Updated Referral Page with Prominent Referral Code Apply Space -->
<div id="referral" class="page">
    <section class="referral-section">
        <div class="container">
            <h2 class="section-title">Referral Program - Launch Bonus!</h2>
            
            <!-- REFERRAL CODE APPLY SPACE - PROMINENTLY DISPLAYED AT TOP -->
            <div class="referral-entry-card" id="enterReferralSection" style="display: block; margin-bottom: 30px; border: 3px solid var(--primary); box-shadow: 0 0 30px rgba(99, 102, 241, 0.3);">
                <div class="referral-entry-content">
                    <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: linear-gradient(45deg, var(--warning), #f97316); padding: 5px 15px; border-radius: 30px; color: white; font-size: 14px; font-weight: 800;">
                            <i class="fas fa-gift"></i> LAUNCH BONUS
                        </span>
                    </div>
                    
                    <div class="referral-entry-title" style="font-size: 32px;">
                        <i class="fas fa-ticket-alt"></i> Apply Referral Code
                    </div>
                    
                    <div class="referral-entry-subtitle" style="font-size: 18px;">
                        Get <span style="color: var(--warning); font-weight: 900; font-size: 28px;">50 STC</span> INSTANT BONUS! 
                        <span class="bonus-tag" style="font-size: 16px;">LAUNCH EXCLUSIVE</span>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.3); padding: 25px; border-radius: 16px; margin: 20px 0;">
                        <div class="referral-input-group">
                            <div class="referral-input-wrapper" style="flex: 2;">
                                <i class="fas fa-ticket-alt" style="left: 20px; font-size: 24px;"></i>
                                <input type="text" id="enterReferralInput" placeholder="Enter referral code (e.g., STC-ABC123)" 
                                       style="padding: 22px 20px 22px 60px; font-size: 18px; font-weight: 700; letter-spacing: 2px;">
                            </div>
                            <button class="btn btn-mining" onclick="applyReferralCode()" style="padding: 18px 35px; font-size: 18px; font-weight: 800;">
                                <i class="fas fa-check-circle"></i> APPLY & GET 50 STC
                            </button>
                        </div>
                        
                        <div style="display: flex; justify-content: center; gap: 30px; margin-top: 20px; flex-wrap: wrap;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-check-circle" style="color: var(--success);"></i>
                                <span style="color: #94a3b8;">50 STC instant bonus</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-check-circle" style="color: var(--success);"></i>
                                <span style="color: #94a3b8;">One-time use only</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-check-circle" style="color: var(--success);"></i>
                                <span style="color: #94a3b8;">Launch phase exclusive</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="success-message" id="referralSuccessMessage" style="display: none; padding: 20px; margin-top: 20px;">
                        <i class="fas fa-check-circle" style="font-size: 32px;"></i>
                        <span id="successMessageText" style="font-size: 20px; font-weight: 700;"></span>
                    </div>
                    
                    <div class="input-hint" style="font-size: 15px; margin-top: 15px;">
                        <i class="fas fa-info-circle" style="font-size: 18px;"></i>
                        Don't have a referral code? Use our official code: <span style="background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 8px; font-weight: 800; color: var(--warning);">STC-LAUNCH50</span>
                    </div>
                </div>
            </div>
            
            <!-- NEW: Referral Benefits -->
            <div class="referral-benefits">
                <div class="referral-benefit">
                    <i class="fas fa-gift"></i>
                    <h4>50 STC Bonus</h4>
                    <p>Get 50 STC instantly when you use a referral code during launch phase</p>
                </div>
                <div class="referral-benefit">
                    <i class="fas fa-users"></i>
                    <h4>Referral Earnings</h4>
                    <p>Earn 50 STC for each friend who signs up with your code</p>
                </div>
                <div class="referral-benefit">
                    <i class="fas fa-hard-hat"></i>
                    <h4>Mining Bonus</h4>
                    <p>Get 10% of all mining rewards from your referrals forever</p>
                </div>
            </div>

            <div class="card" style="text-align: center; margin-bottom: 30px;">
                <h3 style="margin-bottom: 12px;">Earn 50 STC Per Referral + 10% Mining Bonus!</h3>
                <p style="color: #94a3b8; margin-bottom: 15px; font-size: 14px;">Share your referral code and earn 50 STC tokens for each friend who signs up. Plus, earn 10% of their mining rewards forever!</p>
                <p style="color: var(--warning); font-size: 13px; margin-bottom: 10px;"><i class="fas fa-gift"></i> Special launch bonus: 50 STC (normally 20 STC)</p>
                <p style="color: var(--primary); font-size: 13px; margin-bottom: 10px;"><i class="fas fa-hard-hat"></i> 10% mining bonus from all referrals</p>
            </div>

            <div class="referral-code-box">
                <div style="position: relative;">
                    <div class="ribbon">Your Code</div>
                    <h4 style="margin-bottom: 12px; font-size: 20px;">Your Personal Referral Code</h4>
                    <div class="referral-code" id="referralCodeDisplay">STC-<span id="refCode">X8Y9Z7</span></div>
                    <p style="margin: 20px 0; font-size: 15px; color: rgba(255, 255, 255, 0.9);">Share this code with your friends during launch phase</p>
                    
                    <!-- Referral Link -->
                    <div class="referral-link-container">
                        <p style="font-size: 13px; color: rgba(255, 255, 255, 0.8); margin-bottom: 8px;">Your Referral Link:</p>
                        <input type="text" id="referralLink" readonly class="referral-link-input">
                    </div>
                    
                    <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 20px;">
                        <button class="btn btn-mining" onclick="copyReferralCode()">
                            <i class="fas fa-copy"></i> Copy Code
                        </button>
                        <button class="btn btn-primary" onclick="copyReferralLink()">
                            <i class="fas fa-link"></i> Copy Link
                        </button>
                        <button class="btn btn-success" onclick="shareReferralLink()">
                            <i class="fas fa-share-alt"></i> Share
                        </button>
                    </div>
                </div>
            </div>

            <!-- NEW: Referral Tier System -->
            <div class="tier-system">
                <h3 style="text-align: center; margin-bottom: 30px; font-size: 24px;">Referral Tiers</h3>
                <div class="tier-cards">
                    <div class="tier-card basic">
                        <div class="tier-badge">Starter</div>
                        <h4>1-5 Referrals</h4>
                        <div class="tier-reward">50 STC each</div>
                        <p>Perfect for getting started with referral earnings</p>
                    </div>
                    <div class="tier-card pro">
                        <div class="tier-badge">Pro</div>
                        <h4>6-20 Referrals</h4>
                        <div class="tier-reward">+10% bonus</div>
                        <p>Extra 10% STC bonus on all referral earnings</p>
                    </div>
                    <div class="tier-card elite">
                        <div class="tier-badge">Elite</div>
                        <h4>21+ Referrals</h4>
                        <div class="tier-reward">+20% bonus</div>
                        <p>Maximum 20% bonus plus special rewards</p>
                    </div>
                </div>
            </div>

            <div class="card" style="margin-top: 30px;">
                <h3 style="margin-bottom: 15px;">Referral Statistics</h3>
                <div class="referral-stats">
                    <div class="referral-stat">
                        <div class="referral-stat-value counter" id="refCount">0</div>
                        <div class="referral-stat-label">Total Referrals</div>
                    </div>
                    <div class="referral-stat">
                        <div class="referral-stat-value gradient-text" id="refEarnings">0</div>
                        <div class="referral-stat-label">STC Earned</div>
                        <div style="color: #94a3b8; font-size: 12px; margin-top: 5px;">≈ $<span id="refEarningsValue">0</span> at $5.31/STC</div>
                    </div>
                    <div class="referral-stat">
                        <div class="referral-stat-value gradient-text" id="miningBonus">0</div>
                        <div class="referral-stat-label">Mining Bonus</div>
                        <div style="color: #94a3b8; font-size: 12px; margin-top: 5px;">10% from referrals</div>
                    </div>
                </div>
                
                <!-- Progress Circle -->
                <div class="progress-circle">
                    <svg>
                        <circle class="progress-circle-bg" cx="50" cy="50" r="45"></circle>
                        <circle class="progress-circle-fill" cx="50" cy="50" r="45" id="referralProgressCircle"></circle>
                    </svg>
                    <div class="progress-circle-text" id="referralProgressText">0%</div>
                </div>
                <div style="text-align: center; margin-top: 15px; color: #94a3b8; font-size: 14px;">
                    Progress to Pro Tier (6 referrals)
                </div>
            </div>
        </div>
    </section>
</div>
    <!-- Withdrawal History Page -->
    <div id="withdrawalHistory" class="page">
        <section class="withdrawal-history-page">
            <div class="container">
                <h2 class="section-title">Withdrawal History</h2>
                
                <div class="history-filter">
                    <button class="filter-btn active" onclick="filterWithdrawals('all')">All</button>
                    <button class="filter-btn" onclick="filterWithdrawals('pending')">Pending</button>
                    <button class="filter-btn" onclick="filterWithdrawals('processing')">Processing</button>
                    <button class="filter-btn" onclick="filterWithdrawals('completed')">Completed</button>
                    <button class="filter-btn" onclick="filterWithdrawals('failed')">Failed</button>
                </div>

                <div class="card">
                    <div id="withdrawalHistoryContent">
                        <!-- History will be loaded here -->
                        <div class="empty-state" id="emptyHistory">
                            <i class="fas fa-history"></i>
                            <h3>No Withdrawal History</h3>
                            <p>You haven't made any withdrawals yet.</p>
                            <button class="btn btn-primary" onclick="showWithdrawModal()" style="margin-top: 15px;">
                                <i class="fas fa-wallet"></i> Make Your First Withdrawal
                            </button>
                        </div>
                        
                        <table class="history-table" id="withdrawalHistoryTable" style="display: none;">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Method</th>
                                    <th>Wallet/Account</th>
                                    <th>Status</th>
                                    <th>Transaction ID</th>
                                </tr>
                            </thead>
                            <tbody id="withdrawalHistoryBody">
                                <!-- Rows will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Token Page -->
    <div id="token" class="page">
        <section class="mining-section">
            <div class="container">
                <h2 class="section-title">STC Token Information - New Project</h2>
                
                <div class="token-tabs">
                    <button class="token-tab active" onclick="showTokenTab('overview')">Overview</button>
                    <button class="token-tab" onclick="showTokenTab('whitepaper')">White Paper</button>
                    <button class="token-tab" onclick="showTokenTab('roadmap')">Road Map</button>
                    <button class="token-tab" onclick="showTokenTab('tokenomics')">Tokenomics</button>
                </div>
                
                <!-- Overview Tab -->
                <div id="overviewTab" class="token-content active">
                    <div class="card" style="margin-bottom: 25px;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px;">
                            <div>
                                <h3 style="margin-bottom: 12px;">STC Token Price</h3>
                                <p style="font-size: 42px; color: var(--success); font-weight: 700;" class="price-fluctuation">$5.31</p>
                                <p style="color: #94a3b8; font-size: 13px;">Estimated $5, subject to market conditions</p>
                                <p style="color: var(--warning); font-size: 12px; margin-top: 5px;"><i class="fas fa-chart-line"></i> Price fluctuates based on market</p>
                            </div>
                            <div>
                                <h3 style="margin-bottom: 12px;">Market Cap</h3>
                                <p style="font-size: 28px; color: var(--primary); font-weight: 700;">$62.45M</p>
                                <p style="color: #94a3b8; font-size: 13px;">Total circulating supply</p>
                            </div>
                            <div>
                                <h3 style="margin-bottom: 12px;">Total Supply</h3>
                                <p style="font-size: 28px; color: var(--accent); font-weight: 700;">100M STC</p>
                                <p style="color: #94a3b8; font-size: 13px;">Maximum token supply</p>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 style="margin-bottom: 15px;">About STC Token - New Project Launch</h3>
                        <div class="token-details">
                            <p>STC (Stable Token Coin) is a <strong>new utility token</strong> launched in 2026, designed specifically for the STC-REWARDS ecosystem. The token is currently in its <strong>first phase of mining</strong> where users can earn STC through mining activities.</p>
                            
                            <p style="margin: 15px 0; padding: 12px; background: rgba(99, 102, 241, 0.1); border-radius: 8px; border-left: 3px solid var(--warning);">
                                <strong>Current Status:</strong> First Phase Mining Active<br>
                                <strong>Estimated Price:</strong> $5 (fluctuates based on market conditions)<br>
                                <strong>Mining Rewards:</strong> 12 STC per 6-hour session
                            </p>
                            
                            <h3>Key Features:</h3>
                            <ul class="attractive-ul primary">
                                <li><strong>New Project:</strong> Launched in 2026, currently in first mining phase</li>
                                <li><strong>Market Based:</strong> Price estimated at $5 but fluctuates up and down based on market conditions</li>
                                <li><strong>Mining First:</strong> First phase focuses on mining distribution</li>
                                <li><strong>Utility:</strong> Used for platform rewards, mining, and referral bonuses</li>
                                <li><strong>Earnable:</strong> Users can earn STC through various activities on the platform</li>
                                <li><strong>Convertible:</strong> STC can be converted to USDT at market rates</li>
                                <li><strong>Limited Supply:</strong> Total supply capped at 100 million tokens</li>
                            </ul>
                            
                            <h3>Launch Phase Features:</h3>
                            <ul class="attractive-ul warning">
                                <li>Special mining rewards during first phase</li>
                                <li>Increased referral bonuses (50 STC per referral)</li>
                                <li>Spin & Win feature with coins and STC rewards</li>
                                <li>Early adopter benefits</li>
                                <li>Progressive price discovery</li>
                                <li>Multiple withdrawal options (Crypto & Bank)</li>
                            </ul>
                            
                            <h3>Withdrawal Options:</h3>
                            <ul class="attractive-ul success">
                                <li><strong>Cryptocurrency:</strong> USDT, BTC, ETH, USDC</li>
                                <li><strong>Bank Transfer:</strong> Local bank withdrawals available</li>
                                <li><strong>Minimum Withdrawal:</strong> $5 (25000 coins)</li>
                                <li><strong>Processing Time:</strong> 24-72 hours for bank transfers</li>
                                <li><strong>Crypto Withdrawals:</strong> Usually within 24 hours</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- White Paper Tab -->
                <div id="whitepaperTab" class="token-content">
                    <div class="card">
                        <div class="token-details">
                            <h2 style="margin-bottom: 20px;">STC Token White Paper - 2026 Launch</h2>
                            
                            <h3>1. Executive Summary</h3>
                            <p>STC Token is a <strong>new utility token launched in 2026</strong>, designed to power the STC-REWARDS ecosystem. This white paper outlines the technical implementation, economic model, and future development roadmap of the STC token, starting with its first mining phase.</p>
                            
                            <h3>2. Introduction - The 2026 Launch</h3>
                            <p>STC-REWARDS platform launches in 2026 with a focus on mining distribution. The STC token serves as the primary reward mechanism within this ecosystem, with an <strong>estimated starting price of $5 per token</strong>, subject to market fluctuations.</p>
                            
                            <h3>3. Technical Architecture</h3>
                            <ul class="attractive-ul info">
                                <li><strong>Launch Year:</strong> 2026</li>
                                <li><strong>Token Standard:</strong> Utility Token</li>
                                <li><strong>Initial Price:</strong> Estimated $5 (market dependent)</li>
                                <li><strong>Phase 1:</strong> Mining distribution</li>
                                <li><strong>Storage:</strong> Secure cloud storage with Firebase</li>
                                <li><strong>Transactions:</strong> Real-time balance updates</li>
                                <li><strong>Withdrawal Options:</strong> Multiple cryptocurrency and bank options</li>
                            </ul>
                            
                            <h3>4. Economic Model</h3>
                            <ul class="attractive-ul warning">
                                <li><strong>Coin Value:</strong> 5000 coins = $1 USD</li>
                                <li><strong>Minimum Withdrawal:</strong> 25000 coins = $5 USD</li>
                                <li><strong>STC Price:</strong> Estimated $5, fluctuates with market</li>
                                <li><strong>Supply Control:</strong> Total Supply: 100,000,000 STC</li>
                                <li><strong>Circulating Supply:</strong> Controlled through phased mining</li>
                                <li><strong>Value Discovery:</strong> Progressive price discovery through market participation</li>
                            </ul>
                            
                            <h3>5. Mining Phase 1 (2026-2027)</h3>
                            <p>The first phase focuses on mining distribution to build the initial user base and establish token utility.</p>
                            
                            <h3>6. Security Features</h3>
                            <ul class="attractive-ul success">
                                <li>Google Firebase Authentication</li>
                                <li>Secure data encryption</li>
                                <li>Withdrawal verification system</li>
                                <li>Anti-fraud monitoring</li>
                                <li>Multi-factor authentication support</li>
                                <li>Secure withdrawal processing</li>
                            </ul>
                            
                            <div style="text-align: center; margin-top: 30px;">
                                <button class="btn btn-primary" onclick="downloadWhitepaper()">
                                    <i class="fas fa-download"></i> Download White Paper (PDF)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Road Map Tab -->
                <div id="roadmapTab" class="token-content">
                    <div class="card">
                        <div class="token-details">
                            <h2 style="margin-bottom: 20px;">STC Token Road Map - 2026 Onwards</h2>
                            
                            <div class="roadmap-timeline">
                                <!-- Phase 1 -->
                                <div class="roadmap-phase current">
                                    <h3 style="color: var(--primary);">Phase 1: Platform Launch & Mining (Q4 2026)</h3>
                                    <ul class="attractive-ul primary">
                                        <li>✓ Platform development and testing</li>
                                        <li>✓ STC token implementation</li>
                                        <li>✓ First phase mining functionality</li>
                                        <li>✓ Spin & Win feature added</li>
                                        <li>✓ Ad watching rewards system</li>
                                        <li>✓ Referral program setup with launch bonuses</li>
                                        <li>✓ Initial price discovery ($5 estimated)</li>
                                        <li>✓ Multiple withdrawal options integration</li>
                                    </ul>
                                </div>
                                
                                <!-- Phase 2 -->
                                <div class="roadmap-phase future">
                                    <h3>Phase 2: Mobile App & Features (Q1 2027)</h3>
                                    <ul class="attractive-ul">
                                        <li>iOS and Android mobile app release</li>
                                        <li>Enhanced mining algorithms</li>
                                        <li>Additional ad formats and partners</li>
                                        <li>User profile customization</li>
                                        <li>Advanced analytics dashboard</li>
                                        <li>Price stabilization mechanisms</li>
                                        <li>More withdrawal methods integration</li>
                                        <li>International bank transfer support</li>
                                    </ul>
                                </div>
                                
                                <!-- Phase 3 -->
                                <div class="roadmap-phase future">
                                    <h3>Phase 3: Exchange Integration (Q2 2027)</h3>
                                    <ul class="attractive-ul">
                                        <li>STC token exchange listing</li>
                                        <li>Cross-platform transfer capabilities</li>
                                        <li>Wallet integration</li>
                                        <li>Multi-chain support</li>
                                        <li>Partnership announcements</li>
                                        <li>Market expansion initiatives</li>
                                        <li>Enhanced security features</li>
                                        <li>Global payment gateway integration</li>
                                    </ul>
                                </div>
                                
                                <!-- Phase 4 -->
                                <div class="roadmap-phase future">
                                    <h3>Phase 4: Ecosystem Expansion (Q3 2027)</h3>
                                    <ul class="attractive-ul">
                                        <li>STC wallet application</li>
                                        <li>Merchant adoption program</li>
                                        <li>Staking and governance features</li>
                                        <li>Advanced DeFi integrations</li>
                                        <li>Community governance implementation</li>
                                        <li>Global market penetration</li>
                                        <li>Additional earning methods</li>
                                        <li>Premium subscription features</li>
                                    </ul>
                                </div>
                                
                                <!-- Future -->
                                <div class="roadmap-phase future">
                                    <h3 style="color: var(--accent);">Future Vision (2028+)</h3>
                                    <ul class="attractive-ul info">
                                        <li>Global expansion to new markets</li>
                                        <li>NFT marketplace integration</li>
                                        <li>Advanced AI-powered earning opportunities</li>
                                        <li>Complete decentralized platform transition</li>
                                        <li>Industry partnerships and collaborations</li>
                                        <li>Market leadership in utility tokens</li>
                                        <li>Real-world asset tokenization</li>
                                        <li>Cross-border payment solutions</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Tokenomics Tab -->
                <div id="tokenomicsTab" class="token-content">
                    <div class="card">
                        <div class="token-details">
                            <h2 style="margin-bottom: 20px;">STC Token Tokenomics - 2026 Distribution</h2>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 30px;">
                                <div>
                                    <h3>Distribution Breakdown (2026 Launch)</h3>
                                    <ul class="attractive-ul">
                                        <li><strong>Phase 1 Mining Rewards:</strong> 40,000,000 STC (40%)</li>
                                        <li><strong>Platform Reserve:</strong> 30,000,000 STC (30%)</li>
                                        <li><strong>Team & Development:</strong> 15,000,000 STC (15%)</li>
                                        <li><strong>Marketing & Partnerships:</strong> 10,000,000 STC (10%)</li>
                                        <li><strong>Community & Airdrops:</strong> 5,000,000 STC (5%)</li>
                                    </ul>
                                </div>
                                <div>
                                    <h3>Release Schedule (2026-2028)</h3>
                                    <ul class="attractive-ul warning">
                                        <li><strong>Phase 1 Mining (2026-2027):</strong> 40M STC distributed</li>
                                        <li><strong>Platform Reserve:</strong> Locked until Q2 2027</li>
                                        <li><strong>Team Allocation:</strong> 3-year vesting starting 2027</li>
                                        <li><strong>Marketing Funds:</strong> Phased release 2026-2028</li>
                                        <li><strong>Community Funds:</strong> Immediate availability for programs</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 10px; margin-top: 20px;">
                                <h3 style="margin-bottom: 10px;">Coin Value System</h3>
                                <ul class="attractive-ul success">
                                    <li><strong>Coin Value:</strong> 5000 coins = $1 USD</li>
                                    <li><strong>Minimum Withdrawal:</strong> $5 USD (25000 coins)</li>
                                    <li><strong>STC Token Price:</strong> Estimated $5 (fluctuates with market)</li>
                                    <li><strong>Earning Methods:</strong> Ads, Mining, Spin & Win, Referrals</li>
                                    <li><strong>Sustainability:</strong> Ensures long-term platform sustainability</li>
                                    <li><strong>Withdrawal Options:</strong> Multiple methods available</li>
                                    <li><strong>Processing Fees:</strong> Minimal fees for sustainability</li>
                                </ul>
                            </div>
                            
                            <div style="background: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 10px; margin-top: 20px;">
                                <h3 style="margin-bottom: 10px;">Withdrawal Methods & Fees</h3>
                                <ul class="attractive-ul warning">
                                    <li><strong>USDT (TRC20/ERC20):</strong> 1% fee, processed within 24 hours</li>
                                    <li><strong>Bitcoin (BTC):</strong> 2% fee, processed within 24 hours</li>
                                    <li><strong>Ethereum (ETH):</strong> 2% fee, processed within 24 hours</li>
                                    <li><strong>USDC:</strong> 1% fee, processed within 24 hours</li>
                                    <li><strong>Bank Transfer:</strong> 3% fee, processed in 24-72 hours</li>
                                    <li><strong>Minimum Withdrawal:</strong> $5 USD for all methods</li>
                                    <li><strong>Maximum Daily:</strong> $1000 USD per user</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- STC Posts Page -->
    <div id="posts" class="page">
        <section class="posts-section">
            <div class="container">
                <h2 class="section-title">STC News & Updates</h2>
                
                <div class="card" style="margin-bottom: 25px; text-align: center;">
                    <h3 style="margin-bottom: 12px;">Latest STC Token Updates</h3>
                    <p style="color: #94a3b8;">Stay updated with the latest news about STC Token, mining updates, and platform announcements.</p>
                </div>
                
                <div class="posts-grid">
                    <div class="card post-card">
                        <div class="post-date">2026-01-15</div>
                        <div class="post-image">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="post-content">
                            <h3>STC Token Launch Announcement</h3>
                            <p>We are excited to announce the official launch of STC Token! The first phase of mining is now live. Users can start earning STC tokens through mining, watching ads, and referrals.</p>
                            <div class="post-tags">
                                <span class="post-tag">Launch</span>
                                <span class="post-tag">Mining</span>
                                <span class="post-tag">News</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2026-01-10</div>
                        <div class="post-image">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="post-content">
                            <h3>Price Update & Market Performance</h3>
                            <p>STC Token is performing well in the market with stable price discovery. Current estimated price is $5 with healthy fluctuations based on market demand and mining activity.</p>
                            <div class="post-tags">
                                <span class="post-tag">Price</span>
                                <span class="post-tag">Market</span>
                                <span class="post-tag">Update</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2026-01-05</div>
                        <div class="post-image">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <div class="post-content">
                            <h3>New Spin & Win Feature Added</h3>
                            <p>Introducing our new Spin & Win feature! Watch ads to spin the wheel and win coins or STC tokens. 40% chance for coins, 60% chance for STC tokens with exciting prizes!</p>
                            <div class="post-tags">
                                <span class="post-tag">Spin</span>
                                <span class="post-tag">Win</span>
                                <span class="post-tag">New Feature</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2026-01-01</div>
                        <div class="post-image">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="post-content">
                            <h3>Daily Login Rewards System</h3>
                            <p>Introducing our new Daily Login Rewards system! Login every day to build your streak and earn increasing STC rewards. After 30 days, earn 60 STC daily!</p>
                            <div class="post-tags">
                                <span class="post-tag">Daily</span>
                                <span class="post-tag">Rewards</span>
                                <span class="post-tag">Streak</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2025-12-28</div>
                        <div class="post-image">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="post-content">
                            <h3>Multiple Withdrawal Options Added</h3>
                            <p>We now support multiple withdrawal methods including USDT, BTC, ETH, USDC, and bank transfers. Choose your preferred method and withdraw your earnings easily.</p>
                            <div class="post-tags">
                                <span class="post-tag">Withdrawal</span>
                                <span class="post-tag">Crypto</span>
                                <span class="post-tag">Bank</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card post-card">
                        <div class="post-date">2025-12-25</div>
                        <div class="post-image">
                            <i class="fas fa-hard-hat"></i>
                        </div>
                        <div class="post-content">
                            <h3>Mining Phase 1 Success</h3>
                            <p>First phase of STC mining is exceeding expectations! Thousands of users are actively mining STC tokens. Early adopters are earning substantial rewards.</p>
                            <div class="post-tags">
                                <span class="post-tag">Mining</span>
                                <span class="post-tag">Success</span>
                                <span class="post-tag">Phase 1</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Daily Login Page -->
    <div id="dailyLogin" class="page">
        <section class="daily-login-section">
            <div class="container">
                <h2 class="section-title">Daily Login Rewards System</h2>
                
                <div class="card daily-login-card">
                    <div class="streak-display">
                        <div class="flame-animation">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="streak-count" id="streakCount">0</div>
                        <div class="streak-label">Consecutive Days</div>
                        <div style="color: #94a3b8; max-width: 400px; margin: 10px 0;">
                            Login daily to build your streak! Each day your STC reward increases by 2. 
                            After 30 days, you'll earn 60 STC every day until you break the streak.
                        </div>
                    </div>
                    
                    <!-- Reward Breakdown -->
                    <div class="reward-breakdown">
                        <div class="reward-item coin-reward">
                            <i class="fas fa-coins"></i>
                            <h4>Daily Coin Reward</h4>
                            <p>50 Coins Every Day</p>
                            <p style="font-size: 12px; color: #94a3b8;">(5000 coins = $1)</p>
                        </div>
                        <div class="reward-item streak-reward">
                            <i class="fas fa-chart-line"></i>
                            <h4>STC Streak Reward</h4>
                            <p id="currentSTCReward">2 STC Today</p>
                            <p style="font-size: 12px; color: #94a3b8;" id="streakFormula">Day 1: 2 STC</p>
                        </div>
                        <div class="reward-item bonus-reward">
                            <i class="fas fa-award"></i>
                            <h4>30-Day Bonus</h4>
                            <p>60 STC Daily</p>
                            <p style="font-size: 12px; color: #94a3b8;">After 30 days streak</p>
                        </div>
                    </div>
                    
                    <!-- Streak Calendar -->
                    <h4 style="margin: 30px 0 15px; color: var(--light);">30-Day Streak Calendar</h4>
                    <div class="streak-calendar" id="streakCalendar">
                        <!-- Calendar will be generated by JavaScript -->
                    </div>
                    
                    <!-- Claim Button -->
                    <button class="claim-button" onclick="claimDailyReward()" id="dailyClaimBtn">
                        <i class="fas fa-gift"></i> Claim Today's Reward
                    </button>
                    
                    <!-- Login Reminder -->
                    <div class="login-reminder" id="loginReminder">
                        <i class="fas fa-bell"></i>
                        <span>You must login within 24 hours to maintain your streak!</span>
                    </div>
                    
                    <!-- Streak Benefits -->
                    <div class="streak-benefits">
                        <h4 style="margin-bottom: 10px; color: var(--primary);">Streak Benefits</h4>
                        <ul class="attractive-ul success" style="text-align: left;">
                            <li><strong>Every Day:</strong> Get 50 coins (worth $0.01)</li>
                            <li><strong>STC Reward:</strong> Starts at 2 STC, increases by 2 each day</li>
                            <li><strong>Day 30+:</strong> Earn 60 STC daily (worth ≈ $318.6 at $5.31/STC)</li>
                            <li><strong>Break Streak:</strong> If you miss a day, reset to Day 1</li>
                            <li><strong>24-Hour Window:</strong> Login within 24 hours to maintain streak</li>
                        </ul>
                    </div>
                    
                    <div class="streak-note">
                        <i class="fas fa-info-circle"></i> 
                        Daily rewards reset at 12:00 AM UTC. Your streak is saved automatically.
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('loginModal')">&times;</button>
            <h2 class="form-title">Login to STC-REWARDS</h2>
            
            <button class="btn btn-google" onclick="googleAuth()" id="googleLoginBtn">
                <i class="fab fa-google"></i> Continue with Google
            </button>
            
            <div class="divider">
                <span>or continue with email</span>
            </div>
            
            <form id="loginForm" onsubmit="handleEmailLogin(event)">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password (9 characters)</label>
                    <input type="password" class="form-input" id="loginPassword" minlength="9" maxlength="9" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="loginSubmitBtn">
                    Login
                </button>
            </form>
            
            <p style="text-align: center; margin-top: 15px; color: #94a3b8; font-size: 13px;">
                Don't have an account? <a href="#" onclick="switchToSignup()" style="color: var(--primary);">Sign up</a>
            </p>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('signupModal')">&times;</button>
            <h2 class="form-title">Create Account - Join STC 2026 Launch</h2>
            
            <button class="btn btn-google" onclick="googleAuth()" id="googleSignupBtn">
                <i class="fab fa-google"></i> Sign up with Google
            </button>
            
            <div class="divider">
                <span>or sign up with email</span>
            </div>
            
            <form id="signupForm" onsubmit="handleEmailSignup(event)">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" id="signupName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date of Birth</label>
                    <input type="date" class="form-input" id="signupDob" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password (9 characters)</label>
                    <input type="password" class="form-input" id="signupPassword" minlength="9" maxlength="9" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Referral Code (Optional)</label>
                    <input type="text" class="form-input" id="signupReferral" placeholder="Enter code to get 50 STC launch bonus">
                    <p style="font-size: 11px; color: #94a3b8; margin-top: 5px;">50 STC bonus during launch phase (normally 20 STC)</p>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="signupSubmitBtn">
                    Join STC 2026 Launch
                </button>
            </form>
            
            <p style="text-align: center; margin-top: 15px; color: #94a3b8; font-size: 13px;">
                Already have an account? <a href="#" onclick="switchToLogin()" style="color: var(--primary);">Login</a>
            </p>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div id="withdrawModal" class="modal">
        <div class="modal-content" style="max-width: 550px;">
            <button class="close-modal" onclick="closeModal('withdrawModal')">&times;</button>
            <h2 class="form-title">Withdraw Funds</h2>
            
            <div class="form-group">
                <label class="form-label">Amount to Withdraw (USD)</label>
                <input type="number" class="form-input" id="withdrawAmount" min="5" step="0.1" value="5">
                <p style="font-size: 12px; color: #94a3b8; margin-top: 5px;">Minimum: $5 USD (25000 coins)</p>
                <p style="font-size: 11px; color: var(--warning); margin-top: 3px;">Available: $<span id="availableBalance">0</span> USD</p>
            </div>
            
            <div class="form-group">
                <label class="form-label">Select Withdrawal Method</label>
                <div class="withdrawal-options-grid" id="withdrawalOptions">
                    <div class="withdrawal-option selected" data-method="usdt" data-fee="1" data-network="TRC20">
                        <div class="crypto-icon usdt-bg">
                            <i class="fab fa-usd"></i>
                        </div>
                        <div>USDT</div>
                        <div class="withdrawal-fee">1% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                    <div class="withdrawal-option" data-method="btc" data-fee="2" data-network="BTC">
                        <div class="crypto-icon btc-bg">
                            <i class="fab fa-btc"></i>
                        </div>
                        <div>Bitcoin</div>
                        <div class="withdrawal-fee">2% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                    <div class="withdrawal-option" data-method="eth" data-fee="2" data-network="ERC20">
                        <div class="crypto-icon eth-bg">
                            <i class="fab fa-ethereum"></i>
                        </div>
                        <div>Ethereum</div>
                        <div class="withdrawal-fee">2% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                    <div class="withdrawal-option" data-method="usdc" data-fee="1" data-network="ERC20">
                        <div class="crypto-icon usdc-bg">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div>USDC</div>
                        <div class="withdrawal-fee">1% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                    <div class="withdrawal-option" data-method="bank" data-fee="3" data-network="Bank">
                        <div class="crypto-icon bank-bg">
                            <i class="fas fa-university"></i>
                        </div>
                        <div>Bank Transfer</div>
                        <div class="withdrawal-fee">3% fee</div>
                        <div class="withdrawal-minimum">Min: $5</div>
                    </div>
                </div>
            </div>
            
            <!-- Crypto Wallet Form -->
            <div id="cryptoForm">
                <div class="form-group">
                    <label class="form-label" id="walletLabel">USDT Wallet Address (TRC20)</label>
                    <input type="text" class="form-input" id="walletAddress" placeholder="Enter your wallet address">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Network</label>
                    <select class="form-input" id="withdrawNetwork">
                        <option value="TRC20">TRC20 (Recommended)</option>
                        <option value="ERC20">ERC20</option>
                        <option value="BEP20">BEP20</option>
                    </select>
                </div>
            </div>
            
            <!-- Bank Transfer Form -->
            <div id="bankForm" class="bank-transfer-form">
                <div class="method-details">
                    <p style="color: var(--warning); font-size: 13px; margin-bottom: 10px;">
                        <i class="fas fa-info-circle"></i> Bank transfers take 24-72 hours to process
                    </p>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Bank Name</label>
                    <input type="text" class="form-input" id="bankName" placeholder="Enter your bank name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Account Holder Name</label>
                    <input type="text" class="form-input" id="accountHolder" placeholder="Enter account holder name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Account Number</label>
                    <input type="text" class="form-input" id="accountNumber" placeholder="Enter account number">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Routing/SWIFT Code</label>
                    <input type="text" class="form-input" id="routingCode" placeholder="Enter routing or SWIFT code">
                </div>
            </div>
            
            <div class="form-group">
                <div style="background: rgba(99, 102, 241, 0.1); padding: 12px; border-radius: 8px; margin-top: 10px;">
                    <div style="display: flex; justify-content: space-between; font-size: 13px;">
                        <span>Withdrawal Amount:</span>
                        <span>$<span id="displayAmount">5.00</span></span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 13px; margin-top: 5px;">
                        <span>Processing Fee (<span id="feePercent">1</span>%):</span>
                        <span>-$<span id="feeAmount">0.05</span></span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 14px; margin-top: 8px; padding-top: 8px; border-top: 1px solid rgba(255, 255, 255, 0.1); font-weight: 600;">
                        <span>You Will Receive:</span>
                        <span>$<span id="netAmount">4.95</span></span>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-success" onclick="processWithdrawal()" style="width: 100%;" id="withdrawSubmitBtn">
                <i class="fas fa-check"></i> Confirm Withdrawal
            </button>
        </div>
    </div>

    <!-- Streak Reward Modal -->
    <div id="streakRewardModal" class="modal">
        <div class="modal-content streak-modal-content">
            <button class="close-modal" onclick="closeModal('streakRewardModal')">&times;</button>
            <div class="streak-celebration">
                <i class="fas fa-trophy"></i>
            </div>
            <h2 class="form-title" id="streakModalTitle">Daily Reward Claimed!</h2>
            
            <div style="margin: 20px 0; padding: 20px; background: rgba(16, 185, 129, 0.1); border-radius: 10px;">
                <div style="font-size: 24px; color: var(--success); font-weight: 700; margin-bottom: 10px;" id="rewardSTC">+2 STC</div>
                <div style="color: #94a3b8;">STC Tokens Added</div>
            </div>
            
            <div style="margin: 15px 0; padding: 15px; background: rgba(245, 158, 11, 0.1); border-radius: 10px;">
                <div style="font-size: 20px; color: var(--warning); font-weight: 700; margin-bottom: 5px;" id="rewardCoins">+50 Coins</div>
                <div style="color: #94a3b8;">Daily Login Bonus</div>
            </div>
            
            <div style="margin: 25px 0;">
                <div style="font-size: 18px; color: var(--light); margin-bottom: 10px;">Your Current Streak</div>
                <div style="font-size: 36px; color: var(--warning); font-weight: 800;" id="modalStreak">0 Days</div>
                <div style="color: #94a3b8; margin-top: 5px;">Come back tomorrow for more!</div>
            </div>
            
            <button class="btn btn-primary" onclick="closeModal('streakRewardModal'); showPage('dashboard', event);" style="width: 100%;">
                <i class="fas fa-check"></i> Awesome!
            </button>
        </div>
    </div>

    <!-- Wheel Result Modal -->
    <div id="wheelResultModal" class="modal">
        <div class="modal-content wheel-result-modal">
            <button class="close-modal" onclick="closeModal('wheelResultModal')">&times;</button>
            <div class="result-celebration">
                <i class="fas fa-gift"></i>
            </div>
            <h2 class="form-title">Congratulations!</h2>
            
            <div id="wheelResultContent">
                <!-- Content will be filled by JavaScript -->
            </div>
            
            <button class="btn btn-primary" onclick="closeModal('wheelResultModal')" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-check"></i> Continue
            </button>
        </div>
    </div>

    <!-- Ad Timer Modal -->
    <div id="adTimerModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <h2 class="form-title" id="adTimerTitle">Ad in Progress</h2>
            
            <div class="ad-timer-notice" id="adTimerNotice">
                <i class="fas fa-external-link-alt"></i>
                The ad has been opened in a new tab. Please watch it completely and return to this page to receive your reward.
            </div>
            
            <div style="text-align: center; margin: 25px 0;">
                <div style="font-size: 48px; color: var(--warning);">
                    <i class="fas fa-clock"></i>
                </div>
                <div style="font-size: 18px; color: var(--light); margin-top: 15px;" id="adTimerMessage">Please return after watching the ad</div>
                <div class="return-timer" id="returnTimer">30</div>
                <div style="color: #94a3b8; font-size: 14px;">seconds remaining</div>
            </div>
            
            <div class="ad-progress-container">
                <div class="ad-progress-bar" id="adTimerProgressBar"></div>
            </div>
            
            <button class="btn btn-success" onclick="completeAdManually()" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-check"></i> I Watched the Ad
            </button>
            
            <button class="btn btn-secondary" onclick="closeModal('adTimerModal')" style="width: 100%; margin-top: 10px;">
                <i class="fas fa-times"></i> Cancel
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <div class="logo" style="margin-bottom: 15px; font-size: 20px;">
                        <i class="fas fa-gem"></i>
                        STC-REWARDS
                    </div>
                    <p style="color: #94a3b8; max-width: 280px; font-size: 13px;">Earn cryptocurrency through ads, mining, spin & win, and referrals. Join the 2026 launch of STC Token today.</p>
                </div>
                <div class="footer-links">
                    <h4>Platform</h4>
                    <ul>
                        <li><a href="#" onclick="showPage('home', event)">Home</a></li>
                        <li><a href="#" onclick="showPage('mining', event)">Mining</a></li>
                        <li><a href="#" onclick="showPage('ads', event)">Watch Ads</a></li>
                        <li><a href="#" onclick="showPage('spin', event)">Spin & Win</a></li>
                        <li><a href="#" onclick="showPage('referral', event)">Referral</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="#" onclick="showPage('token', event); setTimeout(() => showTokenTab('whitepaper'), 100);">White Paper</a></li>
                        <li><a href="#" onclick="showPage('token', event); setTimeout(() => showTokenTab('roadmap'), 100);">Road Map</a></li>
                        <li><a href="#" onclick="showPage('posts', event)">STC Posts</a></li>
                        <li><a href="#" onclick="showPage('dailyLogin', event)">Daily Login</a></li>
                        <li><a href="#" onclick="showAuthModal('login')">Login</a></li>
                        <li><a href="#" onclick="showAuthModal('signup')">Sign Up</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="javascript:void(0)" onclick="showLegalModal('terms')">Terms of Service</a></li>
                        <li><a href="javascript:void(0)" onclick="showLegalModal('privacy')">Privacy Policy</a></li>
                        <li><a href="javascript:void(0)" onclick="showLegalModal('cookies')">Cookie Policy</a></li>
                        <li><a href="javascript:void(0)" onclick="showLegalModal('disclaimer')">Disclaimer</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>© 2026 STC-REWARDS. All rights reserved.</p>
                <p style="margin-top: 5px; font-size: 11px;">This is a Realstration platform. STC Token is a utility token within the STC-REWARDS ecosystem.</p>
                <p style="margin-top: 5px; font-size: 10px; color: #64748b;">STC Token launched in 2026 - First phase mining active | Estimated price: $5 (subject to market fluctuations) | 5000 coins = $1 USD</p>
            </div>
        </div>
    </footer>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDn4uLD3qNuEYpiXf_S8q_PVGzeaTlRthc",
            authDomain: "stc-rewards-b541f.firebaseapp.com",
            projectId: "stc-rewards-b541f",
            storageBucket: "stc-rewards-b541f.firebasestorage.app",
            messagingSenderId: "886121063816",
            appId: "1:886121063816:web:bb2ad55b5e05db7163c63d"
        };

        // Initialize Firebase
        let auth = null;
        try {
            firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            console.log("Firebase initialized successfully");
        } catch (error) {
            console.log("Firebase initialization error:", error);
        }

        // UPDATED User data structure with upgraded Spin & Win
        let user = {
            uid: null,
            loggedIn: false,
            name: "",
            email: "",
            photoURL: "",
            stc: 0,
            coins: 0,
            usdt: 0,
            referrals: 0,
            referralCode: "",
            referredBy: null,
            referrerBonus: 0,
            totalMined: 0,
            mining: false,
            miningStartTime: null,
            miningEndTime: null,
            joinDate: "",
            withdrawalHistory: [],
            // Daily Login Fields
            dailyLogin: {
                streak: 0,
                lastLoginDate: "",
                claimedToday: false,
                streakHistory: [],
                totalDaysLogged: 0,
                highestStreak: 0
            },
            // UPDATED: Spin & Win Fields with 50 spins limit
            spinData: {
                spinsToday: 0,
                totalSpins: 0,
                totalWonCoins: 0,
                totalWonSTC: 0,
                lastSpinTime: null,
                maxSpinsPerDay: 50, // UPDATED: Increased to 50
                spinCooldown: 0 // in seconds
            }
        };

        // STC Token price variables
        let stcPrice = 5.31;
        let priceFluctuationInterval = null;

        // Stats variables
        let activeUsers = 1000;
        let totalWithdrawn = 12075;
        let activeMiners = 950;
        let lastMinersUpdate = Date.now();
        const MINERS_UPDATE_INTERVAL = 120000;

        // AD URLs
        const adUrls = [
            "https://otieu.com/4/10584090",
            "https://otieu.com/4/10584092",
            "https://otieu.com/4/10584093",
            "https://otieu.com/4/10546347",
            "https://otieu.com/4/10536264",
            "https://otieu.com/4/10536238"
        ];

        // UPDATED: Spin wheel prizes with upgraded values
        const spinPrizes = [
            // Coins prizes (40% total probability) - UPGRADED VALUES
            { type: 'coins', amount: 100, probability: 10 },      // 10% of total
            { type: 'coins', amount: 250, probability: 10 },      // 10% of total
            { type: 'coins', amount: 500, probability: 10 },      // 10% of total
            { type: 'coins', amount: 1000, probability: 5 },      // 5% of total
            { type: 'coins', amount: 5000, probability: 5 },      // 5% of total - UPGRADED
            
            // STC prizes (60% total probability) - UPGRADED VALUES
            { type: 'stc', amount: 5, probability: 10 },          // 10% of total
            { type: 'stc', amount: 15, probability: 10 },         // 10% of total
            { type: 'stc', amount: 50, probability: 5 },          // 5% of total
            { type: 'stc', amount: 100, probability: 5 },         // 5% of total - UPGRADED
        ];

        // UPDATED: Wheel segment colors
        const wheelColors = [
            '#FF6B6B', '#4ECDC4', '#FFD166', '#06D6A0',
            '#118AB2', '#073B4C', '#EF476F', '#FFD166',
            '#06D6A0'
        ];

        // DOM elements
        let currentModal = null;
        let isProcessing = false;
        let activeNav = 'home';
        let activeFilter = 'all';
        let miningCheckInterval = null;
        let selectedWithdrawalMethod = 'usdt';
        let withdrawalFee = 1;
        let dailyLoginCheckInterval = null;
        let adTimerInterval = null;
        let currentAdButton = null;
        let currentAdDuration = 30;
        let currentAdType = '';
        
        // Spin wheel variables
        let wheelSpinning = false;
        let wheelAngle = 0;
        let selectedPrizeIndex = 0;
        let spinCooldownInterval = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeFirebaseAuth();
            setupEventListeners();
            updateUI();
            
            // Update stats periodically
            setInterval(updateStats, 10000);
            
            // Set current date as max for date input
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('signupDob').max = today;
            
            // Check for active mining session on load
            checkAndRestoreMining();
            
            // Start periodic mining check
            startMiningChecker();
            
            // Start price fluctuation simulation
            startPriceFluctuation();
            
            // Update stats display
            updateStatsDisplay();
            
            // Setup withdrawal options
            setupWithdrawalOptions();
            
            // Update withdrawal fee display
            updateWithdrawalFee();
            
            // Start Daily Login Checker
            startDailyLoginChecker();
            
            // Update referral link
            updateReferralLink();
            
            // Setup referral sharing
            setupReferralSharing();
            
            // Setup referral code entry section
            toggleReferralEntrySection();
            
            // Create particles effect
            createParticles('referral');
            
            // Initialize Spin Wheel with upgraded values
            createSpinWheel();
            
            // Check spin cooldown on load
            checkSpinCooldown();
            
            // Initialize touch-friendly navigation
            setupNavigation();
        });

        // Setup navigation for better click handling
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-links a');
            navLinks.forEach(link => {
                // Remove existing click handlers to prevent conflicts
                link.removeEventListener('click', handleNavClick);
                link.addEventListener('click', handleNavClick);
            });
        }

        // Handle navigation click
        function handleNavClick(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const link = event.currentTarget;
            const pageId = this.getAttribute('onclick')?.match(/showPage\('([^']+)'/)?.[1];
            
            if (pageId) {
                showPage(pageId, event);
            }
        }

        // UPDATED: Create spin wheel with upgraded values
        function createSpinWheel() {
            const wheel = document.getElementById('wheel');
            if (!wheel) return;
            
            wheel.innerHTML = '';
            
            // Create 9 segments (one for each prize)
            for (let i = 0; i < 9; i++) {
                const segment = document.createElement('div');
                segment.className = 'wheel-segment';
                segment.style.transform = `rotate(${i * 40}deg)`;
                segment.style.backgroundColor = wheelColors[i];
                
                const content = document.createElement('div');
                content.className = 'segment-content';
                
                const prize = spinPrizes[i];
                if (prize && prize.type === 'coins') {
                    content.innerHTML = `<div class="segment-coins">${prize.amount}<br>Coins</div>`;
                } else if (prize) {
                    content.innerHTML = `<div class="segment-stc">${prize.amount}<br>STC</div>`;
                }
                
                segment.appendChild(content);
                wheel.appendChild(segment);
            }
        }

        // Spin the wheel
        function spinWheel() {
            if (wheelSpinning) return;
            
            // Check if user can spin
            if (!checkCanSpin()) return;
            
            wheelSpinning = true;
            
            // Select random prize based on probabilities
            const totalProbability = spinPrizes.reduce((sum, prize) => sum + prize.probability, 0);
            let random = Math.random() * totalProbability;
            let cumulative = 0;
            
            for (let i = 0; i < spinPrizes.length; i++) {
                cumulative += spinPrizes[i].probability;
                if (random <= cumulative) {
                    selectedPrizeIndex = i;
                    break;
                }
            }
            
            // Calculate spin angle (multiple full rotations + segment angle)
            const fullRotations = 5;
            const segmentAngle = 40; // 360 / 9 segments
            const targetAngle = fullRotations * 360 + (selectedPrizeIndex * segmentAngle) + (segmentAngle / 2);
            
            // Apply spin animation
            const wheel = document.getElementById('wheel');
            wheel.style.transform = `rotate(${targetAngle}deg)`;
            
            // Disable spin button during animation
            const spinBtn = document.getElementById('spinButton');
            spinBtn.disabled = true;
            spinBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Spinning...';
            
            // Update spin stats
            user.spinData.spinsToday++;
            user.spinData.totalSpins++;
            user.spinData.lastSpinTime = Date.now();
            
            // Wait for animation to complete
            setTimeout(() => {
                wheelSpinning = false;
                
                // Give prize to user
                const prize = spinPrizes[selectedPrizeIndex];
                if (prize.type === 'coins') {
                    user.coins += prize.amount;
                    user.spinData.totalWonCoins += prize.amount;
                } else {
                    user.stc += prize.amount;
                    user.spinData.totalWonSTC += prize.amount;
                }
                
                // Save user data
                saveUserData();
                updateUI();
                updateSpinStats();
                
                // Show result modal
                showWheelResult(prize);
                
                // Reset spin button
                spinBtn.disabled = false;
                spinBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Watch Ad to Spin (30s)';
                
                // Start cooldown
                startSpinCooldown();
            }, 5000);
        }

        // UPDATED: Check if user can spin (increased to 50 spins)
        function checkCanSpin() {
            if (!user.loggedIn) {
                showNotification('Please login to spin the wheel', 'warning');
                showAuthModal('login');
                return false;
            }
            
            // UPDATED: Increased to 50 spins per day
            if (user.spinData.spinsToday >= 50) {
                showNotification('Maximum spins reached for today. Come back tomorrow!', 'warning');
                return false;
            }
            
            if (user.spinData.spinCooldown > 0) {
                showNotification(`Please wait ${user.spinData.spinCooldown} seconds before spinning again`, 'warning');
                return false;
            }
            
            return true;
        }

        // Start spin ad (opens ad before spinning)
        function startSpinAd() {
            if (!checkCanSpin()) return;
            
            // Store spin button info
            currentAdButton = {
                element: document.getElementById('spinButton'),
                originalText: document.getElementById('spinButton').innerHTML,
                duration: 30,
                isSpinAd: true
            };
            
            // Disable spin button
            const spinBtn = document.getElementById('spinButton');
            spinBtn.disabled = true;
            spinBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Opening Ad...';
            
            // Select a random ad from the list
            const randomAdIndex = Math.floor(Math.random() * adUrls.length);
            const selectedAdUrl = adUrls[randomAdIndex];
            
            // Open ad in new tab
            window.open(selectedAdUrl, '_blank');
            
            // Show timer modal for spin
            showSpinAdTimerModal(30);
        }

        // Show spin ad timer modal
        function showSpinAdTimerModal(duration) {
            currentAdDuration = duration;
            currentAdType = 'spin';
            
            document.getElementById('returnTimer').textContent = duration;
            document.getElementById('adTimerProgressBar').style.width = '0%';
            document.getElementById('adTimerTitle').textContent = 'Watch Ad to Spin Wheel';
            document.getElementById('adTimerMessage').textContent = 'Watch the ad to spin the wheel and win coins or STC tokens!';
            document.getElementById('adTimerNotice').innerHTML = '<i class="fas fa-sync-alt"></i> Watch the ad to spin the wheel and win coins or STC tokens!';
            
            // Show modal
            showModal('adTimerModal');
            
            // Start countdown
            let countdown = duration;
            adTimerInterval = setInterval(() => {
                countdown--;
                document.getElementById('returnTimer').textContent = countdown;
                const progress = ((duration - countdown) / duration) * 100;
                document.getElementById('adTimerProgressBar').style.width = `${progress}%`;
                
                if (countdown <= 0) {
                    clearInterval(adTimerInterval);
                    // Auto-complete after timer ends
                    completeSpinAdAfterTimer();
                }
            }, 1000);
        }

        // Complete spin ad after timer
        function completeSpinAdAfterTimer() {
            if (!currentAdButton) return;
            
            // Spin the wheel
            spinWheel();
            
            // Close modal
            closeModal('adTimerModal');
            
            // Reset current ad button
            currentAdButton = null;
        }

        // UPDATED: Show wheel result modal with upgraded prizes
        function showWheelResult(prize) {
            const modalContent = document.getElementById('wheelResultContent');
            
            let resultHTML = '';
            if (prize.type === 'coins') {
                resultHTML = `
                    <div style="margin: 20px 0; padding: 20px; background: rgba(245, 158, 11, 0.1); border-radius: 10px;">
                        <div class="result-amount">${prize.amount} Coins</div>
                        <div class="result-type">Coin Prize</div>
                        <div style="color: #94a3b8; font-size: 14px;">≈ $${(prize.amount / 5000).toFixed(4)} USD</div>
                    </div>
                    <div class="result-message">
                        <i class="fas fa-coins"></i> ${prize.amount} coins have been added to your balance. Keep spinning for more rewards!
                    </div>
                `;
            } else {
                resultHTML = `
                    <div style="margin: 20px 0; padding: 20px; background: rgba(99, 102, 241, 0.1); border-radius: 10px;">
                        <div class="result-amount">${prize.amount} STC</div>
                        <div class="result-type">STC Token Prize</div>
                        <div style="color: #94a3b8; font-size: 14px;">≈ $${(prize.amount * stcPrice).toFixed(2)} USD</div>
                    </div>
                    <div class="result-message">
                        <i class="fas fa-gem"></i> ${prize.amount} STC tokens have been added to your balance. Great win!
                    </div>
                `;
            }
            
            modalContent.innerHTML = resultHTML;
            showModal('wheelResultModal');
        }

        // Start spin cooldown
        function startSpinCooldown() {
            user.spinData.spinCooldown = 30; // 30 seconds cooldown
            
            // Show cooldown notice
            const cooldownElement = document.getElementById('spinCooldown');
            const cooldownTimer = document.getElementById('cooldownTimer');
            const spinBtn = document.getElementById('spinButton');
            
            cooldownElement.style.display = 'block';
            spinBtn.style.display = 'none';
            
            // Update cooldown timer
            updateSpinCooldownDisplay();
            
            // Start cooldown interval
            if (spinCooldownInterval) {
                clearInterval(spinCooldownInterval);
            }
            
            spinCooldownInterval = setInterval(() => {
                user.spinData.spinCooldown--;
                updateSpinCooldownDisplay();
                
                if (user.spinData.spinCooldown <= 0) {
                    clearInterval(spinCooldownInterval);
                    cooldownElement.style.display = 'none';
                    spinBtn.style.display = 'inline-flex';
                    saveUserData();
                }
            }, 1000);
        }

        // Check spin cooldown on load
        function checkSpinCooldown() {
            if (user.spinData.spinCooldown > 0) {
                startSpinCooldown();
            }
        }

        // Update spin cooldown display
        function updateSpinCooldownDisplay() {
            const cooldownTimer = document.getElementById('cooldownTimer');
            if (cooldownTimer) {
                const minutes = Math.floor(user.spinData.spinCooldown / 60);
                const seconds = user.spinData.spinCooldown % 60;
                cooldownTimer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
        }

        // UPDATED: Update spin stats display
        function updateSpinStats() {
            if (!user.spinData) {
                user.spinData = {
                    spinsToday: 0,
                    totalSpins: 0,
                    totalWonCoins: 0,
                    totalWonSTC: 0,
                    lastSpinTime: null,
                    maxSpinsPerDay: 50,
                    spinCooldown: 0
                };
            }
            
            document.getElementById('spinsToday').textContent = user.spinData.spinsToday;
            document.getElementById('totalSpins').textContent = user.spinData.totalSpins;
            
            // Update spins today counter
            const spinsTodayElement = document.getElementById('spinsTodayCount');
            if (spinsTodayElement) {
                spinsTodayElement.textContent = user.spinData.spinsToday;
            }
            
            // Calculate total won value
            const totalWonCoinsValue = user.spinData.totalWonCoins / 5000; // Convert coins to USD
            const totalWonSTCValue = user.spinData.totalWonSTC * stcPrice; // Convert STC to USD
            const totalWon = totalWonCoinsValue + totalWonSTCValue;
            
            document.getElementById('totalWon').textContent = `$${totalWon.toFixed(2)}`;
        }

        // Complete ad manually (when user clicks "I Watched the Ad")
        function completeAdManually() {
            if (!currentAdButton) return;
            
            if (adTimerInterval) {
                clearInterval(adTimerInterval);
            }
            
            if (currentAdType === 'spin') {
                // Complete spin ad
                spinWheel();
            } else if (currentAdButton.isMiningAd) {
                // Complete mining ad
                completeMiningAdAfterTimer();
            } else {
                // Complete regular ad
                const min = currentAdButton.min;
                const max = currentAdButton.max;
                const coins = Math.floor(Math.random() * (max - min + 1)) + min;
                
                user.coins += coins;
                saveUserData();
                updateUI();
                
                showNotification(`You earned ${coins} coins! (5000 coins = $1)`);
            }
            
            // Reset button
            currentAdButton.element.disabled = false;
            currentAdButton.element.innerHTML = currentAdButton.originalText;
            
            // Close modal
            closeModal('adTimerModal');
            
            // Reset current ad button
            currentAdButton = null;
            currentAdType = '';
        }

        // Update live stats
        function updateStats() {
            // Active Users
            if (Math.random() > 0.8) {
                activeUsers += Math.floor(Math.random() * 2) + 0;
                document.getElementById('totalUsers').textContent = activeUsers.toLocaleString();
            }
            
            // Total Withdrawn
            if (Math.random() > 0.7) {
                totalWithdrawn += Math.floor(Math.random() * 5) + 3;
                document.getElementById('totalWithdrawn').textContent = '$' + totalWithdrawn.toLocaleString();
            }
            
            // Update stats display
            updateStatsDisplay();
            
            // Update price displays
            updatePriceDisplays();
        }

        // Simulate STC price fluctuations
        function startPriceFluctuation() {
            if (priceFluctuationInterval) {
                clearInterval(priceFluctuationInterval);
            }
            
            // Update price every 15 seconds with small fluctuations
            priceFluctuationInterval = setInterval(() => {
                // Random fluctuation between -0.5% to +0.5%
                const changePercent = (Math.random() - 0.5) * 0.01;
                stcPrice = stcPrice * (1 + changePercent);
                
                // Keep price between $5.00 and $5.50
                if (stcPrice < 5.00) stcPrice = 5.00;
                if (stcPrice > 5.50) stcPrice = 5.50;
                
                // Update all price displays
                updatePriceDisplays();
            }, 15000);
        }

        // Update all price displays
        function updatePriceDisplays() {
            // Calculate percentage change from $5.00
            const changePercent = ((stcPrice - 5.00) / 5.00 * 100).toFixed(1);
            const marketClass = changePercent >= 0 ? 'market-up' : 'market-down';
            const changeSymbol = changePercent >= 0 ? '+' : '';
            
            // Update price on homepage
            const priceElement = document.querySelector('.hero .stat-box:nth-child(2) .stat-value');
            if (priceElement) {
                priceElement.innerHTML = `$${stcPrice.toFixed(2)}<span class="market-indicator ${marketClass}">${changeSymbol}${changePercent}%</span>`;
            }
            
            // Update price on dashboard
            document.getElementById('stcPrice').textContent = stcPrice.toFixed(2);
            
            // Update mining page price
            const miningPriceElement = document.querySelector('.mining-container .price-fluctuation');
            if (miningPriceElement) {
                miningPriceElement.textContent = `$${stcPrice.toFixed(2)}`;
            }
            
            // Update token page price
            const tokenPriceElements = document.querySelectorAll('.token-content .price-fluctuation');
            tokenPriceElements.forEach(el => {
                el.textContent = `$${stcPrice.toFixed(2)}`;
            });
            
            // Update total mined value
            updateTotalMinedValue();
            
            // Update referral earnings value
            updateReferralEarningsValue();
            
            // Update coin progress
            updateCoinProgress();
            
            // Update mining bonus display
            document.getElementById('miningBonus').textContent = (user.referrerBonus || 0).toFixed(2) + ' STC';
            
            // Update spin stats
            updateSpinStats();
        }

        // Update coin progress
        function updateCoinProgress() {
            const coinValue = user.coins / 5000;
            const progressPercent = Math.min((coinValue / 5) * 100, 100);
            
            // Update dashboard progress
            document.getElementById('coinProgress').style.width = progressPercent + '%';
            document.getElementById('coinProgressText').textContent = progressPercent.toFixed(1) + '%';
            
            // Update coin value
            document.getElementById('coinValue').textContent = coinValue.toFixed(2);
            
            // Update ads page progress
            document.getElementById('adsCoinProgress').style.width = progressPercent + '%';
            document.getElementById('adsProgressText').textContent = progressPercent.toFixed(1) + '%';
        }

        // Update total mined value
        function updateTotalMinedValue() {
            const totalMinedElement = document.getElementById('totalMinedValue');
            if (totalMinedElement) {
                const totalMined = user.totalMined || 0;
                totalMinedElement.textContent = (totalMined * stcPrice).toFixed(2);
            }
        }

        // Update referral earnings value
        function updateReferralEarningsValue() {
            const refEarningsValueElement = document.getElementById('refEarningsValue');
            if (refEarningsValueElement) {
                const refEarnings = (user.referrals || 0) * 50;
                refEarningsValueElement.textContent = (refEarnings * stcPrice).toFixed(2);
            }
        }

        // Update stats display
        function updateStatsDisplay() {
            // Animate counters
            animateCounter('totalUsers', activeUsers);
            animateCounter('totalWithdrawn', totalWithdrawn);
            
            // Update active miners only every 2 minutes
            const now = Date.now();
            if (now - lastMinersUpdate > MINERS_UPDATE_INTERVAL) {
                // Random number between 900 and 1000
                activeMiners = Math.floor(Math.random() * 101) + 900;
                lastMinersUpdate = now;
                animateCounter('activeMiners', activeMiners);
            }
        }

        // Page navigation
        function showPage(pageId, event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            // Check if login is required for certain pages
            const pagesRequiringLogin = ['dashboard', 'withdrawalHistory', 'dailyLogin', 'posts', 'spin'];
            if (pagesRequiringLogin.includes(pageId) && !user.loggedIn) {
                showNotification(`Please login to access ${pageId === 'spin' ? 'Spin & Win' : pageId}`, 'warning');
                showAuthModal('login');
                return;
            }
            
            // Update active nav
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
            });
            
            // Add active class to clicked link
            if (event && event.currentTarget) {
                event.currentTarget.classList.add('active');
            } else {
                // Find the link with the matching pageId
                const activeLink = document.querySelector(`.nav-links a[onclick*="${pageId}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            const pageElement = document.getElementById(pageId);
            if (pageElement) {
                pageElement.classList.add('active');
                activeNav = pageId;
                
                // Page-specific initializations
                if (pageId === 'withdrawalHistory') {
                    loadWithdrawalHistory();
                } else if (pageId === 'dailyLogin') {
                    updateStreakUI();
                } else if (pageId === 'spin') {
                    updateSpinStats();
                    createSpinWheel();
                } else if (pageId === 'referral') {
                    toggleReferralEntrySection();
                    updateReferralStats();
                }
                
                // Update header buttons
                updateHeaderButtons();
                
                // Show/hide mining persistence notice
                if (pageId === 'mining' && user.mining) {
                    showMiningPersistenceNotice();
                    updateMiningTimer();
                } else {
                    removeMiningPersistenceNotice();
                }
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Update header buttons based on login state
        function updateHeaderButtons() {
            const loginBtn = document.getElementById('loginBtn');
            const signupBtn = document.getElementById('signupBtn');
            const userProfile = document.getElementById('userProfile');
            
            if (user.loggedIn) {
                loginBtn.style.display = 'none';
                signupBtn.style.display = 'none';
                userProfile.style.display = 'flex';
            } else {
                loginBtn.style.display = 'inline-flex';
                signupBtn.style.display = 'inline-flex';
                userProfile.style.display = 'none';
            }
        }

        // Update UI with all features
        function updateUI() {
            // Update referral code display
            document.getElementById('refCode').textContent = user.referralCode || 'X8Y9Z7';
            
            // Calculate STC value at current price
            const stcValue = user.stc * stcPrice;
            
            // Update balances
            document.getElementById('stcBalance').textContent = user.stc;
            document.getElementById('stcValue').textContent = stcValue.toFixed(2);
            document.getElementById('coinBalance').textContent = user.coins;
            document.getElementById('coinValue').textContent = (user.coins / 5000).toFixed(2);
            document.getElementById('usdtBalance').textContent = user.usdt.toFixed(2);
            document.getElementById('totalCoins').textContent = user.coins + ' coins';
            document.getElementById('totalMined').textContent = user.totalMined + ' STC';
            document.getElementById('refCount').textContent = user.referrals;
            document.getElementById('refEarnings').textContent = (user.referrals * 50) + ' STC';
            
            // Update referral mining bonus
            document.getElementById('miningBonus').textContent = (user.referrerBonus || 0).toFixed(2) + ' STC';
            
            // Update price displays
            updatePriceDisplays();
            
            // Update coin progress
            updateCoinProgress();
            
            // Update user name and email
            if (user.loggedIn) {
                document.getElementById('userName').textContent = `Welcome, ${user.name}!`;
                document.getElementById('userEmail').textContent = user.email;
                
                // Update profile dropdown
                document.getElementById('userNameDisplay').textContent = user.name;
                if (user.photoURL) {
                    document.getElementById('userAvatar').src = user.photoURL;
                }
                
                // Update streak UI
                updateStreakUI();
                
                // Update spin stats
                updateSpinStats();
            }
            
            // Update header buttons
            updateHeaderButtons();
            
            // Update referral stats
            updateReferralStats();
            
            // Update referral section
            toggleReferralEntrySection();
        }

        // Save/Load user data
        function saveUserData() {
            if (user.uid) {
                localStorage.setItem(`stc_user_${user.uid}`, JSON.stringify(user));
            }
        }

        function loadUserData() {
            if (user.uid) {
                const saved = localStorage.getItem(`stc_user_${user.uid}`);
                if (saved) {
                    try {
                        const savedData = JSON.parse(saved);
                        // Merge saved data with current user object
                        Object.assign(user, savedData);
                        
                        // Ensure all objects exist
                        if (!user.dailyLogin) {
                            user.dailyLogin = {
                                streak: 0,
                                lastLoginDate: "",
                                claimedToday: false,
                                streakHistory: [],
                                totalDaysLogged: 0,
                                highestStreak: 0
                            };
                        }
                        
                        if (!user.referrerBonus) {
                            user.referrerBonus = 0;
                        }
                        
                        if (!user.spinData) {
                            user.spinData = {
                                spinsToday: 0,
                                totalSpins: 0,
                                totalWonCoins: 0,
                                totalWonSTC: 0,
                                lastSpinTime: null,
                                maxSpinsPerDay: 50,
                                spinCooldown: 0
                            };
                        }
                    } catch (e) {
                        console.log('Error loading user data');
                    }
                }
            }
        }

        // UPDATED: Logout with all intervals cleared
        async function logout() {
            if (!auth) {
                showNotification('Authentication service is not available.', 'error');
                return;
            }
            
            try {
                // Stop mining
                if (user.mining) {
                    stopMining();
                }
                
                // Clear all intervals
                if (miningCheckInterval) clearInterval(miningCheckInterval);
                if (priceFluctuationInterval) clearInterval(priceFluctuationInterval);
                if (dailyLoginCheckInterval) clearInterval(dailyLoginCheckInterval);
                if (adTimerInterval) clearInterval(adTimerInterval);
                if (spinCooldownInterval) clearInterval(spinCooldownInterval);
                
                // Sign out from Firebase
                await auth.signOut();
                
                // Reset user data
                user = {
                    uid: null,
                    loggedIn: false,
                    name: "",
                    email: "",
                    photoURL: "",
                    stc: 0,
                    coins: 0,
                    usdt: 0,
                    referrals: 0,
                    referralCode: "",
                    referredBy: null,
                    referrerBonus: 0,
                    totalMined: 0,
                    mining: false,
                    miningStartTime: null,
                    miningEndTime: null,
                    joinDate: "",
                    withdrawalHistory: [],
                    dailyLogin: {
                        streak: 0,
                        lastLoginDate: "",
                        claimedToday: false,
                        streakHistory: [],
                        totalDaysLogged: 0,
                        highestStreak: 0
                    },
                    spinData: {
                        spinsToday: 0,
                        totalSpins: 0,
                        totalWonCoins: 0,
                        totalWonSTC: 0,
                        lastSpinTime: null,
                        maxSpinsPerDay: 50,
                        spinCooldown: 0
                    }
                };
                
                updateUI();
                showPage('home');
                showNotification('Logged out successfully');
            } catch (error) {
                console.error("Logout Error:", error);
                showNotification('Logout failed: ' + error.message, 'error');
            }
        }

        // Handle logout from Firebase
        function handleLogout() {
            // Stop mining
            if (user.mining) {
                stopMining();
            }
            
            // Clear all intervals
            if (miningCheckInterval) clearInterval(miningCheckInterval);
            if (priceFluctuationInterval) clearInterval(priceFluctuationInterval);
            if (dailyLoginCheckInterval) clearInterval(dailyLoginCheckInterval);
            if (adTimerInterval) clearInterval(adTimerInterval);
            if (spinCooldownInterval) clearInterval(spinCooldownInterval);
            
            // Reset user data
            user = {
                uid: null,
                loggedIn: false,
                name: "",
                email: "",
                photoURL: "",
                stc: 0,
                coins: 0,
                usdt: 0,
                referrals: 0,
                referralCode: "",
                referredBy: null,
                referrerBonus: 0,
                totalMined: 0,
                mining: false,
                miningStartTime: null,
                miningEndTime: null,
                joinDate: "",
                withdrawalHistory: [],
                dailyLogin: {
                    streak: 0,
                    lastLoginDate: "",
                    claimedToday: false,
                    streakHistory: [],
                    totalDaysLogged: 0,
                    highestStreak: 0
                },
                spinData: {
                    spinsToday: 0,
                    totalSpins: 0,
                    totalWonCoins: 0,
                    totalWonSTC: 0,
                    lastSpinTime: null,
                    maxSpinsPerDay: 50,
                    spinCooldown: 0
                }
            };
            
            updateUI();
            if (activeNav !== 'home') {
                showPage('home');
            }
        }

        // Initialize Firebase Authentication
        function initializeFirebaseAuth() {
            if (!auth) {
                console.log("Firebase auth not initialized");
                return;
            }

            // Listen for auth state changes
            auth.onAuthStateChanged((firebaseUser) => {
                if (firebaseUser) {
                    // User is signed in
                    handleFirebaseUser(firebaseUser);
                } else {
                    // User is signed out
                    handleLogout();
                }
            });
        }

        // UPDATED: Handle Firebase user with increased spin limit
        function handleFirebaseUser(firebaseUser) {
            user.uid = firebaseUser.uid;
            user.loggedIn = true;
            user.name = firebaseUser.displayName || firebaseUser.email.split('@')[0];
            user.email = firebaseUser.email;
            user.photoURL = firebaseUser.photoURL || "https://ui-avatars.com/api/?name=" + encodeURIComponent(user.name) + "&background=6366f1&color=fff";
            user.joinDate = new Date().toLocaleDateString();
            
            // Load user data from localStorage
            loadUserData();
            
            // If new user (no data saved), initialize with default values
            if (!user.referralCode) {
                user.referralCode = generateReferralCode();
                
                // Check for referral code
                const urlParams = new URLSearchParams(window.location.search);
                const refCode = urlParams.get('ref') || localStorage.getItem('referral_code');
                if (refCode) {
                    // Store referrer info
                    user.referredBy = refCode;
                    
                    // Give STC bonus (LAUNCH BONUS: 50 STC instead of 20)
                    user.stc += 50;
                    
                    // In a real app, you would update the referrer's data here
                    // For demo, we'll just show a notification
                    showNotification('Welcome to STC 2026 Launch! You received 50 STC bonus from referral. Your referrer will earn 10% of your mining rewards.');
                    
                    localStorage.removeItem('referral_code');
                }
            }
            
            // Initialize spin data if not exists
            if (!user.spinData) {
                user.spinData = {
                    spinsToday: 0,
                    totalSpins: 0,
                    totalWonCoins: 0,
                    totalWonSTC: 0,
                    lastSpinTime: null,
                    maxSpinsPerDay: 50, // UPDATED: Increased to 50
                    spinCooldown: 0
                };
            }
            
            // Check daily login status
            checkDailyLoginStatus();
            
            saveUserData();
            updateUI();
            closeAllModals();
            showPage('dashboard');
            
            // Update UI with Firebase user info
            document.getElementById('userAvatar').src = user.photoURL;
            document.getElementById('userNameDisplay').textContent = user.name;
            
            showNotification('Welcome to STC 2026 Launch, ' + user.name + '!');
            
            // Update referral link
            updateReferralLink();
            
            // Check for mining session
            checkAndRestoreMining();
            
            // Update referral section
            toggleReferralEntrySection();
            updateReferralStats();
            
            // Check spin cooldown
            checkSpinCooldown();
        }

        // Generate random referral code
        function generateReferralCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let code = '';
            for (let i = 0; i < 6; i++) {
                code += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return code;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Form submissions
            document.getElementById('loginForm')?.addEventListener('submit', handleEmailLogin);
            document.getElementById('signupForm')?.addEventListener('submit', handleEmailSignup);
            
            // Close modals on ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && currentModal) {
                    closeModal(currentModal);
                }
            });
            
            // Close modals on outside click
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    closeAllModals();
                }
            });
            
            // Save mining state before page unload
            window.addEventListener('beforeunload', function() {
                if (user.mining) {
                    saveUserData();
                }
            });
        }

        // Modal handling
        function showAuthModal(type) {
            closeAllModals();
            currentModal = type === 'login' ? 'loginModal' : 'signupModal';
            document.getElementById(currentModal).classList.add('active');
        }

        function closeModal(modalId) {
            if (!modalId) return;
            document.getElementById(modalId).classList.remove('active');
            currentModal = null;
            resetFormButtons();
            
            // Clear ad interval if ad timer modal is closed
            if (modalId === 'adTimerModal' && adTimerInterval) {
                clearInterval(adTimerInterval);
                adTimerInterval = null;
                
                // Reset button if ad was cancelled
                if (currentAdButton) {
                    currentAdButton.element.disabled = false;
                    currentAdButton.element.innerHTML = currentAdButton.originalText;
                    currentAdButton = null;
                }
                currentAdType = '';
            }
        }

        function closeAllModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.classList.remove('active');
            });
            currentModal = null;
            resetFormButtons();
            
            // Clear ad intervals
            if (adTimerInterval) {
                clearInterval(adTimerInterval);
                adTimerInterval = null;
                
                // Reset button if ad was cancelled
                if (currentAdButton) {
                    currentAdButton.element.disabled = false;
                    currentAdButton.element.innerHTML = currentAdButton.originalText;
                    currentAdButton = null;
                }
                currentAdType = '';
            }
        }

        function switchToSignup() {
            closeModal('loginModal');
            showAuthModal('signup');
        }

        function switchToLogin() {
            closeModal('signupModal');
            showAuthModal('login');
        }

        // Show notification
        function showNotification(message, type = 'success') {
            // Remove existing notification
            const existing = document.querySelector('.notification');
            if (existing) existing.remove();
            
            // Create notification
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            // Auto remove after 3 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 3000);
        }

        // Set button loading state
        function setButtonLoading(buttonId, isLoading) {
            const button = document.getElementById(buttonId);
            if (!button) return;
            
            if (isLoading) {
                button.disabled = true;
                button.innerHTML = '<div class="spinner"></div>';
            } else {
                button.disabled = false;
                if (buttonId === 'loginSubmitBtn') {
                    button.innerHTML = 'Login';
                } else if (buttonId === 'signupSubmitBtn') {
                    button.innerHTML = 'Join STC 2026 Launch';
                } else if (buttonId === 'withdrawSubmitBtn') {
                    button.innerHTML = '<i class="fas fa-check"></i> Confirm Withdrawal';
                } else if (buttonId === 'googleLoginBtn' || buttonId === 'googleSignupBtn') {
                    button.innerHTML = '<i class="fab fa-google"></i> ' + (buttonId === 'googleLoginBtn' ? 'Continue with Google' : 'Sign up with Google');
                }
            }
        }

        // Reset all form buttons
        function resetFormButtons() {
            setButtonLoading('loginSubmitBtn', false);
            setButtonLoading('signupSubmitBtn', false);
            setButtonLoading('withdrawSubmitBtn', false);
            setButtonLoading('googleLoginBtn', false);
            setButtonLoading('googleSignupBtn', false);
            isProcessing = false;
        }

        // Google authentication with Firebase
        async function googleAuth() {
            if (!auth) {
                showNotification('Authentication service is not available. Please refresh the page.', 'error');
                return;
            }
            
            if (isProcessing) return;
            isProcessing = true;
            
            const isSignup = currentModal === 'signupModal';
            setButtonLoading(isSignup ? 'googleSignupBtn' : 'googleLoginBtn', true);
            
            try {
                const provider = new firebase.auth.GoogleAuthProvider();
                // Add scopes
                provider.addScope('profile');
                provider.addScope('email');
                
                // Sign in with popup
                await auth.signInWithPopup(provider);
                // User is automatically handled by onAuthStateChanged
            } catch (error) {
                console.error("Google Auth Error:", error);
                showNotification('Failed to sign in with Google: ' + error.message, 'error');
                isProcessing = false;
                setButtonLoading(isSignup ? 'googleSignupBtn' : 'googleLoginBtn', false);
            }
        }

        // Email/Password login
        async function handleEmailLogin(event) {
            event.preventDefault();
            if (!auth) {
                showNotification('Authentication service is not available. Please refresh the page.', 'error');
                return;
            }
            
            if (isProcessing) return;
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (password.length !== 9) {
                showNotification('Password must be exactly 9 characters', 'error');
                return;
            }
            
            isProcessing = true;
            setButtonLoading('loginSubmitBtn', true);
            
            try {
                await auth.signInWithEmailAndPassword(email, password);
                // User is automatically handled by onAuthStateChanged
            } catch (error) {
                console.error("Email Login Error:", error);
                showNotification('Login failed: ' + error.message, 'error');
                isProcessing = false;
                setButtonLoading('loginSubmitBtn', false);
            }
        }

        // Email/Password signup
        async function handleEmailSignup(event) {
            event.preventDefault();
            if (!auth) {
                showNotification('Authentication service is not available. Please refresh the page.', 'error');
                return;
            }
            
            if (isProcessing) return;
            
            const name = document.getElementById('signupName').value;
            const dob = document.getElementById('signupDob').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const referral = document.getElementById('signupReferral').value.trim();
            
            if (password.length !== 9) {
                showNotification('Password must be exactly 9 characters', 'error');
                return;
            }
            
            // Check if user is at least 18 years old
            const birthDate = new Date(dob);
            const age = new Date().getFullYear() - birthDate.getFullYear();
            if (age < 18) {
                showNotification('You must be at least 18 years old to register', 'error');
                return;
            }
            
            isProcessing = true;
            setButtonLoading('signupSubmitBtn', true);
            
            try {
                // Save referral code for later use
                if (referral) {
                    localStorage.setItem('referral_code', referral);
                }
                
                // Create user with email/password
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                
                // Update profile with name
                await userCredential.user.updateProfile({
                    displayName: name
                });
                
                // User is automatically handled by onAuthStateChanged
            } catch (error) {
                console.error("Email Signup Error:", error);
                showNotification('Signup failed: ' + error.message, 'error');
                isProcessing = false;
                setButtonLoading('signupSubmitBtn', false);
            }
        }

        // Start mining from home button
        function startMiningFromHome() {
            if (!user.loggedIn) {
                showAuthModal('login');
                return;
            }
            showPage('mining');
        }

        // Convert coins to USDT (5000 coins = $1)
        function convertCoins() {
            if (!user.loggedIn) {
                showAuthModal('login');
                return;
            }
            
            if (user.coins < 5000) {
                showNotification('Minimum 5000 coins required for conversion ($1)', 'error');
                return;
            }
            
            const usdt = user.coins / 5000;
            user.usdt += usdt;
            const convertedCoins = user.coins;
            user.coins = 0;
            saveUserData();
            updateUI();
            showNotification(`Converted ${convertedCoins} coins to ${usdt.toFixed(2)} USDT!`);
        }

        // Withdrawal
        function showWithdrawModal() {
            if (!user.loggedIn) {
                showAuthModal('login');
                return;
            }
            
            if (user.usdt < 5) {
                showNotification('Minimum $5 USD required for withdrawal (25000 coins)', 'error');
                return;
            }
            
            document.getElementById('withdrawAmount').value = Math.max(5, user.usdt).toFixed(2);
            currentModal = 'withdrawModal';
            document.getElementById('withdrawModal').classList.add('active');
            
            // Reset forms
            document.getElementById('cryptoForm').style.display = 'block';
            document.getElementById('bankForm').style.display = 'none';
            document.getElementById('bankForm').classList.remove('active');
            
            // Reset selected method
            document.querySelectorAll('.withdrawal-option').forEach(opt => opt.classList.remove('selected'));
            document.querySelector('.withdrawal-option[data-method="usdt"]').classList.add('selected');
            selectedWithdrawalMethod = 'usdt';
            withdrawalFee = 1;
            
            // Update fee display
            updateWithdrawalFee();
        }

        // Setup withdrawal options
        function setupWithdrawalOptions() {
            const options = document.querySelectorAll('.withdrawal-option');
            options.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    options.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Update selected method
                    selectedWithdrawalMethod = this.getAttribute('data-method');
                    withdrawalFee = parseInt(this.getAttribute('data-fee'));
                    const network = this.getAttribute('data-network');
                    
                    // Update network dropdown for crypto methods
                    if (selectedWithdrawalMethod !== 'bank') {
                        document.getElementById('cryptoForm').style.display = 'block';
                        document.getElementById('bankForm').style.display = 'none';
                        
                        // Update wallet label
                        const methodNames = {
                            'usdt': 'USDT',
                            'btc': 'Bitcoin',
                            'eth': 'Ethereum',
                            'usdc': 'USDC'
                        };
                        document.getElementById('walletLabel').textContent = 
                            `${methodNames[selectedWithdrawalMethod]} Wallet Address`;
                        
                        // Update placeholder
                        document.getElementById('walletAddress').placeholder = 
                            `Enter your ${methodNames[selectedWithdrawalMethod]} wallet address`;
                        
                        // Update network dropdown
                        const networkSelect = document.getElementById('withdrawNetwork');
                        networkSelect.innerHTML = '';
                        
                        if (selectedWithdrawalMethod === 'usdt') {
                            networkSelect.innerHTML = `
                                <option value="TRC20">TRC20 (Recommended)</option>
                                <option value="ERC20">ERC20</option>
                                <option value="BEP20">BEP20</option>
                            `;
                        } else if (selectedWithdrawalMethod === 'btc') {
                            networkSelect.innerHTML = `
                                <option value="BTC">Bitcoin Network</option>
                                <option value="BTC-Lightning">Lightning Network</option>
                            `;
                        } else if (selectedWithdrawalMethod === 'eth') {
                            networkSelect.innerHTML = `
                                <option value="ERC20">ERC20</option>
                                <option value="Arbitrum">Arbitrum</option>
                                <option value="Optimism">Optimism</option>
                            `;
                        } else if (selectedWithdrawalMethod === 'usdc') {
                            networkSelect.innerHTML = `
                                <option value="ERC20">ERC20</option>
                                <option value="TRC20">TRC20</option>
                                <option value="Polygon">Polygon</option>
                            `;
                        }
                    } else {
                        // Bank transfer selected
                        document.getElementById('cryptoForm').style.display = 'none';
                        document.getElementById('bankForm').style.display = 'block';
                        document.getElementById('bankForm').classList.add('active');
                    }
                    
                    // Update fee display
                    updateWithdrawalFee();
                });
            });
            
            // Listen to amount input changes
            document.getElementById('withdrawAmount').addEventListener('input', updateWithdrawalFee);
        }

        // Update withdrawal fee display
        function updateWithdrawalFee() {
            const amount = parseFloat(document.getElementById('withdrawAmount').value) || 5;
            const fee = (amount * withdrawalFee) / 100;
            const netAmount = amount - fee;
            
            document.getElementById('displayAmount').textContent = amount.toFixed(2);
            document.getElementById('feePercent').textContent = withdrawalFee;
            document.getElementById('feeAmount').textContent = fee.toFixed(2);
            document.getElementById('netAmount').textContent = netAmount.toFixed(2);
            
            // Update available balance
            document.getElementById('availableBalance').textContent = user.usdt.toFixed(2);
        }

        // Process withdrawal
        async function processWithdrawal() {
            if (isProcessing) return;
            
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            const wallet = document.getElementById('walletAddress').value.trim();
            const network = document.getElementById('withdrawNetwork').value;
            const bankName = document.getElementById('bankName').value.trim();
            const accountHolder = document.getElementById('accountHolder').value.trim();
            const accountNumber = document.getElementById('accountNumber').value.trim();
            const routingCode = document.getElementById('routingCode').value.trim();
            
            if (amount < 5) {
                showNotification('Minimum withdrawal is $5', 'error');
                return;
            }
            
            if (amount > user.usdt) {
                showNotification('Insufficient USDT balance', 'error');
                return;
            }
            
            // Validate based on method
            if (selectedWithdrawalMethod !== 'bank') {
                if (!wallet) {
                    showNotification('Please enter wallet address', 'error');
                    return;
                }
                
                if (!isValidCryptoAddress(wallet, selectedWithdrawalMethod)) {
                    showNotification('Please enter a valid wallet address', 'error');
                    return;
                }
            } else {
                if (!bankName || !accountHolder || !accountNumber || !routingCode) {
                    showNotification('Please fill all bank transfer details', 'error');
                    return;
                }
            }
            
            isProcessing = true;
            setButtonLoading('withdrawSubmitBtn', true);
            
            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Calculate fee and net amount
                const fee = (amount * withdrawalFee) / 100;
                const netAmount = amount - fee;
                
                // Create withdrawal record
                const withdrawal = {
                    id: 'WD' + Date.now() + Math.floor(Math.random() * 1000),
                    date: new Date().toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'short',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    }),
                    amount: amount,
                    netAmount: netAmount,
                    fee: fee,
                    method: getMethodName(selectedWithdrawalMethod),
                    details: selectedWithdrawalMethod !== 'bank' ? 
                        `${wallet.substring(0, 8)}...${wallet.substring(wallet.length - 8)} (${network})` :
                        `${accountHolder} - ${bankName}`,
                    network: selectedWithdrawalMethod !== 'bank' ? network : 'Bank Transfer',
                    status: 'pending',
                    transactionId: null
                };
                
                // Update user balance
                user.usdt -= amount;
                
                // Add to withdrawal history
                if (!user.withdrawalHistory) {
                    user.withdrawalHistory = [];
                }
                user.withdrawalHistory.unshift(withdrawal);
                
                // Save data
                saveUserData();
                updateUI();
                
                // Close modal and show success
                closeModal('withdrawModal');
                
                // Clear forms
                document.getElementById('walletAddress').value = '';
                document.getElementById('bankName').value = '';
                document.getElementById('accountHolder').value = '';
                document.getElementById('accountNumber').value = '';
                document.getElementById('routingCode').value = '';
                
                const methodName = getMethodName(selectedWithdrawalMethod);
                showNotification(`$${amount} ${methodName} withdrawal submitted! Processing fee: $${fee.toFixed(2)}. Net amount: $${netAmount.toFixed(2)}`);
                
                // Simulate status updates over time
                simulateWithdrawalProcessing(withdrawal);
                
            } catch (error) {
                showNotification('Withdrawal failed: ' + error.message, 'error');
            } finally {
                isProcessing = false;
                setButtonLoading('withdrawSubmitBtn', false);
            }
        }

        // Get method name
        function getMethodName(method) {
            const names = {
                'usdt': 'USDT',
                'btc': 'Bitcoin',
                'eth': 'Ethereum',
                'usdc': 'USDC',
                'bank': 'Bank Transfer'
            };
            return names[method] || method;
        }

        // Simple crypto address validation
        function isValidCryptoAddress(address, method) {
            if (!address || address.length < 10) return false;
            
            // Basic length checks for different cryptos
            switch(method) {
                case 'btc':
                    return address.length >= 26 && address.length <= 35;
                case 'eth':
                    return address.length === 42 && address.startsWith('0x');
                default:
                    return address.length >= 20;
            }
        }

        // Simulate withdrawal processing
        function simulateWithdrawalProcessing(withdrawal) {
            // Update to processing after 30 seconds
            setTimeout(() => {
                withdrawal.status = 'processing';
                saveUserData();
                if (activeNav === 'withdrawalHistory') {
                    loadWithdrawalHistory();
                }
                showNotification(`Withdrawal ${withdrawal.id} is now processing`, 'info');
            }, 30000);
            
            // Randomly complete or fail after different times based on method
            let completionTime;
            if (withdrawal.method === 'Bank Transfer') {
                completionTime = 3600000 + Math.random() * 7200000;
            } else {
                completionTime = 120000 + Math.random() * 180000;
            }
            
            setTimeout(() => {
                const successRate = 0.9;
                if (Math.random() < successRate) {
                    withdrawal.status = 'completed';
                    withdrawal.transactionId = 'TX' + Date.now() + Math.floor(Math.random() * 10000);
                    showNotification(`Withdrawal ${withdrawal.id} completed! Transaction ID: ${withdrawal.transactionId}`, 'success');
                } else {
                    withdrawal.status = 'failed';
                    user.usdt += withdrawal.amount;
                    showNotification(`Withdrawal ${withdrawal.id} failed. Funds have been returned to your account.`, 'error');
                }
                saveUserData();
                updateUI();
                if (activeNav === 'withdrawalHistory') {
                    loadWithdrawalHistory();
                }
            }, completionTime);
        }

        // Load withdrawal history
        function loadWithdrawalHistory() {
            const historyBody = document.getElementById('withdrawalHistoryBody');
            const historyTable = document.getElementById('withdrawalHistoryTable');
            const emptyHistory = document.getElementById('emptyHistory');
            
            if (!user.withdrawalHistory || user.withdrawalHistory.length === 0) {
                historyTable.style.display = 'none';
                emptyHistory.style.display = 'block';
                return;
            }
            
            // Filter withdrawals based on active filter
            let filteredHistory = user.withdrawalHistory;
            if (activeFilter !== 'all') {
                filteredHistory = user.withdrawalHistory.filter(w => w.status === activeFilter);
            }
            
            if (filteredHistory.length === 0) {
                historyTable.style.display = 'none';
                emptyHistory.innerHTML = `
                    <i class="fas fa-filter"></i>
                    <h3>No ${activeFilter} withdrawals</h3>
                    <p>You don't have any ${activeFilter} withdrawals.</p>
                `;
                emptyHistory.style.display = 'block';
                return;
            }
            
            // Clear table
            historyBody.innerHTML = '';
            historyTable.style.display = 'table';
            emptyHistory.style.display = 'none';
            
            // Add rows
            filteredHistory.forEach(withdrawal => {
                const row = document.createElement('tr');
                
                // Status badge
                let statusBadge = '';
                switch (withdrawal.status) {
                    case 'pending':
                        statusBadge = '<span class="status-badge status-pending">Pending</span>';
                        break;
                    case 'processing':
                        statusBadge = '<span class="status-badge status-processing">Processing</span>';
                        break;
                    case 'completed':
                        statusBadge = '<span class="status-badge status-completed">Completed</span>';
                        break;
                    case 'failed':
                        statusBadge = '<span class="status-badge status-failed">Failed</span>';
                        break;
                }
                
                // Method icon
                let methodIcon = '';
                switch(withdrawal.method) {
                    case 'USDT':
                        methodIcon = '<i class="fab fa-usd" style="color: #26a17b;"></i>';
                        break;
                    case 'Bitcoin':
                        methodIcon = '<i class="fab fa-btc" style="color: #f7931a;"></i>';
                        break;
                    case 'Ethereum':
                        methodIcon = '<i class="fab fa-ethereum" style="color: #627eea;"></i>';
                        break;
                    case 'USDC':
                        methodIcon = '<i class="fas fa-coins" style="color: #2775ca;"></i>';
                        break;
                    case 'Bank Transfer':
                        methodIcon = '<i class="fas fa-university" style="color: #8b5cf6;"></i>';
                        break;
                }
                
                row.innerHTML = `
                    <td>${withdrawal.date}</td>
                    <td>$${withdrawal.amount.toFixed(2)}<br><small style="color: #94a3b8;">Net: $${withdrawal.netAmount.toFixed(2)}</small></td>
                    <td>${methodIcon} ${withdrawal.method}</td>
                    <td>${withdrawal.details}</td>
                    <td>${statusBadge}</td>
                    <td>${withdrawal.transactionId || '--'}</td>
                `;
                
                historyBody.appendChild(row);
            });
        }

        // Filter withdrawals
        function filterWithdrawals(status) {
            activeFilter = status;
            
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Reload history with filter
            loadWithdrawalHistory();
        }

        // Copy referral code
        function copyReferralCode() {
            const fullCode = `STC-${user.referralCode}`;
            
            navigator.clipboard.writeText(fullCode).then(() => {
                showNotification('Referral code copied to clipboard! Share it with friends to earn 50 STC each + 10% mining bonus.');
            }).catch(err => {
                // Fallback for browsers that don't support clipboard API
                const tempInput = document.createElement('input');
                tempInput.value = fullCode;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);
                showNotification('Referral code copied to clipboard!');
            });
        }

        // Create particle effect for referral section
        function createParticles(containerId, count = 20) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            // Remove existing particles
            const existingParticles = container.querySelectorAll('.particle');
            existingParticles.forEach(p => p.remove());
            
            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random size and position
                const size = Math.random() * 20 + 5;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${x}%`;
                particle.style.top = `${y}%`;
                particle.style.animation = `floating ${duration}s ease-in-out ${delay}s infinite`;
                particle.style.opacity = Math.random() * 0.5 + 0.3;
                
                container.appendChild(particle);
            }
        }

        // Show/Hide referral code entry section
// Update the toggleReferralEntrySection function to always show the referral code apply space
function toggleReferralEntrySection() {
    const section = document.getElementById('enterReferralSection');
    if (section) {
        if (user.loggedIn && !user.referredBy) {
            section.style.display = 'block';
            section.style.border = '3px solid var(--primary)';
            section.style.background = 'linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.15))';
        } else if (user.loggedIn && user.referredBy) {
            // Show a message that they've already applied a code
            section.style.display = 'block';
            section.style.border = '3px solid var(--success)';
            section.style.background = 'linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.1))';
            
            const content = section.querySelector('.referral-entry-content');
            if (content) {
                content.innerHTML = `
                    <div style="text-align: center;">
                        <i class="fas fa-check-circle" style="font-size: 64px; color: var(--success); margin-bottom: 15px;"></i>
                        <div class="referral-entry-title" style="color: var(--success);">Referral Code Applied!</div>
                        <div style="font-size: 20px; margin: 15px 0; color: var(--light);">
                            You used code: <span style="background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 30px; font-weight: 800; color: var(--warning);">${user.referredBy}</span>
                        </div>
                        <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 12px; margin-top: 20px;">
                            <div style="font-size: 32px; font-weight: 900; color: var(--success);">50 STC</div>
                            <div style="color: #94a3b8; font-size: 16px;">Launch bonus already added to your account!</div>
                        </div>
                        <p style="color: #94a3b8; margin-top: 20px;">
                            <i class="fas fa-info-circle"></i> 
                            You can only use one referral code. Share your own code to earn rewards!
                        </p>
                    </div>
                `;
            }
        } else {
            section.style.display = 'block';
            // Reset to default style for non-logged in users
            section.style.border = '3px solid var(--primary)';
            section.style.background = 'linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.15))';
            
            // Restore original content for non-logged in users
            const content = section.querySelector('.referral-entry-content');
            if (content && !user.loggedIn) {
                content.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: linear-gradient(45deg, var(--warning), #f97316); padding: 5px 15px; border-radius: 30px; color: white; font-size: 14px; font-weight: 800;">
                            <i class="fas fa-gift"></i> LAUNCH BONUS
                        </span>
                    </div>
                    
                    <div class="referral-entry-title" style="font-size: 32px;">
                        <i class="fas fa-ticket-alt"></i> Apply Referral Code
                    </div>
                    
                    <div class="referral-entry-subtitle" style="font-size: 18px;">
                        Get <span style="color: var(--warning); font-weight: 900; font-size: 28px;">50 STC</span> INSTANT BONUS! 
                        <span class="bonus-tag" style="font-size: 16px;">LAUNCH EXCLUSIVE</span>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.3); padding: 25px; border-radius: 16px; margin: 20px 0;">
                        <div style="text-align: center; padding: 20px;">
                            <i class="fas fa-lock" style="font-size: 48px; color: var(--warning); margin-bottom: 15px;"></i>
                            <h3 style="font-size: 24px; margin-bottom: 10px;">Login to Apply Referral Code</h3>
                            <p style="color: #94a3b8; margin-bottom: 20px;">Please login or create an account to apply a referral code and get 50 STC bonus!</p>
                            <div style="display: flex; gap: 15px; justify-content: center;">
                                <button class="btn btn-primary" onclick="showAuthModal('login')" style="padding: 12px 25px;">
                                    <i class="fas fa-sign-in-alt"></i> Login
                                </button>
                                <button class="btn btn-mining" onclick="showAuthModal('signup')" style="padding: 12px 25px;">
                                    <i class="fas fa-user-plus"></i> Sign Up
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-hint" style="font-size: 15px; margin-top: 15px;">
                        <i class="fas fa-info-circle" style="font-size: 18px;"></i>
                        Don't have a referral code? Use our official code: <span style="background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 8px; font-weight: 800; color: var(--warning);">STC-LAUNCH50</span>
                    </div>
                `;
            }
        }
    }
}

// Enhanced applyReferralCode function with better feedback
function applyReferralCode() {
    if (!user.loggedIn) {
        showNotification('Please login to apply referral code', 'warning');
        showAuthModal('login');
        return;
    }
    
    if (user.referredBy) {
        showNotification('You have already used a referral code: ' + user.referredBy, 'info');
        return;
    }
    
    const codeInput = document.getElementById('enterReferralInput');
    const code = codeInput.value.trim().toUpperCase();
    const successMessage = document.getElementById('referralSuccessMessage');
    const messageText = document.getElementById('successMessageText');
    
    if (!code) {
        showNotification('Please enter a referral code', 'error');
        codeInput.focus();
        return;
    }
    
    // Validate referral code format
    if (!code.match(/^STC-[A-Z0-9]{6}$/i) && !code.match(/^[A-Z0-9]{6}$/i)) {
        showNotification('Invalid referral code format. Should be 6 characters or STC-XXXXXX', 'error');
        return;
    }
    
    // Format code if needed
    const formattedCode = code.includes('STC-') ? code : `STC-${code}`;
    
    // Disable input and button during processing
    codeInput.disabled = true;
    const applyBtn = document.querySelector('.btn-mining[onclick="applyReferralCode()"]');
    const originalText = applyBtn.innerHTML;
    applyBtn.disabled = true;
    applyBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Applying...';
    
    // Simulate API call to validate and apply referral code
    showNotification('Applying referral code...', 'info');
    
    setTimeout(() => {
        // Success - give 50 STC bonus
        user.referredBy = formattedCode;
        user.stc += 50;
        
        // Save data
        saveUserData();
        updateUI();
        
        // Show success message
        messageText.textContent = `SUCCESS! 50 STC bonus added from code: ${formattedCode}`;
        successMessage.style.display = 'block';
        
        // Clear input
        codeInput.value = '';
        codeInput.disabled = false;
        applyBtn.disabled = false;
        applyBtn.innerHTML = originalText;
        
        // Update the section to show applied state
        toggleReferralEntrySection();
        
        showNotification('🎉 50 STC bonus added! Referral code applied successfully.', 'success');
        
        // Update referral stats
        updateReferralStats();
    }, 1500);
}

        // Update referral stats
        function updateReferralStats() {
            const progressCircle = document.getElementById('referralProgressCircle');
            const progressText = document.getElementById('referralProgressText');
            
            // Calculate progress to next tier (6 referrals = Pro tier)
            const progress = Math.min((user.referrals / 6) * 100, 100);
            
            if (progressCircle) {
                // Circle progress calculation
                const circumference = 2 * Math.PI * 45;
                const offset = circumference - (progress / 100) * circumference;
                progressCircle.style.strokeDashoffset = offset;
            }
            
            if (progressText) {
                progressText.textContent = `${Math.round(progress)}%`;
            }
            
            // Update tier display
            updateTierDisplay();
        }

        // Update tier display based on referral count
        function updateTierDisplay() {
            const tierCards = document.querySelectorAll('.tier-card');
            
            tierCards.forEach(card => {
                card.classList.remove('active');
            });
            
            if (user.referrals >= 21) {
                document.querySelector('.tier-card.elite').classList.add('active');
            } else if (user.referrals >= 6) {
                document.querySelector('.tier-card.pro').classList.add('active');
            } else {
                document.querySelector('.tier-card.basic').classList.add('active');
            }
        }

        // Share referral link
        function shareReferralLink() {
            const referralLink = document.getElementById('referralLink').value;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Join STC-REWARDS and earn STC tokens!',
                    text: 'Sign up with my referral code to get 50 STC bonus!',
                    url: referralLink
                })
                .then(() => showNotification('Referral link shared successfully!'))
                .catch(err => {
                    console.log('Error sharing:', err);
                    copyReferralLink();
                });
            } else {
                copyReferralLink();
            }
        }

        // Update referral link
        function updateReferralLink() {
            const referralLink = document.getElementById('referralLink');
            if (referralLink) {
                const refCode = user.referralCode || 'X8Y9Z7';
                referralLink.value = `${window.location.origin}${window.location.pathname}?ref=${refCode}`;
            }
        }

        // Copy referral link
        function copyReferralLink() {
            const referralLink = document.getElementById('referralLink');
            if (referralLink) {
                referralLink.select();
                document.execCommand('copy');
                showNotification('Referral link copied to clipboard! Share it with friends to earn 50 STC + 10% mining bonus.');
            }
        }

        // Animate counter numbers
        function animateCounter(elementId, targetValue, duration = 2000) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            const currentText = element.textContent;
            const startValue = parseInt(currentText.replace(/[^0-9]/g, '')) || 0;
            const increment = (targetValue - startValue) / (duration / 16);
            let current = startValue;
            
            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= targetValue) || (increment < 0 && current <= targetValue)) {
                    current = targetValue;
                    clearInterval(timer);
                    element.classList.remove('animate');
                }
                
                element.textContent = Math.floor(current).toLocaleString();
                element.classList.add('animate');
            }, 16);
        }

        // Open ad directly in new tab
        function openAdDirectly(button) {
            if (!user.loggedIn) {
                showAuthModal('login');
                return;
            }
            
            if (button.disabled) return;
            
            // Get ad parameters
            const min = parseInt(button.getAttribute('data-min'));
            const max = parseInt(button.getAttribute('data-max'));
            
            // Store the button data for later use
            currentAdButton = {
                element: button,
                min: min,
                max: max,
                originalText: button.innerHTML,
                duration: button.innerHTML.includes('45s') ? 45 : 
                         button.innerHTML.includes('60s') ? 60 : 90
            };
            
            // Select a random ad from the list
            const randomAdIndex = Math.floor(Math.random() * adUrls.length);
            const selectedAdUrl = adUrls[randomAdIndex];
            
            // Disable the button and change text
            button.disabled = true;
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Opening Ad...';
            
            // Open ad in new tab
            window.open(selectedAdUrl, '_blank');
            
            // Show timer modal
            showAdTimerModal(currentAdButton.duration);
        }

        // Show ad timer modal
        function showAdTimerModal(duration) {
            currentAdDuration = duration;
            currentAdType = 'ad';
            document.getElementById('returnTimer').textContent = duration;
            document.getElementById('adTimerProgressBar').style.width = '0%';
            document.getElementById('adTimerTitle').textContent = 'Ad in Progress';
            document.getElementById('adTimerMessage').textContent = 'Please return after watching the ad';
            document.getElementById('adTimerNotice').innerHTML = '<i class="fas fa-external-link-alt"></i> The ad has been opened in a new tab. Please watch it completely and return to this page to receive your reward.';
            
            // Show modal
            showModal('adTimerModal');
            
            // Start countdown
            let countdown = duration;
            adTimerInterval = setInterval(() => {
                countdown--;
                document.getElementById('returnTimer').textContent = countdown;
                const progress = ((duration - countdown) / duration) * 100;
                document.getElementById('adTimerProgressBar').style.width = `${progress}%`;
                
                if (countdown <= 0) {
                    clearInterval(adTimerInterval);
                    // Auto-complete after timer ends
                    completeAdAfterTimer();
                }
            }, 1000);
        }

        // Complete ad after timer
        function completeAdAfterTimer() {
            if (!currentAdButton) return;
            
            // Calculate coins earned
            const min = currentAdButton.min;
            const max = currentAdButton.max;
            const coins = Math.floor(Math.random() * (max - min + 1)) + min;
            
            // Add coins to user balance
            user.coins += coins;
            
            // Save data
            saveUserData();
            updateUI();
            
            // Reset button
            currentAdButton.element.disabled = false;
            currentAdButton.element.innerHTML = currentAdButton.originalText;
            
            // Close modal
            closeModal('adTimerModal');
            
            // Show notification
            showNotification(`You earned ${coins} coins! (5000 coins = $1)`);
            
            // Reset current ad button
            currentAdButton = null;
            currentAdType = '';
        }

        // Start mining ad (opens ad directly)
        function startMiningAd() {
            if (!user.loggedIn) {
                showAuthModal('login');
                return;
            }
            
            if (user.mining) {
                // Already mining, show stop option
                stopMining();
                const miningBtn = document.getElementById('miningBtn');
                const miningStatus = document.getElementById('miningStatusText');
                if (miningBtn && miningStatus) {
                    miningBtn.textContent = 'Watch Ad to Start Mining';
                    miningBtn.classList.remove('mining-active');
                    miningBtn.classList.add('btn-mining');
                    miningStatus.textContent = 'Ready to Start';
                    miningStatus.style.color = '';
                }
                showNotification('Mining stopped');
                removeMiningPersistenceNotice();
                return;
            }
            
            // Store mining button info
            currentAdButton = {
                element: document.getElementById('miningBtn'),
                originalText: document.getElementById('miningBtn').innerHTML,
                duration: 30,
                isMiningAd: true
            };
            
            // Disable mining button
            const miningBtn = document.getElementById('miningBtn');
            miningBtn.disabled = true;
            miningBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Opening Ad...';
            
            // Select a random ad from the list
            const randomAdIndex = Math.floor(Math.random() * adUrls.length);
            const selectedAdUrl = adUrls[randomAdIndex];
            
            // Open ad in new tab
            window.open(selectedAdUrl, '_blank');
            
            // Show timer modal
            showMiningAdTimerModal(30);
        }

        // Show mining ad timer modal
        function showMiningAdTimerModal(duration) {
            currentAdDuration = duration;
            currentAdType = 'mining';
            
            document.getElementById('returnTimer').textContent = duration;
            document.getElementById('adTimerProgressBar').style.width = '0%';
            document.getElementById('adTimerTitle').textContent = 'Watch Ad to Start Mining';
            document.getElementById('adTimerMessage').textContent = 'Watch the ad to start mining STC tokens and earn bonus coins!';
            document.getElementById('adTimerNotice').innerHTML = '<i class="fas fa-hard-hat"></i> Watch the ad to start mining STC tokens and earn bonus coins!';
            
            // Show modal
            showModal('adTimerModal');
            
            // Start countdown
            let countdown = duration;
            adTimerInterval = setInterval(() => {
                countdown--;
                document.getElementById('returnTimer').textContent = countdown;
                const progress = ((duration - countdown) / duration) * 100;
                document.getElementById('adTimerProgressBar').style.width = `${progress}%`;
                
                if (countdown <= 0) {
                    clearInterval(adTimerInterval);
                    // Auto-complete after timer ends
                    completeMiningAdAfterTimer();
                }
            }, 1000);
        }

        // Complete mining ad after timer
        function completeMiningAdAfterTimer() {
            if (!currentAdButton) return;
            
            // Give bonus coins for watching ad
            user.coins += 50;
            
            // Start mining
            startMining();
            
            // Update mining button
            const miningBtn = document.getElementById('miningBtn');
            const miningStatus = document.getElementById('miningStatusText');
            if (miningBtn && miningStatus) {
                miningBtn.disabled = false;
                miningBtn.textContent = 'Stop Mining';
                miningBtn.classList.remove('btn-mining');
                miningBtn.classList.add('mining-active');
                miningStatus.textContent = 'Mining in progress...';
                miningStatus.style.color = '#10b981';
            }
            
            // Close modal
            closeModal('adTimerModal');
            
            // Show notifications
            showNotification('You earned 50 bonus coins for watching the ad!', 'success');
            showNotification('Mining started! Session will complete in 6 hours. This is the first phase of STC mining.');
            
            // Show persistence notice
            showMiningPersistenceNotice();
            
            // Save user data
            saveUserData();
            updateUI();
            
            // Reset current ad button
            currentAdButton = null;
            currentAdType = '';
        }

        // Show Modal function
        function showModal(modalId) {
            closeAllModals();
            document.getElementById(modalId).classList.add('active');
            currentModal = modalId;
        }

        // Start Daily Login Checker
        function startDailyLoginChecker() {
            if (dailyLoginCheckInterval) {
                clearInterval(dailyLoginCheckInterval);
            }
            
            dailyLoginCheckInterval = setInterval(() => {
                if (user.loggedIn) {
                    checkDailyLoginStatus();
                }
            }, 60000);
        }

        // Check Daily Login Status
        function checkDailyLoginStatus() {
            if (!user.loggedIn) return;
            
            const today = getCurrentDate();
            const yesterday = getYesterdayDate();
            
            // Initialize daily login object if it doesn't exist
            if (!user.dailyLogin) {
                user.dailyLogin = {
                    streak: 0,
                    lastLoginDate: "",
                    claimedToday: false,
                    streakHistory: [],
                    totalDaysLogged: 0,
                    highestStreak: 0
                };
            }
            
            // Check if this is first login
            if (!user.dailyLogin.lastLoginDate) {
                // First time logging in
                user.dailyLogin.streak = 1;
                user.dailyLogin.lastLoginDate = today;
                user.dailyLogin.claimedToday = false;
                user.dailyLogin.totalDaysLogged = 1;
                user.dailyLogin.highestStreak = 1;
                updateStreakHistory();
            } else if (user.dailyLogin.lastLoginDate === today) {
                // Already logged in today
                // Do nothing, reward already claimed or available
            } else if (user.dailyLogin.lastLoginDate === yesterday) {
                // Consecutive day - streak continues
                user.dailyLogin.streak++;
                user.dailyLogin.lastLoginDate = today;
                user.dailyLogin.claimedToday = false;
                user.dailyLogin.totalDaysLogged++;
                
                // Update highest streak if needed
                if (user.dailyLogin.streak > user.dailyLogin.highestStreak) {
                    user.dailyLogin.highestStreak = user.dailyLogin.streak;
                }
                
                updateStreakHistory();
            } else {
                // Streak broken - more than 1 day missed
                const lastLogin = new Date(user.dailyLogin.lastLoginDate);
                const current = new Date(today);
                const diffDays = Math.floor((current - lastLogin) / (1000 * 60 * 60 * 24));
                
                if (diffDays > 1) {
                    // Streak broken
                    user.dailyLogin.streak = 1;
                    user.dailyLogin.lastLoginDate = today;
                    user.dailyLogin.claimedToday = false;
                    user.dailyLogin.totalDaysLogged++;
                    updateStreakHistory();
                    
                    // Show streak broken notification if streak was > 1
                    if (user.dailyLogin.streakHistory.length > 0) {
                        showNotification('Daily login streak broken! Starting from Day 1.', 'warning');
                    }
                }
            }
            
            // Save and update UI
            saveUserData();
            updateStreakUI();
        }

        // Get Current Date in YYYY-MM-DD format
        function getCurrentDate() {
            const now = new Date();
            return now.toISOString().split('T')[0];
        }

        // Get Yesterday's Date
        function getYesterdayDate() {
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            return yesterday.toISOString().split('T')[0];
        }

        // Update Streak History Array
        function updateStreakHistory() {
            if (!user.dailyLogin.streakHistory) {
                user.dailyLogin.streakHistory = [];
            }
            
            const today = getCurrentDate();
            
            // Add today to history if not already there
            const todayIndex = user.dailyLogin.streakHistory.findIndex(day => day.date === today);
            
            if (todayIndex === -1) {
                // Add new day
                user.dailyLogin.streakHistory.push({
                    date: today,
                    claimed: user.dailyLogin.claimedToday,
                    streak: user.dailyLogin.streak
                });
                
                // Keep only last 30 days
                if (user.dailyLogin.streakHistory.length > 30) {
                    user.dailyLogin.streakHistory.shift();
                }
            } else {
                // Update existing day
                user.dailyLogin.streakHistory[todayIndex].claimed = user.dailyLogin.claimedToday;
                user.dailyLogin.streakHistory[todayIndex].streak = user.dailyLogin.streak;
            }
        }

        // Claim Daily Reward
        function claimDailyReward() {
            if (!user.loggedIn) {
                showAuthModal('login');
                return;
            }
            
            // Check if already claimed today
            if (user.dailyLogin.claimedToday) {
                showNotification('You have already claimed your daily reward today!', 'info');
                return;
            }
    
    // Calculate rewards
    let stcReward;
    if (user.dailyLogin.streak > 30) {
        // For streaks beyond 30 days, reward is 60 STC daily
        stcReward = 60;
    } else {
                // Day 1: 2 STC, Day 2: 4 STC, ..., Day 30: 60 STC
                stcReward = user.dailyLogin.streak * 2;
            }
            
            // Always give 50 coins
            const coinReward = 50;
            
            // Give rewards
            user.stc += stcReward;
            user.coins += coinReward;
            user.dailyLogin.claimedToday = true;
            
            // Update streak history
            updateStreakHistory();
            
            // Save data
            saveUserData();
            updateUI();
            
            // Update streak UI
            updateStreakUI();
            
            // Show reward modal
            showStreakRewardModal(stcReward, coinReward);
            
            // Show notification
            showNotification(`Daily reward claimed! ${stcReward} STC + ${coinReward} coins added to your balance.`);
        }

        // Update Streak UI
        function updateStreakUI() {
            if (!user.dailyLogin) {
                user.dailyLogin = {
                    streak: 0,
                    lastLoginDate: "",
                    claimedToday: false,
                    streakHistory: [],
                    totalDaysLogged: 0,
                    highestStreak: 0
                };
            }
            
            // Update streak count display
            document.getElementById('streakCount').textContent = user.dailyLogin.streak;
            document.getElementById('dashboardStreak').textContent = user.dailyLogin.streak;
            
            // Calculate today's STC reward
            let stcReward;
            if (user.dailyLogin.streak > 30) {
                stcReward = 60;
            } else if (user.dailyLogin.streak === 0) {
                stcReward = 2; // First day reward
            } else {
                stcReward = user.dailyLogin.streak * 2;
            }
            
            // Update reward displays
            document.getElementById('currentSTCReward').textContent = `${stcReward} STC Today`;
            document.getElementById('todayReward').textContent = `${stcReward} STC + 50 coins`;
            document.getElementById('nextReward').textContent = `${user.dailyLogin.streak >= 30 ? 60 : (user.dailyLogin.streak + 1) * 2} STC + 50 coins`;
            
            // Update streak formula text
            if (user.dailyLogin.streak >= 30) {
                document.getElementById('streakFormula').textContent = 'Day 30+: 60 STC daily';
            } else if (user.dailyLogin.streak === 0) {
                document.getElementById('streakFormula').textContent = 'Day 1: 2 STC (start streak)';
            } else {
                document.getElementById('streakFormula').textContent = `Day ${user.dailyLogin.streak}: ${stcReward} STC (Day × 2)`;
            }
            
            // Update status
            const streakStatus = document.getElementById('streakStatus');
            const claimBtn = document.getElementById('dailyClaimBtn');
            const dashboardClaimBtn = document.getElementById('dashboardClaimBtn');
            
            if (user.dailyLogin.claimedToday) {
                streakStatus.textContent = 'Claimed today';
                streakStatus.style.color = '#10b981';
                
                if (claimBtn) {
                    claimBtn.textContent = 'Claimed Today';
                    claimBtn.disabled = true;
                    claimBtn.classList.add('claimed');
                }
                
                if (dashboardClaimBtn) {
                    dashboardClaimBtn.textContent = 'Claimed Today';
                    dashboardClaimBtn.disabled = true;
                    dashboardClaimBtn.classList.add('claimed');
                }
            } else {
                streakStatus.textContent = 'Ready to claim';
                streakStatus.style.color = '#f59e0b';
                
                if (claimBtn) {
                    claimBtn.textContent = 'Claim Today\'s Reward';
                    claimBtn.disabled = false;
                    claimBtn.classList.remove('claimed', 'disabled');
                }
                
                if (dashboardClaimBtn) {
                    dashboardClaimBtn.textContent = 'Claim Daily Reward';
                    dashboardClaimBtn.disabled = false;
                    dashboardClaimBtn.classList.remove('claimed', 'disabled');
                }
            }
            
            // Update calendar
            updateStreakCalendar();
            
            // Update login reminder
            updateLoginReminder();
        }

        // Show Streak Reward Modal
        function showStreakRewardModal(stcReward, coinReward) {
            document.getElementById('rewardSTC').textContent = `+${stcReward} STC`;
            document.getElementById('rewardCoins').textContent = `+${coinReward} Coins`;
            document.getElementById('modalStreak').textContent = `${user.dailyLogin.streak} Days`;
            
            // Set modal title based on streak
            if (user.dailyLogin.streak >= 30) {
                document.getElementById('streakModalTitle').textContent = 'Amazing 30+ Day Streak!';
            } else if (user.dailyLogin.streak >= 7) {
                document.getElementById('streakModalTitle').textContent = 'Great Weekly Streak!';
            } else {
                document.getElementById('streakModalTitle').textContent = 'Daily Reward Claimed!';
            }
            
            showModal('streakRewardModal');
        }

        // Update Streak Calendar
        function updateStreakCalendar() {
            const calendar = document.getElementById('streakCalendar');
            if (!calendar) return;
            
            calendar.innerHTML = '';
            
            const today = new Date();
            const streakHistory = user.dailyLogin.streakHistory || [];
            
            // Create 30-day calendar starting from 29 days ago to today
            for (let i = 29; i >= 0; i--) {
                const date = new Date();
                date.setDate(today.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                
                // Find if this date is in streak history
                const dayRecord = streakHistory.find(day => day.date === dateStr);
                
                const dayBox = document.createElement('div');
                dayBox.className = 'day-box';
                dayBox.textContent = date.getDate();
                
                // Add tooltip with reward amount
                const rewardTooltip = document.createElement('div');
                rewardTooltip.className = 'day-reward';
                
                // Determine day status
                if (i === 0) {
                    // Today
                    dayBox.classList.add('current');
                    if (user.dailyLogin.claimedToday) {
                        rewardTooltip.textContent = `Claimed: ${user.dailyLogin.streak * 2} STC + 50 coins`;
                    } else {
                        rewardTooltip.textContent = `Today: ${user.dailyLogin.streak * 2} STC + 50 coins`;
                    }
                } else if (dayRecord && dayRecord.claimed) {
                    // Claimed day
                    dayBox.classList.add('completed');
                    const rewardAmount = Math.min(dayRecord.streak * 2, 60);
                    rewardTooltip.textContent = `Claimed: ${rewardAmount} STC`;
                } else if (dayRecord && !dayRecord.claimed && i > 0) {
                    // Missed day (in history but not claimed)
                    dayBox.classList.add('missed');
                    rewardTooltip.textContent = 'Missed';
                } else {
                    // Future day
                    dayBox.classList.add('future');
                    const futureStreak = user.dailyLogin.streak + (30 - i);
                    const rewardAmount = Math.min(futureStreak * 2, 60);
                    rewardTooltip.textContent = `Day ${futureStreak}: ${rewardAmount} STC`;
                }
                
                dayBox.appendChild(rewardTooltip);
                calendar.appendChild(dayBox);
            }
        }

        // Update Login Reminder
        function updateLoginReminder() {
            const reminder = document.getElementById('loginReminder');
            if (!reminder) return;
            
            if (user.dailyLogin.streak >= 7) {
                reminder.innerHTML = `
                    <i class="fas fa-fire"></i>
                    <span>Amazing ${user.dailyLogin.streak}-day streak! Don't break it - login within 24 hours!</span>
                `;
            } else if (user.dailyLogin.streak >= 3) {
                reminder.innerHTML = `
                    <i class="fas fa-bolt"></i>
                    <span>Keep your ${user.dailyLogin.streak}-day streak going! Login within 24 hours!</span>
                `;
            } else {
                reminder.innerHTML = `
                    <i class="fas fa-bell"></i>
                    <span>Login within 24 hours to maintain your streak!</span>
                `;
            }
        }

        // Download Whitepaper (Mock Function)
        function downloadWhitepaper() {
            showNotification('White paper download will be available soon!', 'info');
            
            // In a real implementation, this would download a PDF
            // For now, create a mock download
            const link = document.createElement('a');
            link.href = '#';
            link.download = 'STC-WhitePaper-2026.pdf';
            link.click();
        }

        // Show Token Tab
        function showTokenTab(tabName) {
            // Update tabs
            document.querySelectorAll('.token-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Hide all tab contents
            document.querySelectorAll('.token-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName + 'Tab').classList.add('active');
        }

        // Setup Referral Sharing
        function setupReferralSharing() {
            // Check URL for referral parameter
            const urlParams = new URLSearchParams(window.location.search);
            const refCode = urlParams.get('ref');
            
            if (refCode && !user.loggedIn) {
                // Store referral code for signup
                localStorage.setItem('referral_code', refCode);
                showNotification('Referral code detected! Sign up to get 50 STC bonus!', 'info');
            }
        }

        // Mining Functions
        function startMining() {
            if (user.mining) {
                showNotification('Mining is already in progress!', 'warning');
                return;
            }
            
            const miningDuration = 6 * 60 * 60 * 1000; // 6 hours in milliseconds
            const now = Date.now();
            
            user.mining = true;
            user.miningStartTime = now;
            user.miningEndTime = now + miningDuration;
            
            // Update UI
            updateMiningTimer();
            
            // Start mining checker
            startMiningChecker();
            
            // Save data
            saveUserData();
            
            // Show mining persistence notice
            showMiningPersistenceNotice();
            
            showNotification('Mining session started! Session will complete in 6 hours.', 'success');
        }

        function stopMining() {
            if (!user.mining) {
                showNotification('No active mining session!', 'warning');
                return;
            }
            
            // Calculate mining progress
            const now = Date.now();
            const elapsed = now - user.miningStartTime;
            const totalDuration = user.miningEndTime - user.miningStartTime;
            const progress = Math.min(elapsed / totalDuration, 1);
            
            // Give partial reward based on progress
            if (progress > 0.1) { // At least 10% completed
                const stcEarned = Math.floor(progress * 12); // 12 STC for full session
                if (stcEarned > 0) {
                    user.stc += stcEarned;
                    user.totalMined += stcEarned;
                    showNotification(`Mining stopped early. You earned ${stcEarned} STC tokens based on progress.`);
                }
            }
            
            user.mining = false;
            user.miningStartTime = null;
            user.miningEndTime = null;
            
            // Stop mining checker
            if (miningCheckInterval) {
                clearInterval(miningCheckInterval);
                miningCheckInterval = null;
            }
            
            // Update UI
            updateMiningTimer();
            updateUI();
            
            // Remove persistence notice
            removeMiningPersistenceNotice();
            
            saveUserData();
        }

        function checkAndRestoreMining() {
            if (user.mining && user.miningEndTime) {
                const now = Date.now();
                
                if (now >= user.miningEndTime) {
                    // Mining completed
                    completeMining();
                } else {
                    // Mining still in progress
                    updateMiningTimer();
                    startMiningChecker();
                    showMiningPersistenceNotice();
                }
            }
        }

        function completeMining() {
            if (!user.mining) return;
            
            // Give full mining reward
            user.stc += 12;
            user.totalMined += 12;
            
            // Update referrer's bonus if applicable
            if (user.referredBy) {
                // In a real app, this would update the referrer's data
                // For demo, we'll just update local user's referrerBonus
                user.referrerBonus = (user.referrerBonus || 0) + 1.2; // 10% of 12 STC
            }
            
            user.mining = false;
            user.miningStartTime = null;
            user.miningEndTime = null;
            
            // Stop mining checker
            if (miningCheckInterval) {
                clearInterval(miningCheckInterval);
                miningCheckInterval = null;
            }
            
            // Update UI
            updateMiningTimer();
            updateUI();
            
            // Remove persistence notice
            removeMiningPersistenceNotice();
            
            // Save data
            saveUserData();
            
            // Show completion notification
            showNotification('Mining session completed! 12 STC tokens added to your balance.', 'success');
        }

        function startMiningChecker() {
            if (miningCheckInterval) {
                clearInterval(miningCheckInterval);
            }
            
            miningCheckInterval = setInterval(() => {
                if (user.mining && user.miningEndTime) {
                    const now = Date.now();
                    
                    if (now >= user.miningEndTime) {
                        completeMining();
                    } else {
                        updateMiningTimer();
                    }
                }
            }, 1000);
        }

        function updateMiningTimer() {
            if (!user.mining || !user.miningEndTime) {
                document.getElementById('miningTimer').textContent = '06:00:00';
                document.getElementById('miningProgress').style.width = '0%';
                return;
            }
            
            const now = Date.now();
            const remaining = user.miningEndTime - now;
            
            if (remaining <= 0) {
                completeMining();
                return;
            }
            
            // Calculate time components
            const hours = Math.floor(remaining / (1000 * 60 * 60));
            const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((remaining % (1000 * 60)) / 1000);
            
            // Update timer display
            document.getElementById('miningTimer').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Update progress bar
            const totalDuration = 6 * 60 * 60 * 1000; // 6 hours in milliseconds
            const elapsed = totalDuration - remaining;
            const progressPercent = (elapsed / totalDuration) * 100;
            document.getElementById('miningProgress').style.width = `${progressPercent}%`;
            
            // Update mining button text
            const miningBtn = document.getElementById('miningBtn');
            if (miningBtn) {
                miningBtn.textContent = 'Stop Mining';
                miningBtn.classList.remove('btn-mining');
                miningBtn.classList.add('mining-active');
            }
            
            // Update mining status text
            const miningStatus = document.getElementById('miningStatusText');
            if (miningStatus) {
                miningStatus.textContent = 'Mining in progress...';
                miningStatus.style.color = '#10b981';
            }
        }

        function showMiningPersistenceNotice() {
            if (!user.mining) return;
            
            // Remove existing notice
            removeMiningPersistenceNotice();
            
            // Create notice
            const notice = document.createElement('div');
            notice.className = 'mining-persistence-notice';
            notice.id = 'miningPersistenceNotice';
            notice.innerHTML = `
                <i class="fas fa-sync-alt"></i>
                <strong>Mining Session Active</strong>: Your mining session will continue even if you close this page. 
                You'll receive 12 STC tokens when the session completes in ${formatTimeRemaining(user.miningEndTime - Date.now())}.
            `;
            
            // Add to mining page
            const miningStatusCard = document.querySelector('.mining-status');
            if (miningStatusCard) {
                miningStatusCard.appendChild(notice);
            }
        }

        function removeMiningPersistenceNotice() {
            const notice = document.getElementById('miningPersistenceNotice');
            if (notice) {
                notice.remove();
            }
        }

        function formatTimeRemaining(ms) {
            const hours = Math.floor(ms / (1000 * 60 * 60));
            const minutes = Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60));
            return `${hours}h ${minutes}m`;
        }

        // Animate numbers with counter effect
        function animateCounter(elementId, targetValue, duration = 2000) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            const currentText = element.textContent;
            const startValue = parseInt(currentText.replace(/[^0-9]/g, '')) || 0;
            const increment = (targetValue - startValue) / (duration / 16);
            let current = startValue;
            
            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= targetValue) || (increment < 0 && current <= targetValue)) {
                    current = targetValue;
                    clearInterval(timer);
                    element.classList.remove('animate');
                }
                
                element.textContent = Math.floor(current).toLocaleString();
                element.classList.add('animate');
            }, 16);
        }

        // Legal Modal Functions
        function showLegalModal(type) {
            const titles = {
                'terms': 'Terms of Service',
                'privacy': 'Privacy Policy',
                'cookies': 'Cookie Policy',
                'disclaimer': 'Disclaimer'
            };
            
            const contents = {
                'terms': `
                    <h3>STC-REWARDS Terms of Service</h3>
                    <p><strong>Last Updated: January 2026</strong></p>
                    
                    <h4>1. Acceptance of Terms</h4>
                    <p>By accessing and using STC-REWARDS, you agree to be bound by these Terms of Service. STC-REWARDS is a registration platform for STC Token mining and rewards.</p>
                    
                    <h4>2. Eligibility</h4>
                    <p>You must be at least 18 years old to use this platform. By registering, you confirm you meet all eligibility requirements.</p>
                    
                    <h4>3. STC Token Mining</h4>
                    <p>STC-REWARDS facilitates the mining of STC Tokens through a web-based interface. Mining rewards are distributed according to platform rules.</p>
                    
                    <h4>4. User Responsibilities</h4>
                    <p>You are responsible for maintaining the confidentiality of your account and password. All activities under your account are your responsibility.</p>
                    
                    <h4>5. Withdrawal Policy</h4>
                    <p>Withdrawals are processed according to platform rules. Minimum withdrawal amount is $5 USD (25000 coins). Processing times vary by method.</p>
                    
                    <h4>6. Referral Program</h4>
                    <p>Referral bonuses are awarded according to the current referral program terms. STC-REWARDS reserves the right to modify referral terms.</p>
                    
                    <h4>7. Platform Changes</h4>
                    <p>We reserve the right to modify, suspend, or discontinue any aspect of the platform at any time.</p>
                    
                    <h4>8. Limitation of Liability</h4>
                    <p>STC-REWARDS is not liable for any indirect, incidental, or consequential damages arising from platform use.</p>
                    
                    <h4>9. Governing Law</h4>
                    <p>These terms are governed by applicable laws. Disputes shall be resolved through arbitration.</p>
                `,
                'privacy': `
                    <h3>Privacy Policy</h3>
                    <p><strong>Last Updated: January 2026</strong></p>
                    
                    <h4>1. Information We Collect</h4>
                    <p>We collect information you provide during registration, including email, name, and date of birth. We also collect usage data and mining activity.</p>
                    
                    <h4>2. How We Use Information</h4>
                    <p>Your information is used to provide platform services, process withdrawals, improve user experience, and communicate important updates.</p>
                    
                    <h4>3. Data Security</h4>
                    <p>We implement security measures to protect your data. However, no internet transmission is completely secure.</p>
                    
                    <h4>4. Third-Party Services</h4>
                    <p>We use Firebase for authentication and data storage. Third-party services have their own privacy policies.</p>
                    
                    <h4>5. Cookies and Tracking</h4>
                    <p>We use cookies to enhance user experience and analyze platform usage.</p>
                    
                    <h4>6. Your Rights</h4>
                    <p>You may request access to your data or account deletion by contacting us.</p>
                    
                    <h4>7. Children's Privacy</h4>
                    <p>Our platform is not intended for users under 18 years old.</p>
                    
                    <h4>8. Policy Updates</h4>
                    <p>We may update this policy. Continued use constitutes acceptance of changes.</p>
                `,
                'cookies': `
                    <h3>Cookie Policy</h3>
                    <p><strong>Last Updated: January 2026</strong></p>
                    
                    <h4>1. What Are Cookies</h4>
                    <p>Cookies are small text files stored on your device when you visit our platform.</p>
                    
                    <h4>2. How We Use Cookies</h4>
                    <p>We use cookies for authentication, session management, and analytics. Cookies help us provide a better user experience.</p>
                    
                    <h4>3. Essential Cookies</h4>
                    <p>These cookies are necessary for platform functionality, including login sessions and mining tracking.</p>
                    
                    <h4>4. Analytics Cookies</h4>
                    <p>We use analytics cookies to understand how users interact with our platform and improve our services.</p>
                    
                    <h4>5. Third-Party Cookies</h4>
                    <p>Third-party services like Firebase may set cookies for authentication and data storage.</p>
                    
                    <h4>6. Managing Cookies</h4>
                    <p>You can control cookies through your browser settings. However, disabling cookies may affect platform functionality.</p>
                    
                    <h4>7. Updates to Policy</h4>
                    <p>We may update this cookie policy. Please review periodically.</p>
                `,
                'disclaimer': `
                    <h3>Disclaimer</h3>
                    <p><strong>Last Updated: January 2026</strong></p>
                    
                    <h4>1. Platform Nature</h4>
                    <p>STC-REWARDS is a registration platform for STC Token mining and rewards. It is not an investment platform.</p>
                    
                    <h4>2. STC Token Value</h4>
                    <p>STC Token values fluctuate based on market conditions. Past performance does not guarantee future results.</p>
                    
                    <h4>3. No Financial Advice</h4>
                    <p>Nothing on this platform constitutes financial advice. Users should conduct their own research.</p>
                    
                    <h4>4. Mining Rewards</h4>
                    <p>Mining rewards are subject to change based on platform rules and market conditions.</p>
                    
                    <h4>5. Withdrawal Processing</h4>
                    <p>Withdrawal processing times may vary. STC-REWARDS is not responsible for delays in third-party processing.</p>
                    
                    <h4>6. Technical Issues</h4>
                    <p>We are not liable for losses due to technical issues, maintenance, or platform downtime.</p>
                    
                    <h4>7. External Links</h4>
                    <p>We are not responsible for content on external websites linked from our platform.</p>
                    
                    <h4>8. User Responsibility</h4>
                    <p>Users are responsible for their own actions and decisions on the platform.</p>
                    
                    <h4>9. Platform Availability</h4>
                    <p>We do not guarantee uninterrupted platform access. Maintenance may occur without notice.</p>
                `
            };
            
            // Create modal
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 700px; max-height: 80vh; overflow-y: auto;">
                    <button class="close-modal" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h2 class="form-title">${titles[type]}</h2>
                    <div class="legal-content" style="margin-top: 20px; line-height: 1.6; color: #cbd5e1;">
                        ${contents[type]}
                    </div>
                    <button class="btn btn-primary" onclick="this.parentElement.parentElement.remove()" style="margin-top: 30px; width: 100%;">
                        <i class="fas fa-check"></i> I Understand
                    </button>
                </div>
            `;
            
            // Add to page
            document.body.appendChild(modal);
            
            // Close on outside click
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.remove();
                }
            });
        }

        // Setup navigation click handlers
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const pageId = this.getAttribute('onclick')?.match(/showPage\('([^']+)'/)?.[1];
                if (pageId) {
                    showPage(pageId, e);
                }
            });
        });

        // Initialize counters
        setInterval(() => {
            // Update growing numbers animation
            document.querySelectorAll('.growing-number').forEach(element => {
                element.classList.toggle('growing-number');
                setTimeout(() => element.classList.toggle('growing-number'), 100);
            });
            
            // Update price fluctuation animation
            document.querySelectorAll('.price-fluctuation').forEach(element => {
                element.classList.toggle('price-fluctuation');
                setTimeout(() => element.classList.toggle('price-fluctuation'), 100);
            });
        }, 5000);

        // Final initialization
        setTimeout(() => {
            // Ensure UI is updated
            updateUI();
            
            // Check for any pending notifications
            if (user.loggedIn) {
                // Check daily login
                checkDailyLoginStatus();
                
                // Check mining
                checkAndRestoreMining();
                
                // Check spin cooldown
                checkSpinCooldown();
            }
            
            // Show welcome message for new users
            if (!localStorage.getItem('welcome_shown')) {
                setTimeout(() => {
                    showNotification('Welcome to STC-REWARDS 2026 Launch! Start earning STC tokens today!');
                    localStorage.setItem('welcome_shown', 'true');
                }, 2000);
            }
        }, 1000);
    </script>
</body>
</html>
